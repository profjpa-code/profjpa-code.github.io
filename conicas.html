<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secciones Cónicas - Matemática 5° Año Educación Secundaria</title>
    <meta name="description" content="Recurso educativo para el aprendizaje de secciones cónicas y sus aplicaciones">
    <meta name="keywords" content="secciones cónicas, circunferencia, elipse, parábola, hipérbola, geometría analítica">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            /* Paleta de colores inspirada en matemáticas y geometría */
            --matematica-oscuro: #1A3A5F;
            --matematica-medio: #2E5C8A;
            --matematica-claro: #4A7BA7;
            --matematica-acentos: #E63946;
            --matematica-secundario: #457B9D;
            --matematica-fondo: #F1FAEE;
            --matematica-texto: #1D3557;
            --matematica-exito: #06D6A0;
            --matematica-advertencia: #FFD166;
            --blanco: #FFFFFF;
            --gris: #E0E0E0;
            --gris-oscuro: #555555;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--matematica-fondo);
            color: var(--matematica-texto);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(to right, var(--matematica-oscuro), var(--matematica-medio));
            color: var(--blanco);
            padding: 25px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            font-weight: 300;
        }
        
        .institucion {
            margin-top: 15px;
            font-size: 1rem;
            font-style: italic;
            opacity: 0.9;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--matematica-medio);
            flex-wrap: wrap;
        }
        
        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background-color: var(--matematica-claro);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            color: var(--blanco);
            transition: background-color 0.3s, transform 0.2s;
        }
        
        .tab-button:hover {
            background-color: var(--matematica-medio);
            transform: translateY(-2px);
        }
        
        .tab-button.active {
            background-color: var(--matematica-oscuro);
            border-bottom: 3px solid var(--matematica-acentos);
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            background-color: var(--blanco);
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .concept-banner {
            background-color: var(--matematica-secundario);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .definition-box {
            background-color: var(--gris);
            border-left: 5px solid var(--matematica-acentos);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .example-box {
            background-color: var(--matematica-fondo);
            border: 1px solid var(--matematica-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .example-title {
            color: var(--matematica-oscuro);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .solution-button {
            background-color: var(--matematica-medio);
            color: var(--blanco);
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .solution-button:hover {
            background-color: var(--matematica-oscuro);
            transform: translateY(-2px);
        }
        
        .solution {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--gris);
            border-radius: 5px;
        }
        
        .exercise-box {
            background-color: var(--blanco);
            border: 2px solid var(--matematica-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .quiz-container {
            background-color: var(--matematica-fondo);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .question {
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            margin-left: 20px;
        }
        
        .option {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .option:hover {
            background-color: rgba(74, 123, 167, 0.1);
        }
        
        .option input {
            margin-right: 10px;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
            font-weight: 500;
        }
        
        .correct {
            background-color: rgba(6, 214, 160, 0.2);
            color: #04805a;
            border-left: 4px solid var(--matematica-exito);
        }
        
        .incorrect {
            background-color: rgba(230, 57, 70, 0.2);
            color: #b73140;
            border-left: 4px solid var(--matematica-acentos);
        }
        
        .submit-button {
            background-color: var(--matematica-secundario);
            color: var(--blanco);
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .submit-button:hover {
            background-color: var(--matematica-medio);
            transform: translateY(-2px);
        }
        
        .application-box {
            background-color: rgba(69, 123, 157, 0.15);
            border-left: 5px solid var(--matematica-secundario);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .application-title {
            color: var(--matematica-secundario);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .process-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            background-color: var(--matematica-oscuro);
            color: var(--blanco);
            border-radius: 10px;
        }
        
        /* Estilos para las mejoras */
        .graph-container {
            background-color: var(--blanco);
            border: 2px solid var(--matematica-claro);
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        canvas {
            border: 1px solid var(--gris);
            border-radius: 5px;
            max-width: 100%;
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .control-button {
            background-color: var(--matematica-medio);
            color: var(--blanco);
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .control-button:hover {
            background-color: var(--matematica-oscuro);
            transform: translateY(-2px);
        }
        
        .slider-container {
            margin: 10px;
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 8px 12px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .slider-container label {
            margin-right: 10px;
            font-weight: bold;
            color: var(--matematica-oscuro);
        }
        
        input[type="range"] {
            width: 150px;
        }
        
        .history-timeline {
            position: relative;
            margin: 30px 0;
            padding: 20px 0;
        }
        
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--matematica-medio);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            width: 45%;
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
            text-align: right;
            padding-right: 60px;
        }
        
        .timeline-item:nth-child(even) {
            left: 55%;
            padding-left: 60px;
        }
        
        .timeline-dot {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--matematica-oscuro);
            top: 5px;
        }
        
        .timeline-item:nth-child(odd) .timeline-dot {
            right: -10px;
        }
        
        .timeline-item:nth-child(even) .timeline-dot {
            left: -10px;
        }
        
        .timeline-content {
            background-color: var(--matematica-fondo);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .timeline-year {
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 5px;
        }
        
        .concept-map {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }
        
        .map-row {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .map-node {
            background-color: var(--matematica-claro);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            position: relative;
            transition: transform 0.3s, background-color 0.3s;
        }
        
        .map-node:hover {
            transform: translateY(-5px);
            background-color: var(--matematica-medio);
        }
        
        .map-node.highlight {
            background-color: var(--matematica-secundario);
            transform: scale(1.1);
        }
        
        .map-arrow {
            color: var(--matematica-oscuro);
            font-size: 1.5rem;
            margin: 0 10px;
            align-self: center;
        }
        
        .general-applications {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .app-card {
            background-color: var(--blanco);
            border: 1px solid var(--matematica-claro);
            border-radius: 8px;
            padding: 18px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .app-icon {
            font-size: 2rem;
            color: var(--matematica-medio);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .app-title {
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .variable-explanation {
            background-color: rgba(255, 209, 102, 0.2);
            border-left: 4px solid var(--matematica-advertencia);
            padding: 12px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
            font-style: italic;
        }
        
        .value-display {
            background-color: rgba(74, 123, 167, 0.1);
            border: 1px solid var(--matematica-secundario);
            border-radius: 8px;
            padding: 18px;
            margin: 18px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .value-row {
            display: flex;
            justify-content: space-around;
            margin: 12px 0;
            flex-wrap: wrap;
        }
        
        .value-item {
            margin: 8px 15px;
            padding: 8px 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .value-label {
            color: var(--matematica-secundario);
            font-size: 0.9rem;
        }
        
        .value-number {
            font-size: 1.2rem;
            color: var(--matematica-oscuro);
        }
        
        .formula-box {
            background-color: #F5F5F5;
            border: 1px solid #DDD;
            border-radius: 8px;
            padding: 18px;
            margin: 18px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .step-box {
            background-color: rgba(6, 214, 160, 0.15);
            border-left: 4px solid var(--matematica-exito);
            padding: 15px;
            margin: 18px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .step-title {
            color: var(--matematica-exito);
            font-weight: bold;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .construction-steps {
            background-color: rgba(241, 248, 233, 0.5);
            border: 1px solid var(--matematica-exito);
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .construction-title {
            color: var(--matematica-exito);
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .step-item {
            margin-bottom: 20px;
            padding-left: 35px;
            position: relative;
        }
        
        .step-number {
            position: absolute;
            left: 0;
            top: 0;
            background-color: var(--matematica-exito);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .step-content {
            padding-left: 12px;
        }
        
        .step-formula {
            background-color: rgba(6, 214, 160, 0.1);
            padding: 12px;
            border-radius: 5px;
            margin: 12px 0;
            text-align: center;
        }
        
        .step-explanation {
            font-style: italic;
            color: var(--gris-oscuro);
            margin-top: 8px;
        }
        
        .delta-explanation {
            background-color: rgba(69, 123, 157, 0.15);
            border-left: 4px solid var(--matematica-secundario);
            padding: 18px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .delta-title {
            color: var(--matematica-secundario);
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 12px;
        }
        
        /* Estilos para la pestaña de bibliografía */
        .bibliography-section {
            margin-bottom: 35px;
        }
        
        .bibliography-title {
            color: var(--matematica-oscuro);
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 18px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--matematica-medio);
        }
        
        .reference-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .reference-item {
            background-color: #F9F9F9;
            border-left: 4px solid var(--matematica-medio);
            padding: 15px 18px;
            margin-bottom: 15px;
            border-radius: 0 5px 5px 0;
            transition: transform 0.3s ease, background-color 0.3s;
        }
        
        .reference-item:hover {
            transform: translateX(8px);
            background-color: #F1F1F1;
        }
        
        .reference-type {
            display: inline-block;
            background-color: var(--matematica-claro);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .reference-title {
            font-weight: bold;
            color: var(--matematica-oscuro);
        }
        
        .reference-authors {
            font-style: italic;
            color: #555;
        }
        
        .reference-publisher {
            color: #666;
            font-size: 0.9rem;
        }
        
        .reference-link {
            color: var(--matematica-secundario);
            text-decoration: none;
            font-weight: bold;
        }
        
        .reference-link:hover {
            text-decoration: underline;
        }
        
        .reference-description {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .bibliography-note {
            background-color: rgba(255, 209, 102, 0.2);
            border-left: 4px solid var(--matematica-advertencia);
            padding: 18px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Estilos para el modo de accesibilidad */
        .accessibility-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--matematica-oscuro);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .accessibility-menu {
            position: fixed;
            bottom: 90px;
            right: 20px;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            min-width: 250px;
        }
        
        .accessibility-option {
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .accessibility-option label {
            flex-grow: 1;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--matematica-secundario);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* Estilos para modo alto contraste */
        body.high-contrast {
            background-color: #000;
            color: #FFF;
        }
        
        body.high-contrast .container {
            background-color: #000;
        }
        
        body.high-contrast header,
        body.high-contrast .tab-button,
        body.high-contrast .concept-banner,
        body.high-contrast .submit-button,
        body.high-contrast .control-button,
        body.high-contrast .solution-button,
        body.high-contrast footer {
            background-color: #000;
            color: #FFF;
            border: 2px solid #FFF;
        }
        
        body.high-contrast .tab-content,
        body.high-contrast .definition-box,
        body.high-contrast .example-box,
        body.high-contrast .exercise-box,
        body.high-contrast .quiz-container,
        body.high-contrast .graph-container,
        body.high-contrast .application-box {
            background-color: #000;
            color: #FFF;
            border: 2px solid #FFF;
        }
        
        /* Estilos para texto grande */
        body.large-text {
            font-size: 1.2em;
        }
        
        body.large-text h1 {
            font-size: 2.8em;
        }
        
        body.large-text h2 {
            font-size: 2.2em;
        }
        
        body.large-text h3 {
            font-size: 1.8em;
        }
        
        /* Estilos para modo disléxico */
        body.dyslexic {
            font-family: 'OpenDyslexic', 'Comic Sans MS', sans-serif;
            line-height: 1.8;
        }
        
        /* Estilos para indicador de progreso */
        .progress-container {
            margin: 20px 0;
            background-color: var(--gris);
            border-radius: 10px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 20px;
            background: linear-gradient(to right, var(--matematica-claro), var(--matematica-secundario));
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-weight: bold;
            color: var(--matematica-oscuro);
        }
        
        /* Estilos para el botón de navegación */
        .navigation-container {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
        }
        
        .nav-button {
            background-color: var(--matematica-medio);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
            display: flex;
            align-items: center;
        }
        
        .nav-button:hover {
            background-color: var(--matematica-oscuro);
            transform: translateY(-2px);
        }
        
        .nav-button i {
            margin: 0 10px;
        }
        
        .nav-button.prev i {
            order: -1;
        }
        
        /* Estilos para el modelo 3D */
        #cone3dCanvas {
            width: 100%;
            height: 450px;
            border-radius: 8px;
        }
        
        .section-preview {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .preview-item {
            text-align: center;
            margin: 10px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .preview-item:hover {
            transform: translateY(-5px);
        }
        
        .preview-icon {
            font-size: 2rem;
            color: var(--matematica-medio);
            margin-bottom: 10px;
        }
        
        .preview-title {
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 5px;
        }
        
        .preview-description {
            font-size: 0.9rem;
            color: var(--gris-oscuro);
        }
        
        /* Estilos para ejemplos aplicados */
        .applied-example {
            background-color: rgba(69, 123, 157, 0.1);
            border-left: 5px solid var(--matematica-secundario);
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .applied-title {
            color: var(--matematica-secundario);
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .applied-title i {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .applied-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .applied-text {
            flex: 1;
            min-width: 300px;
        }
        
        .applied-image {
            flex: 1;
            min-width: 300px;
            text-align: center;
        }
        
        .applied-image img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        /* Estilos para la visualización 3D mejorada */
        .visualization-container {
            display: flex;
            gap: 20px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .visualization-3d {
            flex: 2;
            min-width: 300px;
        }
        
        .intersection-info {
            flex: 1;
            min-width: 250px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .intersection-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .intersection-image {
            width: 100%;
            height: 200px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .intersection-equation {
            background-color: var(--gris);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .intersection-description {
            font-style: italic;
            color: var(--gris-oscuro);
            margin-bottom: 15px;
        }
        
        /* Estilos para la pestaña de curiosidades */
        .curiosity-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .curiosity-card {
            background-color: var(--blanco);
            border: 1px solid var(--matematica-claro);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .curiosity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .curiosity-icon {
            font-size: 2.5rem;
            color: var(--matematica-medio);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .curiosity-title {
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .curiosity-content {
            flex-grow: 1;
        }
        
        /* Estilos para la sección de ejercicios adicionales */
        .additional-exercises {
            margin-top: 30px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .exercises-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--matematica-oscuro);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .exercise-item {
            background-color: var(--blanco);
            border: 1px solid var(--matematica-claro);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .exercise-question {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* Estilos responsivos */
        @media (max-width: 768px) {
            .tab-button {
                font-size: 0.9rem;
                padding: 12px 5px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .timeline-item {
                width: 100%;
                left: 0 !important;
                padding-left: 60px !important;
                padding-right: 0 !important;
                text-align: left !important;
            }
            
            .timeline-dot {
                left: -10px !important;
                right: auto !important;
            }
            
            .timeline-line {
                left: 20px;
            }
            
            .value-row {
                flex-direction: column;
            }
            
            .accessibility-menu {
                right: 10px;
                left: 10px;
                min-width: auto;
            }
            
            .applied-content {
                flex-direction: column;
            }
            
            .visualization-container {
                flex-direction: column;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=OpenDyslexic&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>Secciones Cónicas</h1>
            <p class="subtitle">5° Año - Educación Secundaria - Matemática</p>
            <p class="institucion">Ministerio de Educación de la Provincia de Córdoba - Dirección General de Educación Secundaria</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-text" id="progressText">Progreso: 0%</div>
        </div>
        
        <div class="tab-container">
            <button class="tab-button active" onclick="openTab(event, 'introduccion')">
                <i class="fas fa-shapes"></i> Introducción a las Cónicas
            </button>
            <button class="tab-button" onclick="openTab(event, 'circunferencia')">
                <i class="fas fa-circle"></i> Circunferencia
            </button>
            <button class="tab-button" onclick="openTab(event, 'elipse')">
                <i class="fas fa-egg"></i> Elipse
            </button>
            <button class="tab-button" onclick="openTab(event, 'parabola')">
                <i class="fas fa-chart-line"></i> Parábola
            </button>
            <button class="tab-button" onclick="openTab(event, 'hiperbola')">
                <i class="fas fa-infinity"></i> Hipérbola
            </button>
            <button class="tab-button" onclick="openTab(event, 'historia')">
                <i class="fas fa-history"></i> Marco Histórico
            </button>
            <button class="tab-button" onclick="openTab(event, 'sintesis')">
                <i class="fas fa-project-diagram"></i> Síntesis Conceptual
            </button>
            <button class="tab-button" onclick="openTab(event, 'aplicaciones')">
                <i class="fas fa-industry"></i> Aplicaciones
            </button>
            <button class="tab-button" onclick="openTab(event, 'curiosidades')">
                <i class="fas fa-lightbulb"></i> Curiosidades
            </button>
            <button class="tab-button" onclick="openTab(event, 'bibliografia')">
                <i class="fas fa-book"></i> Bibliografía
            </button>
        </div>
        
        <div class="navigation-container">
            <button class="nav-button prev" onclick="navigateTab(-1)">
                <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <button class="nav-button next" onclick="navigateTab(1)">
                Siguiente <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <!-- INTRODUCCIÓN -->
        <div id="introduccion" class="tab-content active">
            <div class="concept-banner">
                <span class="process-icon">📐</span> Secciones Cónicas: Intersección de una Superficie Cónica con un Plano
            </div>
            
            <div class="definition-box">
                <h3>¿Qué son las secciones cónicas?</h3>
                <p>Las secciones cónicas son las curvas que se obtienen al intersectar un cono con un plano. Dependiendo del ángulo de intersección, se pueden obtener cuatro tipos de curvas: circunferencia, elipse, parábola e hipérbola.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva 3D: Cono y Planos de Corte</h3>
                <div class="visualization-container">
                    <div class="visualization-3d">
                        <canvas id="cone3dCanvas"></canvas>
                        <div class="controls">
                            <div class="slider-container">
                                <label for="angleSlider">Ángulo del plano:</label>
                                <input type="range" id="angleSlider" min="0" max="90" step="1" value="45">
                            </div>
                            <div class="slider-container">
                                <label for="positionSlider">Posición del plano:</label>
                                <input type="range" id="positionSlider" min="-5" max="5" step="0.1" value="0">
                            </div>
                            <button class="control-button" onclick="toggleConeRotation()">
                                <i class="fas fa-sync-alt"></i> Rotar Cono
                            </button>
                            <button class="control-button" onclick="resetConeGraph()">
                                <i class="fas fa-redo"></i> Reiniciar Gráfico
                            </button>
                        </div>
                    </div>
                    <div class="intersection-info">
                        <div class="intersection-title">Información de la Intersección</div>
                        <div class="intersection-image" id="intersectionImage">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png" alt="Secciones cónicas" id="intersectionImg">
                        </div>
                        <div class="intersection-equation" id="intersectionEquation">
                            Ecuación: Elipse
                        </div>
                        <div class="intersection-description" id="intersectionDescription">
                            El plano intersecta el cono formando una elipse. El ángulo es menor que el de la generatriz pero mayor que cero.
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section-preview">
                <div class="preview-item">
                    <div class="preview-icon"><i class="fas fa-circle"></i></div>
                    <div class="preview-title">Circunferencia</div>
                    <div class="preview-description">Plano perpendicular al eje del cono</div>
                </div>
                <div class="preview-item">
                    <div class="preview-icon"><i class="fas fa-egg"></i></div>
                    <div class="preview-title">Elipse</div>
                    <div class="preview-description">Plano inclinado respecto al eje</div>
                </div>
                <div class="preview-item">
                    <div class="preview-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="preview-title">Parábola</div>
                    <div class="preview-description">Plano paralelo a una generatriz</div>
                </div>
                <div class="preview-item">
                    <div class="preview-icon"><i class="fas fa-infinity"></i></div>
                    <div class="preview-title">Hipérbola</div>
                    <div class="preview-description">Plano vertical cortando ambas ramas</div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Tipos de Secciones Cónicas</div>
                <p>Dependiendo del ángulo y la posición del plano al intersectar el cono, obtenemos diferentes curvas:</p>
                <ol>
                    <li><strong>Circunferencia:</strong> Se forma cuando el plano es perpendicular al eje del cono y no pasa por el vértice.</li>
                    <li><strong>Elipse:</strong> Se forma cuando el plano está inclinado respecto al eje del cono, pero con un ángulo menor que el de la generatriz, y no pasa por el vértice.</li>
                    <li><strong>Parábola:</strong> Se forma cuando el plano es paralelo a una generatriz del cono.</li>
                    <li><strong>Hipérbola:</strong> Se forma cuando el plano forma un ángulo mayor que el de la generatriz con el eje del cono, o cuando es paralelo al eje y corta ambas ramas del cono.</li>
                </ol>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Identificación de secciones cónicas</div>
                <p>Observa las siguientes imágenes de intersección entre un cono y un plano. Identifica qué tipo de sección cónica se forma en cada caso:</p>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Caso 1:</div>
                            <div class="value-number">Plano perpendicular al eje</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Caso 2:</div>
                            <div class="value-number">Plano paralelo a una generatriz</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Caso 3:</div>
                            <div class="value-number">Plano inclinado (ángulo menor que la generatriz)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Caso 4:</div>
                            <div class="value-number">Plano vertical (cortando ambas ramas)</div>
                        </div>
                    </div>
                </div>
                <button class="solution-button" onclick="toggleSolution('solIntro')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solIntro" class="solution">
                    <p><strong>Respuestas:</strong></p>
                    <ul>
                        <li>Caso 1: <strong>Circunferencia</strong> - El plano es perpendicular al eje del cono.</li>
                        <li>Caso 2: <strong>Parábola</strong> - El plano es paralelo a una generatriz del cono.</li>
                        <li>Caso 3: <strong>Elipse</strong> - El plano está inclinado con un ángulo menor que el de la generatriz.</li>
                        <li>Caso 4: <strong>Hipérbola</strong> - El plano es vertical y corta ambas ramas del cono.</li>
                    </ul>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-satellite"></i> Aplicación: Órbitas Planetarias
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Las secciones cónicas no son solo figuras geométricas abstractas, sino que tienen aplicaciones fundamentales en la astronomía. Por ejemplo, las órbitas de los planetas alrededor del Sol son elipses, como descubrió Johannes Kepler en el siglo XVII.</p>
                        <p>Los cometas pueden seguir trayectorias elípticas, parabólicas o hiperbólicas dependiendo de su energía. Los cometas con órbitas elípticas regresan periódicamente, mientras que los que siguen trayectorias parabólicas o hiperbólicas solo pasan una vez por el sistema solar.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Kepler_laws_diagram.svg/600px-Kepler_laws_diagram.svg.png" alt="Órbitas planetarias como elipses">
                    </div>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Imagina que tienes un cono circular recto y un plano. Describe cómo deberías posicionar el plano para obtener cada una de las secciones cónicas. ¿Qué sucede si el plano pasa por el vértice del cono?</p>
                <button class="solution-button" onclick="toggleSolution('exIntro')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="exIntro" class="solution">
                    <p><strong>Posicionamiento del plano para obtener cada sección cónica:</strong></p>
                    <ul>
                        <li><strong>Circunferencia:</strong> El plano debe ser perpendicular al eje del cono y no pasar por el vértice.</li>
                        <li><strong>Elipse:</strong> El plano debe estar inclinado respecto al eje del cono, con un ángulo menor que el de la generatriz, y no pasar por el vértice.</li>
                        <li><strong>Parábola:</strong> El plano debe ser paralelo a una generatriz del cono y no pasar por el vértice.</li>
                        <li><strong>Hipérbola:</strong> El plano debe formar un ángulo mayor que el de la generatriz con el eje del cono, o ser paralelo al eje, y no pasar por el vértice.</li>
                    </ul>
                    <p><strong>Si el plano pasa por el vértice del cono:</strong></p>
                    <ul>
                        <li>Si el plano es perpendicular al eje: obtenemos un punto (el vértice).</li>
                        <li>Si el plano está inclinado: obtenemos una pareja de rectas que se cruzan en el vértice.</li>
                        <li>Si el plano es tangente al cono: obtenemos una recta (una generatriz).</li>
                    </ul>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Introducción</h3>
                <div class="question">1. ¿Qué curva se obtiene al intersectar un cono con un plano perpendicular a su eje?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qIntro1" value="a" id="qIntro1a">
                        <label for="qIntro1a">Una elipse</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qIntro1" value="b" id="qIntro1b">
                        <label for="qIntro1b">Una circunferencia</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qIntro1" value="c" id="qIntro1c">
                        <label for="qIntro1c">Una parábola</label>
                    </div>
                </div>
                <div id="feedbackIntro1" class="feedback"></div>
                
                <div class="question">2. ¿Qué condición debe cumplir un plano para generar una parábola al intersectar un cono?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qIntro2" value="a" id="qIntro2a">
                        <label for="qIntro2a">Ser perpendicular al eje del cono</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qIntro2" value="b" id="qIntro2b">
                        <label for="qIntro2b">Ser paralelo a una generatriz del cono</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qIntro2" value="c" id="qIntro2c">
                        <label for="qIntro2c">Formar un ángulo mayor que el de la generatriz con el eje</label>
                    </div>
                </div>
                <div id="feedbackIntro2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizIntro')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- CIRCUNFERENCIA -->
        <div id="circunferencia" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">⭕</span> Circunferencia: Definición y Ecuación Cartesiana
            </div>
            
            <div class="definition-box">
                <h3>Definición de Circunferencia</h3>
                <p>La circunferencia es el lugar geométrico de los puntos del plano que equidistan de un punto fijo llamado centro. La distancia constante desde cualquier punto de la circunferencia hasta el centro se llama radio.</p>
            </div>
            
            <div class="definition-box">
                <h3>Ecuación Cartesiana de la Circunferencia</h3>
                <p>Si el centro de la circunferencia está en el punto C(h, k) y tiene un radio r, entonces su ecuación cartesiana es:</p>
                <div class="formula-box">
                    $(x - h)^2 + (y - k)^2 = r^2$
                </div>
                <p>Cuando el centro está en el origen (0, 0), la ecuación se simplifica a:</p>
                <div class="formula-box">
                    $x^2 + y^2 = r^2$
                </div>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Circunferencia</h3>
                <canvas id="circleCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="centerXSlider">Centro X:</label>
                        <input type="range" id="centerXSlider" min="-3" max="3" step="0.1" value="0">
                    </div>
                    <div class="slider-container">
                        <label for="centerYSlider">Centro Y:</label>
                        <input type="range" id="centerYSlider" min="-3" max="3" step="0.1" value="0">
                    </div>
                    <div class="slider-container">
                        <label for="radiusSlider">Radio:</label>
                        <input type="range" id="radiusSlider" min="0.5" max="4" step="0.1" value="2">
                    </div>
                    <button class="control-button" onclick="toggleEquation()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Ecuación
                    </button>
                    <button class="control-button" onclick="resetCircleGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display" id="equationDisplay" style="display:none;">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Ecuación:</div>
                            <div class="value-number" id="equationText">(x - 0)² + (y - 0)² = 2²</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Obtención de la Ecuación de la Circunferencia</div>
                <p>Para obtener la ecuación de la circunferencia, utilizamos la definición de distancia entre dos puntos:</p>
                <ol>
                    <li>Sea C(h, k) el centro de la circunferencia y P(x, y) un punto cualquiera de la misma.</li>
                    <li>Por definición, la distancia entre C y P es igual al radio r.</li>
                    <li>Aplicando la fórmula de la distancia entre dos puntos:</li>
                </ol>
                <div class="formula-box">
                    $\sqrt{(x - h)^2 + (y - k)^2} = r$
                </div>
                <p>4. Elevando ambos miembros al cuadrado para eliminar la raíz:</p>
                <div class="formula-box">
                    $(x - h)^2 + (y - k)^2 = r^2$
                </div>
                <p>Esta es la ecuación cartesiana de la circunferencia con centro en (h, k) y radio r.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Ecuación de una circunferencia con centro en (2, -3) y radio 4</div>
                <p>Encontrar la ecuación de la circunferencia que tiene su centro en el punto (2, -3) y un radio de 4 unidades.</p>
                <button class="solution-button" onclick="toggleSolution('solCirc1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solCirc1" class="solution">
                    <p>Utilizamos la fórmula general de la circunferencia:</p>
                    <div class="formula-box">
                        $(x - h)^2 + (y - k)^2 = r^2$
                    </div>
                    <p>Donde el centro es C(h, k) = (2, -3) y el radio es r = 4.</p>
                    <p>Sustituyendo estos valores en la fórmula:</p>
                    <div class="formula-box">
                        $(x - 2)^2 + (y - (-3))^2 = 4^2$
                    </div>
                    <div class="formula-box">
                        $(x - 2)^2 + (y + 3)^2 = 16$
                    </div>
                    <p>Esta es la ecuación de la circunferencia con centro en (2, -3) y radio 4.</p>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Hallar el centro y el radio a partir de la ecuación desarrollada</div>
                <p>Dada la ecuación desarrollada de una circunferencia: $x^2 + y^2 - 6x + 4y - 12 = 0$, hallar su ecuación cartesiana, el centro y el radio.</p>
                <button class="solution-button" onclick="toggleSolution('solCirc2')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solCirc2" class="solution">
                    <p>Para hallar el centro y el radio, debemos completar cuadrados:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $x^2 - 6x + y^2 + 4y = 12$
                    </div>
                    <p>2. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $(x^2 - 6x + 9) + (y^2 + 4y + 4) = 12 + 9 + 4$
                    </div>
                    <div class="formula-box">
                        $(x - 3)^2 + (y + 2)^2 = 25$
                    </div>
                    <p>3. Identificamos el centro y el radio:</p>
                    <div class="formula-box">
                        Centro: (3, -2)<br>
                        Radio: $r = \sqrt{25} = 5$
                    </div>
                    <p>Por lo tanto, la ecuación cartesiana es $(x - 3)^2 + (y + 2)^2 = 25$, con centro en (3, -2) y radio 5.</p>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-satellite-dish"></i> Aplicación: Diseño de Antenas Parabólicas
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Las circunferencias tienen aplicaciones importantes en el diseño de antenas parabólicas. Aunque la parábola es la forma principal de estas antenas, la circunferencia se utiliza en el diseño de la estructura de soporte y en la base de la antena.</p>
                        <p>Además, en sistemas de posicionamiento global (GPS), las circunferencias se utilizan para modelar las señales de los satélites. Cada satélite transmite una señal que define una circunferencia en la superficie de la Tierra, y la intersección de varias de estas circunferencias permite determinar la posición exacta de un receptor.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Parabolic_antenna_at_Weber_Davis_County_Utah.jpg/800px-Parabolic_antenna_at_Weber_Davis_County_Utah.jpg" alt="Antena parabólica">
                    </div>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Dada la ecuación desarrollada de una circunferencia: $x^2 + y^2 + 8x - 10y + 5 = 0$, hallar su ecuación cartesiana, el centro y el radio.</p>
                <button class="solution-button" onclick="toggleSolution('exCirc1')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="exCirc1" class="solution">
                    <p>Completamos cuadrados para encontrar la ecuación cartesiana:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $x^2 + 8x + y^2 - 10y = -5$
                    </div>
                    <p>2. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $(x^2 + 8x + 16) + (y^2 - 10y + 25) = -5 + 16 + 25$
                    </div>
                    <div class="formula-box">
                        $(x + 4)^2 + (y - 5)^2 = 36$
                    </div>
                    <p>3. Identificamos el centro y el radio:</p>
                    <div class="formula-box">
                        Centro: (-4, 5)<br>
                        Radio: $r = \sqrt{36} = 6$
                    </div>
                    <p>Por lo tanto, la ecuación cartesiana es $(x + 4)^2 + (y - 5)^2 = 36$, con centro en (-4, 5) y radio 6.</p>
                </div>
            </div>
            
            <div class="additional-exercises">
                <div class="exercises-title">Ejercicios Adicionales</div>
                <div class="exercise-item">
                    <div class="exercise-question">1. Hallar la ecuación de la circunferencia que tiene como diámetro los puntos A(3, -2) y B(7, 4).</div>
                    <button class="solution-button" onclick="toggleSolution('exCircAdd1')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exCircAdd1" class="solution">
                        <p>El centro de la circunferencia es el punto medio del diámetro AB:</p>
                        <div class="formula-box">
                            C = $\left(\frac{3+7}{2}, \frac{-2+4}{2}\right) = (5, 1)$
                        </div>
                        <p>El radio es la mitad de la longitud del diámetro:</p>
                        <div class="formula-box">
                            $r = \frac{1}{2} \sqrt{(7-3)^2 + (4-(-2))^2} = \frac{1}{2} \sqrt{16 + 36} = \frac{1}{2} \sqrt{52} = \sqrt{13}$
                        </div>
                        <p>Por lo tanto, la ecuación de la circunferencia es:</p>
                        <div class="formula-box">
                            $(x - 5)^2 + (y - 1)^2 = 13$
                        </div>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-question">2. Determinar si el punto P(4, -1) pertenece a la circunferencia de ecuación $(x - 1)^2 + (y + 2)^2 = 25$.</div>
                    <button class="solution-button" onclick="toggleSolution('exCircAdd2')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exCircAdd2" class="solution">
                        <p>Sustituimos las coordenadas del punto P(4, -1) en la ecuación de la circunferencia:</p>
                        <div class="formula-box">
                            $(4 - 1)^2 + (-1 + 2)^2 = 3^2 + 1^2 = 9 + 1 = 10$
                        </div>
                        <p>Como 10 ≠ 25, el punto P(4, -1) no pertenece a la circunferencia.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Inecuaciones de la Circunferencia</h3>
                <p>Las inecuaciones asociadas a la circunferencia nos permiten determinar regiones del plano:</p>
                <ul>
                    <li><strong>Interior de la circunferencia:</strong> $(x - h)^2 + (y - k)^2 < r^2$</li>
                    <li><strong>Exterior de la circunferencia:</strong> $(x - h)^2 + (y - k)^2 > r^2$</li>
                    <li><strong>La circunferencia misma:</strong> $(x - h)^2 + (y - k)^2 = r^2$</li>
                </ul>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Inecuaciones de la Circunferencia</h3>
                <canvas id="inequalityCircleCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="inequalityType">Tipo de región:</label>
                        <select id="inequalityType">
                            <option value="interior">Interior de la circunferencia</option>
                            <option value="exterior">Exterior de la circunferencia</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="togglePoint()">
                        <i class="fas fa-map-marker-alt"></i> Mostrar/Ocultar Punto de Prueba
                    </button>
                    <button class="control-button" onclick="resetInequalityCircle()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Inecuación:</div>
                            <div class="value-number" id="inequalityText">x² + y² < 4</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Circunferencia</h3>
                <div class="question">1. ¿Cuál es la ecuación de una circunferencia con centro en (3, -2) y radio 5?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qCirc1" value="a" id="qCirc1a">
                        <label for="qCirc1a">$(x - 3)^2 + (y + 2)^2 = 25$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qCirc1" value="b" id="qCirc1b">
                        <label for="qCirc1b">$(x + 3)^2 + (y - 2)^2 = 5$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qCirc1" value="c" id="qCirc1c">
                        <label for="qCirc1c">$(x - 3)^2 + (y - 2)^2 = 25$</label>
                    </div>
                </div>
                <div id="feedbackCirc1" class="feedback"></div>
                
                <div class="question">2. ¿Cuál de las siguientes inecuaciones representa el interior de una circunferencia con centro en el origen y radio 3?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qCirc2" value="a" id="qCirc2a">
                        <label for="qCirc2a">$x^2 + y^2 > 9$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qCirc2" value="b" id="qCirc2b">
                        <label for="qCirc2b">$x^2 + y^2 < 9$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qCirc2" value="c" id="qCirc2c">
                        <label for="qCirc2c">$x^2 + y^2 = 9$</label>
                    </div>
                </div>
                <div id="feedbackCirc2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizCirc')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- ELIPSE -->
        <div id="elipse" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">⬭</span> Elipse: Definición y Ecuación Cartesiana
            </div>
            
            <div class="definition-box">
                <h3>Definición de Elipse</h3>
                <p>La elipse es el lugar geométrico de los puntos del plano cuya suma de distancias a dos puntos fijos llamados focos es constante. Esta constante es igual a la longitud del eje mayor (2a).</p>
            </div>
            
            <div class="definition-box">
                <h3>Elementos de la Elipse</h3>
                <ul>
                    <li><strong>Focos (F1, F2):</strong> Son los dos puntos fijos.</li>
                    <li><strong>Centro (C):</strong> Es el punto medio entre los dos focos.</li>
                    <li><strong>Eje mayor:</strong> Es el segmento que une los dos vértices más alejados. Su longitud es 2a.</li>
                    <li><strong>Eje menor:</strong> Es el segmento perpendicular al eje mayor que pasa por el centro. Su longitud es 2b.</li>
                    <li><strong>Vértices:</strong> Son los puntos de intersección de la elipse con sus ejes.</li>
                    <li><strong>Distancia focal (2c):</strong> Es la distancia entre los dos focos.</li>
                </ul>
                <p>En una elipse se cumple la relación: $a^2 = b^2 + c^2$</p>
            </div>
            
            <div class="definition-box">
                <h3>Ecuación Cartesiana de la Elipse</h3>
                <p>Si el centro de la elipse está en el punto C(h, k), con el eje mayor paralelo al eje X, entonces su ecuación cartesiana es:</p>
                <div class="formula-box">
                    $\frac{(x - h)^2}{a^2} + \frac{(y - k)^2}{b^2} = 1$
                </div>
                <p>Si el eje mayor es paralelo al eje Y, la ecuación es:</p>
                <div class="formula-box">
                    $\frac{(x - h)^2}{b^2} + \frac{(y - k)^2}{a^2} = 1$
                </div>
                <p>Cuando el centro está en el origen (0, 0), las ecuaciones se simplifican eliminando h y k.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Elipse</h3>
                <canvas id="ellipseCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="aSlider">Semieje mayor (a):</label>
                        <input type="range" id="aSlider" min="1" max="4" step="0.1" value="3">
                    </div>
                    <div class="slider-container">
                        <label for="bSlider">Semieje menor (b):</label>
                        <input type="range" id="bSlider" min="1" max="3" step="0.1" value="2">
                    </div>
                    <div class="slider-container">
                        <label for="orientationSlider">Orientación:</label>
                        <select id="orientationSlider">
                            <option value="horizontal">Eje mayor horizontal</option>
                            <option value="vertical">Eje mayor vertical</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleElements()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Elementos
                    </button>
                    <button class="control-button" onclick="resetEllipseGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display" id="ellipseElements" style="display:none;">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Ecuación:</div>
                            <div class="value-number" id="ellipseEquation">x²/9 + y²/4 = 1</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Foco 1:</div>
                            <div class="value-number" id="focus1">(-√5, 0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Foco 2:</div>
                            <div class="value-number" id="focus2">(√5, 0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Distancia focal (c):</div>
                            <div class="value-number" id="focalDistance">√5</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Obtención de la Ecuación de la Elipse</div>
                <p>Para obtener la ecuación de la elipse con centro en el origen y eje mayor horizontal:</p>
                <ol>
                    <li>Sea F1(-c, 0) y F2(c, 0) los focos de la elipse.</li>
                    <li>Sea P(x, y) un punto cualquiera de la elipse.</li>
                    <li>Por definición, la suma de distancias de P a los focos es constante e igual a 2a:</li>
                </ol>
                <div class="formula-box">
                    $d(P, F1) + d(P, F2) = 2a$
                </div>
                <p>4. Aplicando la fórmula de la distancia entre dos puntos:</p>
                <div class="formula-box">
                    $\sqrt{(x + c)^2 + y^2} + \sqrt{(x - c)^2 + y^2} = 2a$
                </div>
                <p>5. Despejando una de las raíces y elevando al cuadrado ambos miembros:</p>
                <div class="formula-box">
                    $\sqrt{(x + c)^2 + y^2} = 2a - \sqrt{(x - c)^2 + y^2}$
                    <br>
                    $(x + c)^2 + y^2 = 4a^2 - 4a\sqrt{(x - c)^2 + y^2} + (x - c)^2 + y^2$
                </div>
                <p>6. Simplificando y despejando la raíz restante:</p>
                <div class="formula-box">
                    $4cx - 4a^2 = -4a\sqrt{(x - c)^2 + y^2}$
                    <br>
                    $cx - a^2 = -a\sqrt{(x - c)^2 + y^2}$
                </div>
                <p>7. Elevando nuevamente al cuadrado y simplificando:</p>
                <div class="formula-box">
                    $c^2x^2 - 2a^2cx + a^4 = a^2(x^2 - 2cx + c^2 + y^2)$
                    <br>
                    $c^2x^2 - 2a^2cx + a^4 = a^2x^2 - 2a^2cx + a^2c^2 + a^2y^2$
                    <br>
                    $(c^2 - a^2)x^2 - a^2y^2 = a^2c^2 - a^4$
                    <br>
                    $-(a^2 - c^2)x^2 - a^2y^2 = a^2(c^2 - a^2)$
                </div>
                <p>8. Recordando que $b^2 = a^2 - c^2$:</p>
                <div class="formula-box">
                    $-b^2x^2 - a^2y^2 = -a^2b^2$
                    <br>
                    $b^2x^2 + a^2y^2 = a^2b^2$
                    <br>
                    $\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$
                    </div>
                    <p>Esta es la ecuación cartesiana de la elipse con centro en el origen y eje mayor horizontal.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Ecuación de una elipse con centro en (1, -2)</div>
                <p>Encontrar la ecuación de la elipse que tiene su centro en el punto (1, -2), semieje mayor a = 4 (horizontal) y semieje menor b = 2.</p>
                <button class="solution-button" onclick="toggleSolution('solElip1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solElip1" class="solution">
                    <p>Utilizamos la fórmula general de la elipse con eje mayor horizontal:</p>
                    <div class="formula-box">
                        $\frac{(x - h)^2}{a^2} + \frac{(y - k)^2}{b^2} = 1$
                    </div>
                    <p>Donde el centro es C(h, k) = (1, -2), el semieje mayor es a = 4 y el semieje menor es b = 2.</p>
                    <p>Sustituyendo estos valores en la fórmula:</p>
                    <div class="formula-box">
                        $\frac{(x - 1)^2}{4^2} + \frac{(y - (-2))^2}{2^2} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 1)^2}{16} + \frac{(y + 2)^2}{4} = 1$
                    </div>
                    <p>Esta es la ecuación de la elipse con centro en (1, -2), semieje mayor a = 4 (horizontal) y semieje menor b = 2.</p>
                    <p>Para encontrar los focos, calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = a^2 - b^2 = 16 - 4 = 12$
                        <br>
                        $c = \sqrt{12} = 2\sqrt{3}$
                    </div>
                    <p>Los focos están en $(1 \pm 2\sqrt{3}, -2)$.</p>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Hallar elementos a partir de la ecuación desarrollada</div>
                <p>Dada la ecuación desarrollada de una elipse: $9x^2 + 4y^2 - 36x + 8y - 31 = 0$, hallar su ecuación cartesiana, el centro, los semiejes y los focos.</p>
                <button class="solution-button" onclick="toggleSolution('solElip2')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solElip2" class="solution">
                    <p>Para hallar los elementos de la elipse, debemos completar cuadrados:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $9x^2 - 36x + 4y^2 + 8y = 31$
                    </div>
                    <p>2. Factorizamos los coeficientes de los términos cuadráticos:</p>
                    <div class="formula-box">
                        $9(x^2 - 4x) + 4(y^2 + 2y) = 31$
                    </div>
                    <p>3. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $9(x^2 - 4x + 4) + 4(y^2 + 2y + 1) = 31 + 36 + 4$
                    </div>
                    <div class="formula-box">
                        $9(x - 2)^2 + 4(y + 1)^2 = 71$
                    </div>
                    <p>4. Dividimos ambos miembros por 71 para obtener la forma estándar:</p>
                    <div class="formula-box">
                        $\frac{9(x - 2)^2}{71} + \frac{4(y + 1)^2}{71} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 2)^2}{71/9} + \frac{(y + 1)^2}{71/4} = 1$
                    </div>
                    <p>5. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Centro: (2, -1)<br>
                        $a^2 = 71/9 \Rightarrow a = \sqrt{71}/3 \approx 2.8$<br>
                        $b^2 = 71/4 \Rightarrow b = \sqrt{71}/2 \approx 4.2$
                    </div>
                    <p>Como b > a, el eje mayor es vertical.</p>
                    <p>6. Calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = b^2 - a^2 = 71/4 - 71/9 = 71(1/4 - 1/9) = 71(5/36) = 355/36$
                        <br>
                        $c = \sqrt{355}/6 \approx 3.2$
                    </div>
                    <p>Los focos están en $(2, -1 \pm \sqrt{355}/6)$.</p>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-satellite"></i> Aplicación: Órbitas Planetarias
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Una de las aplicaciones más importantes de las elipses es en la astronomía. Johannes Kepler descubrió en el siglo XVII que los planetas se mueven alrededor del Sol siguiendo órbitas elípticas, con el Sol en uno de los focos. Este descubrimiento revolucionó nuestra comprensión del sistema solar.</p>
                        <p>La primera ley de Kepler, conocida como la ley de las órbitas, establece que "la órbita de cada planeta es una elipse con el Sol en uno de sus focos". Esta ley fue fundamental para el desarrollo posterior de la ley de la gravitación universal de Isaac Newton.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Kepler_laws_diagram.svg/600px-Kepler_laws_diagram.svg.png" alt="Órbitas planetarias como elipses">
                    </div>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Dada la ecuación desarrollada de una elipse: $4x^2 + 25y^2 - 16x + 50y - 59 = 0$, hallar su ecuación cartesiana, el centro, los semiejes y los focos.</p>
                <button class="solution-button" onclick="toggleSolution('exElip1')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="exElip1" class="solution">
                    <p>Completamos cuadrados para encontrar la ecuación cartesiana:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $4x^2 - 16x + 25y^2 + 50y = 59$
                    </div>
                    <p>2. Factorizamos los coeficientes de los términos cuadráticos:</p>
                    <div class="formula-box">
                        $4(x^2 - 4x) + 25(y^2 + 2y) = 59$
                    </div>
                    <p>3. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $4(x^2 - 4x + 4) + 25(y^2 + 2y + 1) = 59 + 16 + 25$
                    </div>
                    <div class="formula-box">
                        $4(x - 2)^2 + 25(y + 1)^2 = 100$
                    </div>
                    <p>4. Dividimos ambos miembros por 100 para obtener la forma estándar:</p>
                    <div class="formula-box">
                        $\frac{4(x - 2)^2}{100} + \frac{25(y + 1)^2}{100} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 2)^2}{25} + \frac{(y + 1)^2}{4} = 1$
                    </div>
                    <p>5. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Centro: (2, -1)<br>
                        $a^2 = 25 \Rightarrow a = 5$ (eje mayor horizontal)<br>
                        $b^2 = 4 \Rightarrow b = 2$
                    </div>
                    <p>6. Calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = a^2 - b^2 = 25 - 4 = 21$
                        <br>
                        $c = \sqrt{21} \approx 4.6$
                    </div>
                    <p>Los focos están en $(2 \pm \sqrt{21}, -1)$.</p>
                </div>
            </div>
            
            <div class="additional-exercises">
                <div class="exercises-title">Ejercicios Adicionales</div>
                <div class="exercise-item">
                    <div class="exercise-question">1. Hallar la ecuación de la elipse con focos en F1(-2, 0) y F2(2, 0), y que pasa por el punto P(0, 3).</div>
                    <button class="solution-button" onclick="toggleSolution('exElipAdd1')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exElipAdd1" class="solution">
                        <p>La suma de las distancias de cualquier punto de la elipse a los focos es constante e igual a 2a.</p>
                        <p>Para el punto P(0, 3):</p>
                        <div class="formula-box">
                            $d(P, F1) + d(P, F2) = \sqrt{(0 - (-2))^2 + (3 - 0)^2} + \sqrt{(0 - 2)^2 + (3 - 0)^2} = \sqrt{4 + 9} + \sqrt{4 + 9} = 2\sqrt{13}$
                        </div>
                        <p>Por lo tanto, 2a = $2\sqrt{13}$ y a = $\sqrt{13}$.</p>
                        <p>La distancia entre los focos es 2c = 4, por lo que c = 2.</p>
                        <p>Calculamos b:</p>
                        <div class="formula-box">
                            $b^2 = a^2 - c^2 = 13 - 4 = 9$
                            <br>
                            $b = 3$
                        </div>
                        <p>El centro es el punto medio entre los focos: (0, 0).</p>
                        <p>Por lo tanto, la ecuación de la elipse es:</p>
                        <div class="formula-box">
                            $\frac{x^2}{13} + \frac{y^2}{9} = 1$
                        </div>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-question">2. Determinar si el punto Q(3, 1) pertenece a la elipse de ecuación $\frac{x^2}{16} + \frac{y^2}{9} = 1$.</div>
                    <button class="solution-button" onclick="toggleSolution('exElipAdd2')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exElipAdd2" class="solution">
                        <p>Sustituimos las coordenadas del punto Q(3, 1) en la ecuación de la elipse:</p>
                        <div class="formula-box">
                            $\frac{3^2}{16} + \frac{1^2}{9} = \frac{9}{16} + \frac{1}{9} = \frac{81}{144} + \frac{16}{144} = \frac{97}{144} \approx 0.67$
                        </div>
                        <p>Como 0.67 ≠ 1, el punto Q(3, 1) no pertenece a la elipse.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Inecuaciones de la Elipse</h3>
                <p>Las inecuaciones asociadas a la elipse nos permiten determinar regiones del plano:</p>
                <ul>
                    <li><strong>Interior de la elipse:</strong> $\frac{(x - h)^2}{a^2} + \frac{(y - k)^2}{b^2} < 1$</li>
                    <li><strong>Exterior de la elipse:</strong> $\frac{(x - h)^2}{a^2} + \frac{(y - k)^2}{b^2} > 1$</li>
                    <li><strong>La elipse misma:</strong> $\frac{(x - h)^2}{a^2} + \frac{(y - k)^2}{b^2} = 1$</li>
                </ul>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Inecuaciones de la Elipse</h3>
                <canvas id="inequalityEllipseCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="ellipseInequalityType">Tipo de región:</label>
                        <select id="ellipseInequalityType">
                            <option value="interior">Interior de la elipse</option>
                            <option value="exterior">Exterior de la elipse</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleEllipsePoint()">
                        <i class="fas fa-map-marker-alt"></i> Mostrar/Ocultar Punto de Prueba
                    </button>
                    <button class="control-button" onclick="resetInequalityEllipse()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Inecuación:</div>
                            <div class="value-number" id="ellipseInequalityText">x²/9 + y²/4 < 1</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Elipse</h3>
                <div class="question">1. ¿Cuál es la ecuación de una elipse con centro en (-1, 3), semieje mayor a = 5 (vertical) y semieje menor b = 3?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qElip1" value="a" id="qElip1a">
                        <label for="qElip1a">$\frac{(x + 1)^2}{25} + \frac{(y - 3)^2}{9} = 1$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qElip1" value="b" id="qElip1b">
                        <label for="qElip1b">$\frac{(x + 1)^2}{9} + \frac{(y - 3)^2}{25} = 1$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qElip1" value="c" id="qElip1c">
                        <label for="qElip1c">$\frac{(x - 1)^2}{9} + \frac{(y + 3)^2}{25} = 1$</label>
                    </div>
                </div>
                <div id="feedbackElip1" class="feedback"></div>
                
                <div class="question">2. Para una elipse con semiejes a = 4 y b = 2, ¿cuál es la distancia focal c?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qElip2" value="a" id="qElip2a">
                        <label for="qElip2a">$c = \sqrt{12} = 2\sqrt{3}$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qElip2" value="b" id="qElip2b">
                        <label for="qElip2b">$c = \sqrt{16} = 4$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qElip2" value="c" id="qElip2c">
                        <label for="qElip2b">$c = \sqrt{20} = 2\sqrt{5}$</label>
                    </div>
                </div>
                <div id="feedbackElip2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizElip')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- PARÁBOLA -->
        <div id="parabola" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">📈</span> Parábola: Definición y Ecuación Cartesiana
            </div>
            
            <div class="definition-box">
                <h3>Definición de Parábola</h3>
                <p>La parábola es el lugar geométrico de los puntos del plano que equidistan de un punto fijo llamado foco y de una recta fija llamada directriz.</p>
            </div>
            
            <div class="definition-box">
                <h3>Elementos de la Parábola</h3>
                <ul>
                    <li><strong>Foco (F):</strong> Es el punto fijo.</li>
                    <li><strong>Directriz (d):</strong> Es la recta fija.</li>
                    <li><strong>Vértice (V):</strong> Es el punto de la parábola más cercano a la directriz. Es el punto medio entre el foco y la directriz.</li>
                    <li><strong>Eje de simetría:</strong> Es la recta perpendicular a la directriz que pasa por el foco y el vértice.</li>
                    <li><strong>Parámetro (p):</strong> Es la distancia entre el vértice y el foco, o entre el vértice y la directriz.</li>
                </ul>
            </div>
            
            <div class="definition-box">
                <h3>Ecuación Cartesiana de la Parábola</h3>
                <p>Si el vértice de la parábola está en el punto V(h, k), entonces su ecuación cartesiana depende de su orientación:</p>
                <ul>
                    <li><strong>Vertical (abre hacia arriba o abajo):</strong> $(x - h)^2 = 4p(y - k)$</li>
                    <li><strong>Horizontal (abre hacia la derecha o izquierda):</strong> $(y - k)^2 = 4p(x - h)$</li>
                </ul>
                <p>El signo de p determina la orientación:</p>
                <ul>
                    <li>Si p > 0: la parábola abre hacia arriba (vertical) o hacia la derecha (horizontal).</li>
                    <li>Si p < 0: la parábola abre hacia abajo (vertical) o hacia la izquierda (horizontal).</li>
                </ul>
                <p>Cuando el vértice está en el origen (0, 0), las ecuaciones se simplifican eliminando h y k.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Parábola</h3>
                <canvas id="parabolaCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="pSlider">Parámetro p:</label>
                        <input type="range" id="pSlider" min="-2" max="2" step="0.1" value="1">
                    </div>
                    <div class="slider-container">
                        <label for="parabolaOrientation">Orientación:</label>
                        <select id="parabolaOrientation">
                            <option value="vertical">Vertical</option>
                            <option value="horizontal">Horizontal</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleParabolaElements()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Elementos
                    </button>
                    <button class="control-button" onclick="resetParabolaGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display" id="parabolaElements" style="display:none;">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Ecuación:</div>
                            <div class="value-number" id="parabolaEquation">x² = 4y</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Vértice:</div>
                            <div class="value-number" id="parabolaVertex">(0, 0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Foco:</div>
                            <div class="value-number" id="parabolaFocus">(0, 1)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Directriz:</div>
                            <div class="value-number" id="parabolaDirectrix">y = -1</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Obtención de la Ecuación de la Parábola</div>
                <p>Para obtener la ecuación de la parábola con vértice en el origen y eje vertical:</p>
                <ol>
                    <li>Sea F(0, p) el foco de la parábola.</li>
                    <li>Sea y = -p la ecuación de la directriz.</li>
                    <li>Sea P(x, y) un punto cualquiera de la parábola.</li>
                    <li>Por definición, la distancia de P al foco es igual a la distancia de P a la directriz:</li>
                </ol>
                <div class="formula-box">
                    $d(P, F) = d(P, \text{directriz})$
                </div>
                <p>5. Aplicando la fórmula de la distancia entre dos puntos y la distancia de un punto a una recta:</p>
                <div class="formula-box">
                    $\sqrt{(x - 0)^2 + (y - p)^2} = \frac{|y - (-p)|}{\sqrt{0^2 + 1^2}}$
                </div>
                <div class="formula-box">
                    $\sqrt{x^2 + (y - p)^2} = |y + p|$
                </div>
                <p>6. Elevando ambos miembros al cuadrado:</p>
                <div class="formula-box">
                    $x^2 + (y - p)^2 = (y + p)^2$
                </div>
                <div class="formula-box">
                    $x^2 + y^2 - 2py + p^2 = y^2 + 2py + p^2$
                </div>
                <div class="formula-box">
                    $x^2 - 2py = 2py$
                </div>
                <div class="formula-box">
                    $x^2 = 4py$
                </div>
                <p>Esta es la ecuación cartesiana de la parábola con vértice en el origen y eje vertical.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Ecuación de una parábola con vértice en (2, -1)</div>
                <p>Encontrar la ecuación de la parábola que tiene su vértice en el punto (2, -1), foco en (2, 1) y directriz y = -3.</p>
                <button class="solution-button" onclick="toggleSolution('solParab1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solParab1" class="solution">
                    <p>Primero, determinamos el parámetro p:</p>
                    <p>La distancia entre el vértice (2, -1) y el foco (2, 1) es:</p>
                    <div class="formula-box">
                        $p = \sqrt{(2 - 2)^2 + (1 - (-1))^2} = \sqrt{0 + 4} = 2$
                    </div>
                    <p>Como el foco está por encima del vértice, la parábola abre hacia arriba y p > 0.</p>
                    <p>Utilizamos la fórmula general de la parábola vertical:</p>
                    <div class="formula-box">
                        $(x - h)^2 = 4p(y - k)$
                    </div>
                    <p>Donde el vértice es V(h, k) = (2, -1) y p = 2.</p>
                    <p>Sustituyendo estos valores en la fórmula:</p>
                    <div class="formula-box">
                        $(x - 2)^2 = 4 \cdot 2 \cdot (y - (-1))$
                    </div>
                    <div class="formula-box">
                        $(x - 2)^2 = 8(y + 1)$
                    </div>
                    <p>Esta es la ecuación de la parábola con vértice en (2, -1), foco en (2, 1) y directriz y = -3.</p>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Hallar elementos a partir de la ecuación desarrollada</div>
                <p>Dada la ecuación desarrollada de una parábola: $y^2 - 6x - 4y + 10 = 0$, hallar su ecuación cartesiana, el vértice, el foco y la directriz.</p>
                <button class="solution-button" onclick="toggleSolution('solParab2')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solParab2" class="solution">
                    <p>Para hallar los elementos de la parábola, debemos completar cuadrados:</p>
                    <p>1. Agrupamos los términos con y:</p>
                    <div class="formula-box">
                        $y^2 - 4y = 6x - 10$
                    </div>
                    <p>2. Completamos cuadrados para y:</p>
                    <div class="formula-box">
                        $y^2 - 4y + 4 = 6x - 10 + 4$
                    </div>
                    <div class="formula-box">
                        $(y - 2)^2 = 6x - 6$
                    </div>
                    <div class="formula-box">
                        $(y - 2)^2 = 6(x - 1)$
                    </div>
                    <p>3. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Vértice: (1, 2)<br>
                        $4p = 6 \Rightarrow p = 1.5$
                    </div>
                    <p>Como la parábola tiene la forma $(y - k)^2 = 4p(x - h)$, es horizontal y abre hacia la derecha (p > 0).</p>
                    <p>4. Calculamos el foco y la directriz:</p>
                    <div class="formula-box">
                        Foco: $(h + p, k) = (1 + 1.5, 2) = (2.5, 2)$<br>
                        Directriz: $x = h - p = 1 - 1.5 = -0.5$
                    </div>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-satellite-dish"></i> Aplicación: Antenas Parabólicas
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Las parábolas tienen una aplicación muy importante en el diseño de antenas parabólicas y reflectores. La propiedad fundamental de las parábolas es que todos los rayos que llegan paralelos al eje de simetría se reflejan y pasan por el foco.</p>
                        <p>Esta propiedad se utiliza en las antenas parabólicas para concentrar las señales de satélites débiles en un punto focal, donde se coloca el receptor. De manera similar, en los faros de los automóviles, la fuente de luz se coloca en el foco de un reflector parabólico para producir un haz de luz paralelo.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Parabolic_antenna_at_Weber_Davis_County_Utah.jpg/800px-Parabolic_antenna_at_Weber_Davis_County_Utah.jpg" alt="Antena parabólica">
                    </div>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Dada la ecuación desarrollada de una parábola: $x^2 + 8x + 4y - 4 = 0$, hallar su ecuación cartesiana, el vértice, el foco y la directriz.</p>
                <button class="solution-button" onclick="toggleSolution('exParab1')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="exParab1" class="solution">
                    <p>Completamos cuadrados para encontrar la ecuación cartesiana:</p>
                    <p>1. Agrupamos los términos con x:</p>
                    <div class="formula-box">
                        $x^2 + 8x = -4y + 4$
                    </div>
                    <p>2. Completamos cuadrados para x:</p>
                    <div class="formula-box">
                        $x^2 + 8x + 16 = -4y + 4 + 16$
                    </div>
                    <div class="formula-box">
                        $(x + 4)^2 = -4y + 20$
                    </div>
                    <div class="formula-box">
                        $(x + 4)^2 = -4(y - 5)$
                    </div>
                    <p>3. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Vértice: (-4, 5)<br>
                        $4p = -4 \Rightarrow p = -1$
                    </div>
                    <p>Como la parábola tiene la forma $(x - h)^2 = 4p(y - k)$, es vertical y abre hacia abajo (p < 0).</p>
                    <p>4. Calculamos el foco y la directriz:</p>
                    <div class="formula-box">
                        Foco: $(h, k + p) = (-4, 5 + (-1)) = (-4, 4)$<br>
                        Directriz: $y = k - p = 5 - (-1) = 6$
                    </div>
                </div>
            </div>
            
            <div class="additional-exercises">
                <div class="exercises-title">Ejercicios Adicionales</div>
                <div class="exercise-item">
                    <div class="exercise-question">1. Hallar la ecuación de la parábola con foco en F(3, 4) y directriz x = -1.</div>
                    <button class="solution-button" onclick="toggleSolution('exParabAdd1')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exParabAdd1" class="solution">
                        <p>El vértice es el punto medio entre el foco y la directriz:</p>
                        <div class="formula-box">
                            V = $\left(\frac{3 + (-1)}{2}, 4\right) = (1, 4)$
                        </div>
                        <p>El parámetro p es la distancia entre el vértice y el foco:</p>
                        <div class="formula-box">
                            $p = \sqrt{(3 - 1)^2 + (4 - 4)^2} = \sqrt{4 + 0} = 2$
                        </div>
                        <p>Como la directriz es vertical, la parábola es horizontal y abre hacia la derecha (p > 0).</p>
                        <p>Por lo tanto, la ecuación de la parábola es:</p>
                        <div class="formula-box">
                            $(y - 4)^2 = 8(x - 1)$
                        </div>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-question">2. Determinar si el punto R(2, 3) pertenece a la parábola de ecuación $y^2 = 8x$.</div>
                    <button class="solution-button" onclick="toggleSolution('exParabAdd2')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exParabAdd2" class="solution">
                        <p>Sustituimos las coordenadas del punto R(2, 3) en la ecuación de la parábola:</p>
                        <div class="formula-box">
                            $3^2 = 8 \cdot 2$
                            <br>
                            $9 = 16$
                        </div>
                        <p>Como 9 ≠ 16, el punto R(2, 3) no pertenece a la parábola.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La Parábola como Función Cuadrática</h3>
                <p>Cuando la parábola tiene su eje vertical, su ecuación puede expresarse como una función cuadrática:</p>
                <div class="formula-box">
                    $(x - h)^2 = 4p(y - k)$
                </div>
                <p>Despejando y:</p>
                <div class="formula-box">
                    $y - k = \frac{1}{4p}(x - h)^2$
                </div>
                <div class="formula-box">
                    $y = \frac{1}{4p}(x - h)^2 + k$
                </div>
                <p>Esta es la forma estándar de una función cuadrática, donde:</p>
                <ul>
                    <li>El vértice es el punto (h, k).</li>
                    <li>El coeficiente principal es $a = \frac{1}{4p}$.</li>
                    <li>Si a > 0, la parábola abre hacia arriba.</li>
                    <li>Si a < 0, la parábola abre hacia abajo.</li>
                </ul>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Factorización del trinomio de 2º grado</div>
                <p>Dada la función cuadrática $f(x) = x^2 - 5x + 6$, factorizarla y hallar sus raíces.</p>
                <button class="solution-button" onclick="toggleSolution('solParab3')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solParab3" class="solution">
                    <p>Para factorizar el trinomio $x^2 - 5x + 6$, buscamos dos números que multiplicados den 6 y sumados den -5.</p>
                    <p>Estos números son -2 y -3, ya que:</p>
                    <div class="formula-box">
                        $(-2) \times (-3) = 6$
                        <br>
                        $(-2) + (-3) = -5$
                    </div>
                    <p>Por lo tanto, la factorización es:</p>
                    <div class="formula-box">
                        $x^2 - 5x + 6 = (x - 2)(x - 3)$
                    </div>
                    <p>Las raíces de la función son los valores de x que hacen que f(x) = 0:</p>
                    <div class="formula-box">
                        $(x - 2)(x - 3) = 0$
                    </div>
                    <div class="formula-box">
                        $x - 2 = 0 \Rightarrow x = 2$
                        <br>
                        $x - 3 = 0 \Rightarrow x = 3$
                    </div>
                    <p>Las raíces son x = 2 y x = 3.</p>
                    <p>Estas raíces corresponden a los puntos donde la parábola intersecta al eje X.</p>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Inecuaciones de la Parábola</h3>
                <p>Las inecuaciones asociadas a la parábola nos permiten determinar regiones del plano:</p>
                <ul>
                    <li><strong>Interior de la parábola (región que contiene al foco):</strong> $(x - h)^2 < 4p(y - k)$ o $(y - k)^2 < 4p(x - h)$</li>
                    <li><strong>Exterior de la parábola:</strong> $(x - h)^2 > 4p(y - k)$ o $(y - k)^2 > 4p(x - h)$</li>
                    <li><strong>La parábola misma:</strong> $(x - h)^2 = 4p(y - k)$ o $(y - k)^2 = 4p(x - h)$</li>
                </ul>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Inecuaciones de la Parábola</h3>
                <canvas id="inequalityParabolaCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="parabolaInequalityType">Tipo de región:</label>
                        <select id="parabolaInequalityType">
                            <option value="interior">Interior de la parábola</option>
                            <option value="exterior">Exterior de la parábola</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleParabolaPoint()">
                        <i class="fas fa-map-marker-alt"></i> Mostrar/Ocultar Punto de Prueba
                    </button>
                    <button class="control-button" onclick="resetInequalityParabola()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Inecuación:</div>
                            <div class="value-number" id="parabolaInequalityText">x² < 4y</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Parábola</h3>
                <div class="question">1. ¿Cuál es la ecuación de una parábola con vértice en (3, -2), foco en (3, 0) y directriz y = -4?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qParab1" value="a" id="qParab1a">
                        <label for="qParab1a">$(x - 3)^2 = 8(y + 2)$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qParab1" value="b" id="qParab1b">
                        <label for="qParab1b">$(y + 2)^2 = 8(x - 3)$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qParab1" value="c" id="qParab1c">
                        <label for="qParab1c">$(x - 3)^2 = 4(y + 2)$</label>
                    </div>
                </div>
                <div id="feedbackParab1" class="feedback"></div>
                
                <div class="question">2. Para la parábola $(y - 1)^2 = 12(x + 2)$, ¿cuál es su foco?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qParab2" value="a" id="qParab2a">
                        <label for="qParab2a">(1, -2)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qParab2" value="b" id="qParab2b">
                        <label for="qParab2b">(1, 1)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qParab2" value="c" id="qParab2c">
                        <label for="qParab2c">(1, -1)</label>
                    </div>
                </div>
                <div id="feedbackParab2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizParab')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- HIPÉRBOLA -->
        <div id="hiperbola" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">∞</span> Hipérbola: Definición y Ecuación Cartesiana
            </div>
            
            <div class="definition-box">
                <h3>Definición de Hipérbola</h3>
                <p>La hipérbola es el lugar geométrico de los puntos del plano cuya diferencia de distancias a dos puntos fijos llamados focos es constante. Esta constante es igual a la longitud del eje transverso (2a).</p>
            </div>
            
            <div class="definition-box">
                <h3>Elementos de la Hipérbola</h3>
                <ul>
                    <li><strong>Focos (F1, F2):</strong> Son los dos puntos fijos.</li>
                    <li><strong>Centro (C):</strong> Es el punto medio entre los dos focos.</li>
                    <li><strong>Eje transverso:</strong> Es el segmento que une los dos vértices. Su longitud es 2a.</li>
                    <li><strong>Eje conjugado:</strong> Es el segmento perpendicular al eje transverso que pasa por el centro. Su longitud es 2b.</li>
                    <li><strong>Vértices:</strong> Son los puntos de intersección de la hipérbola con el eje transverso.</li>
                    <li><strong>Asíntotas:</strong> Son las rectas que se aproximan a la hipérbola pero nunca la tocan.</li>
                    <li><strong>Distancia focal (2c):</strong> Es la distancia entre los dos focos.</li>
                </ul>
                <p>En una hipérbola se cumple la relación: $c^2 = a^2 + b^2$</p>
            </div>
            
            <div class="definition-box">
                <h3>Ecuación Cartesiana de la Hipérbola</h3>
                <p>Si el centro de la hipérbola está en el punto C(h, k), con el eje transverso paralelo al eje X, entonces su ecuación cartesiana es:</p>
                <div class="formula-box">
                    $\frac{(x - h)^2}{a^2} - \frac{(y - k)^2}{b^2} = 1$
                </div>
                <p>Si el eje transverso es paralelo al eje Y, la ecuación es:</p>
                <div class="formula-box">
                    $\frac{(y - k)^2}{a^2} - \frac{(x - h)^2}{b^2} = 1$
                </div>
                <p>Las ecuaciones de las asíntotas son:</p>
                <ul>
                    <li>Para eje transverso horizontal: $y - k = \pm \frac{b}{a}(x - h)$</li>
                    <li>Para eje transverso vertical: $y - k = \pm \frac{a}{b}(x - h)$</li>
                </ul>
                <p>Cuando el centro está en el origen (0, 0), las ecuaciones se simplifican eliminando h y k.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Hipérbola</h3>
                <canvas id="hyperbolaCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="aHyperbolaSlider">Semieje transverso (a):</label>
                        <input type="range" id="aHyperbolaSlider" min="1" max="3" step="0.1" value="2">
                    </div>
                    <div class="slider-container">
                        <label for="bHyperbolaSlider">Semieje conjugado (b):</label>
                        <input type="range" id="bHyperbolaSlider" min="1" max="3" step="0.1" value="1.5">
                    </div>
                    <div class="slider-container">
                        <label for="hyperbolaOrientation">Orientación:</label>
                        <select id="hyperbolaOrientation">
                            <option value="horizontal">Eje transverso horizontal</option>
                            <option value="vertical">Eje transverso vertical</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleHyperbolaElements()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Elementos
                    </button>
                    <button class="control-button" onclick="resetHyperbolaGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display" id="hyperbolaElements" style="display:none;">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Ecuación:</div>
                            <div class="value-number" id="hyperbolaEquation">x²/4 - y²/2.25 = 1</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Foco 1:</div>
                            <div class="value-number" id="hyperbolaFocus1">(-√6.25, 0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Foco 2:</div>
                            <div class="value-number" id="hyperbolaFocus2">(√6.25, 0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Distancia focal (c):</div>
                            <div class="value-number" id="hyperbolaFocalDistance">√6.25</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Asíntota 1:</div>
                            <div class="value-number" id="hyperbolaAsymptote1">y = 0.75x</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Asíntota 2:</div>
                            <div class="value-number" id="hyperbolaAsymptote2">y = -0.75x</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Obtención de la Ecuación de la Hipérbola</div>
                <p>Para obtener la ecuación de la hipérbola con centro en el origen y eje transverso horizontal:</p>
                <ol>
                    <li>Sea F1(-c, 0) y F2(c, 0) los focos de la hipérbola.</li>
                    <li>Sea P(x, y) un punto cualquiera de la hipérbola.</li>
                    <li>Por definición, la diferencia de distancias de P a los focos es constante e igual a 2a:</li>
                </ol>
                <div class="formula-box">
                    $|d(P, F1) - d(P, F2)| = 2a$
                </div>
                <p>4. Suponiendo que P está más cerca de F2 que de F1:</p>
                <div class="formula-box">
                    $d(P, F1) - d(P, F2) = 2a$
                </div>
                <p>5. Aplicando la fórmula de la distancia entre dos puntos:</p>
                <div class="formula-box">
                    $\sqrt{(x + c)^2 + y^2} - \sqrt{(x - c)^2 + y^2} = 2a$
                </div>
                <p>6. Despejando una de las raíces y elevando al cuadrado ambos miembros:</p>
                <div class="formula-box">
                    $\sqrt{(x + c)^2 + y^2} = 2a + \sqrt{(x - c)^2 + y^2}$
                    <br>
                    $(x + c)^2 + y^2 = 4a^2 + 4a\sqrt{(x - c)^2 + y^2} + (x - c)^2 + y^2$
                </div>
                <p>7. Simplificando y despejando la raíz:</p>
                <div class="formula-box">
                    $4cx - 4a^2 = 4a\sqrt{(x - c)^2 + y^2}$
                    <br>
                    $cx - a^2 = a\sqrt{(x - c)^2 + y^2}$
                </div>
                <p>8. Elevando nuevamente al cuadrado y simplificando:</p>
                <div class="formula-box">
                    $c^2x^2 - 2a^2cx + a^4 = a^2(x^2 - 2cx + c^2 + y^2)$
                    <br>
                    $c^2x^2 - 2a^2cx + a^4 = a^2x^2 - 2a^2cx + a^2c^2 + a^2y^2$
                    <br>
                    $(c^2 - a^2)x^2 - a^2y^2 = a^2c^2 - a^4$
                    <br>
                    $(c^2 - a^2)x^2 - a^2y^2 = a^2(c^2 - a^2)$
                </div>
                <p>9. Recordando que $b^2 = c^2 - a^2$:</p>
                <div class="formula-box">
                    $b^2x^2 - a^2y^2 = a^2b^2$
                    <br>
                    $\frac{x^2}{a^2} - \frac{y^2}{b^2} = 1$
                    </div>
                    <p>Esta es la ecuación cartesiana de la hipérbola con centro en el origen y eje transverso horizontal.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Ecuación de una hipérbola con centro en (1, -2)</div>
                <p>Encontrar la ecuación de la hipérbola que tiene su centro en el punto (1, -2), semieje transverso a = 3 (horizontal) y semieje conjugado b = 2.</p>
                <button class="solution-button" onclick="toggleSolution('solHiper1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solHiper1" class="solution">
                    <p>Utilizamos la fórmula general de la hipérbola con eje transverso horizontal:</p>
                    <div class="formula-box">
                        $\frac{(x - h)^2}{a^2} - \frac{(y - k)^2}{b^2} = 1$
                    </div>
                    <p>Donde el centro es C(h, k) = (1, -2), el semieje transverso es a = 3 y el semieje conjugado es b = 2.</p>
                    <p>Sustituyendo estos valores en la fórmula:</p>
                    <div class="formula-box">
                        $\frac{(x - 1)^2}{3^2} - \frac{(y - (-2))^2}{2^2} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 1)^2}{9} - \frac{(y + 2)^2}{4} = 1$
                    </div>
                    <p>Esta es la ecuación de la hipérbola con centro en (1, -2), semieje transverso a = 3 (horizontal) y semieje conjugado b = 2.</p>
                    <p>Para encontrar los focos, calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = a^2 + b^2 = 9 + 4 = 13$
                        <br>
                        $c = \sqrt{13}$
                    </div>
                    <p>Los focos están en $(1 \pm \sqrt{13}, -2)$.</p>
                    <p>Las ecuaciones de las asíntotas son:</p>
                    <div class="formula-box">
                        $y + 2 = \pm \frac{2}{3}(x - 1)$
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Hallar elementos a partir de la ecuación desarrollada</div>
                <p>Dada la ecuación desarrollada de una hipérbola: $9x^2 - 4y^2 - 18x - 16y - 43 = 0$, hallar su ecuación cartesiana, el centro, los semiejes, los focos y las asíntotas.</p>
                <button class="solution-button" onclick="toggleSolution('solHiper2')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solHiper2" class="solution">
                    <p>Para hallar los elementos de la hipérbola, debemos completar cuadrados:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $9x^2 - 18x - 4y^2 - 16y = 43$
                    </div>
                    <p>2. Factorizamos los coeficientes de los términos cuadráticos:</p>
                    <div class="formula-box">
                        $9(x^2 - 2x) - 4(y^2 + 4y) = 43$
                    </div>
                    <p>3. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $9(x^2 - 2x + 1) - 4(y^2 + 4y + 4) = 43 + 9 - 16$
                    </div>
                    <div class="formula-box">
                        $9(x - 1)^2 - 4(y + 2)^2 = 36$
                    </div>
                    <p>4. Dividimos ambos miembros por 36 para obtener la forma estándar:</p>
                    <div class="formula-box">
                        $\frac{9(x - 1)^2}{36} - \frac{4(y + 2)^2}{36} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 1)^2}{4} - \frac{(y + 2)^2}{9} = 1$
                    </div>
                    <p>5. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Centro: (1, -2)<br>
                        $a^2 = 4 \Rightarrow a = 2$ (eje transverso horizontal)<br>
                        $b^2 = 9 \Rightarrow b = 3$
                    </div>
                    <p>6. Calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = a^2 + b^2 = 4 + 9 = 13$
                        <br>
                        $c = \sqrt{13}$
                    </div>
                    <p>Los focos están en $(1 \pm \sqrt{13}, -2)$.</p>
                    <p>7. Calculamos las ecuaciones de las asíntotas:</p>
                    <div class="formula-box">
                        $y + 2 = \pm \frac{b}{a}(x - 1) = \pm \frac{3}{2}(x - 1)$
                    </div>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-atom"></i> Aplicación: Física de Partículas
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Las hipérbolas tienen aplicaciones importantes en la física de partículas y en la navegación. En los aceleradores de partículas, las trayectorias de las partículas cargadas en campos magnéticos siguen trayectorias helicoidales que, proyectadas en un plano, son circunferencias.</p>
                        <p>En sistemas de navegación como el LORAN (Long Range Navigation), las hipérbolas se utilizan para determinar la posición de un barco o avión. El sistema mide la diferencia de tiempo entre la recepción de señales de dos estaciones terrestres, lo que define una hipérbola con las estaciones en los focos. La intersección de varias hipérbolas permite determinar la posición exacta.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/LORAN_principle.gif/600px-LORAN_principle.gif" alt="Principio de navegación LORAN usando hipérbolas">
                    </div>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Dada la ecuación desarrollada de una hipérbola: $16x^2 - 9y^2 - 64x - 54y - 161 = 0$, hallar su ecuación cartesiana, el centro, los semiejes, los focos y las asíntotas.</p>
                <button class="solution-button" onclick="toggleSolution('exHiper1')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="exHiper1" class="solution">
                    <p>Completamos cuadrados para encontrar la ecuación cartesiana:</p>
                    <p>1. Agrupamos los términos con x y los términos con y:</p>
                    <div class="formula-box">
                        $16x^2 - 64x - 9y^2 - 54y = 161$
                    </div>
                    <p>2. Factorizamos los coeficientes de los términos cuadráticos:</p>
                    <div class="formula-box">
                        $16(x^2 - 4x) - 9(y^2 + 6y) = 161$
                    </div>
                    <p>3. Completamos cuadrados para x y para y:</p>
                    <div class="formula-box">
                        $16(x^2 - 4x + 4) - 9(y^2 + 6y + 9) = 161 + 64 - 81$
                    </div>
                    <div class="formula-box">
                        $16(x - 2)^2 - 9(y + 3)^2 = 144$
                    </div>
                    <p>4. Dividimos ambos miembros por 144 para obtener la forma estándar:</p>
                    <div class="formula-box">
                        $\frac{16(x - 2)^2}{144} - \frac{9(y + 3)^2}{144} = 1$
                    </div>
                    <div class="formula-box">
                        $\frac{(x - 2)^2}{9} - \frac{(y + 3)^2}{16} = 1$
                    </div>
                    <p>5. Identificamos los elementos:</p>
                    <div class="formula-box">
                        Centro: (2, -3)<br>
                        $a^2 = 9 \Rightarrow a = 3$ (eje transverso horizontal)<br>
                        $b^2 = 16 \Rightarrow b = 4$
                    </div>
                    <p>6. Calculamos c:</p>
                    <div class="formula-box">
                        $c^2 = a^2 + b^2 = 9 + 16 = 25$
                        <br>
                        $c = 5$
                    </div>
                    <p>Los focos están en $(2 \pm 5, -3)$, es decir, en (7, -3) y (-3, -3).</p>
                    <p>7. Calculamos las ecuaciones de las asíntotas:</p>
                    <div class="formula-box">
                        $y + 3 = \pm \frac{b}{a}(x - 2) = \pm \frac{4}{3}(x - 2)$
                    </div>
                </div>
            </div>
            
            <div class="additional-exercises">
                <div class="exercises-title">Ejercicios Adicionales</div>
                <div class="exercise-item">
                    <div class="exercise-question">1. Hallar la ecuación de la hipérbola con focos en F1(-3, 0) y F2(3, 0), y que pasa por el punto P(5, 4).</div>
                    <button class="solution-button" onclick="toggleSolution('exHiperAdd1')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exHiperAdd1" class="solution">
                        <p>La diferencia de distancias de cualquier punto de la hipérbola a los focos es constante e igual a 2a.</p>
                        <p>Para el punto P(5, 4):</p>
                        <div class="formula-box">
                            $d(P, F1) - d(P, F2) = \sqrt{(5 - (-3))^2 + (4 - 0)^2} - \sqrt{(5 - 3)^2 + (4 - 0)^2} = \sqrt{64 + 16} - \sqrt{4 + 16} = \sqrt{80} - \sqrt{20} = 4\sqrt{5} - 2\sqrt{5} = 2\sqrt{5}$
                        </div>
                        <p>Por lo tanto, 2a = $2\sqrt{5}$ y a = $\sqrt{5}$.</p>
                        <p>La distancia entre los focos es 2c = 6, por lo que c = 3.</p>
                        <p>Calculamos b:</p>
                        <div class="formula-box">
                            $b^2 = c^2 - a^2 = 9 - 5 = 4$
                            <br>
                            $b = 2$
                        </div>
                        <p>El centro es el punto medio entre los focos: (0, 0).</p>
                        <p>Por lo tanto, la ecuación de la hipérbola es:</p>
                        <div class="formula-box">
                            $\frac{x^2}{5} - \frac{y^2}{4} = 1$
                        </div>
                    </div>
                </div>
                <div class="exercise-item">
                    <div class="exercise-question">2. Determinar si el punto S(4, 3) pertenece a la hipérbola de ecuación $\frac{x^2}{16} - \frac{y^2}{9} = 1$.</div>
                    <button class="solution-button" onclick="toggleSolution('exHiperAdd2')">
                        <i class="fas fa-pencil-alt"></i> Ver solución
                    </button>
                    <div id="exHiperAdd2" class="solution">
                        <p>Sustituimos las coordenadas del punto S(4, 3) en la ecuación de la hipérbola:</p>
                        <div class="formula-box">
                            $\frac{4^2}{16} - \frac{3^2}{9} = \frac{16}{16} - \frac{9}{9} = 1 - 1 = 0$
                        </div>
                        <p>Como 0 ≠ 1, el punto S(4, 3) no pertenece a la hipérbola.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Inecuaciones de la Hipérbola</h3>
                <p>Las inecuaciones asociadas a la hipérbola nos permiten determinar regiones del plano:</p>
                <ul>
                    <li><strong>Región entre las ramas:</strong> $\frac{(x - h)^2}{a^2} - \frac{(y - k)^2}{b^2} < 1$ o $\frac{(y - k)^2}{a^2} - \frac{(x - h)^2}{b^2} < 1$</li>
                    <li><strong>Región exterior a las ramas:</strong> $\frac{(x - h)^2}{a^2} - \frac{(y - k)^2}{b^2} > 1$ o $\frac{(y - k)^2}{a^2} - \frac{(x - h)^2}{b^2} > 1$</li>
                    <li><strong>La hipérbola misma:</strong> $\frac{(x - h)^2}{a^2} - \frac{(y - k)^2}{b^2} = 1$ o $\frac{(y - k)^2}{a^2} - \frac{(x - h)^2}{b^2} = 1$</li>
                </ul>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Inecuaciones de la Hipérbola</h3>
                <canvas id="inequalityHyperbolaCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="hyperbolaInequalityType">Tipo de región:</label>
                        <select id="hyperbolaInequalityType">
                            <option value="between">Entre las ramas</option>
                            <option value="outside">Exterior a las ramas</option>
                        </select>
                    </div>
                    <button class="control-button" onclick="toggleHyperbolaPoint()">
                        <i class="fas fa-map-marker-alt"></i> Mostrar/Ocultar Punto de Prueba
                    </button>
                    <button class="control-button" onclick="resetInequalityHyperbola()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Inecuación:</div>
                            <div class="value-number" id="hyperbolaInequalityText">x²/4 - y²/2.25 < 1</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Hipérbola</h3>
                <div class="question">1. ¿Cuál es la ecuación de una hipérbola con centro en (-1, 2), semieje transverso a = 4 (vertical) y semieje conjugado b = 3?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qHiper1" value="a" id="qHiper1a">
                        <label for="qHiper1a">$\frac{(x + 1)^2}{16} - \frac{(y - 2)^2}{9} = 1$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qHiper1" value="b" id="qHiper1b">
                        <label for="qHiper1b">$\frac{(y - 2)^2}{16} - \frac{(x + 1)^2}{9} = 1$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qHiper1" value="c" id="qHiper1c">
                        <label for="qHiper1c">$\frac{(x - 1)^2}{9} - \frac{(y + 2)^2}{16} = 1$</label>
                    </div>
                </div>
                <div id="feedbackHiper1" class="feedback"></div>
                
                <div class="question">2. Para una hipérbola con semiejes a = 3 y b = 4, ¿cuál es la distancia focal c?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qHiper2" value="a" id="qHiper2a">
                        <label for="qHiper2a">$c = \sqrt{7}$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qHiper2" value="b" id="qHiper2b">
                        <label for="qHiper2b">$c = \sqrt{25} = 5$</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qHiper2" value="c" id="qHiper2c">
                        <label for="qHiper2c">$c = \sqrt{1} = 1$</label>
                    </div>
                </div>
                <div id="feedbackHiper2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizHiper')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- MARCO HISTÓRICO -->
        <div id="historia" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">📜</span> Marco Histórico de las Secciones Cónicas
            </div>
            
            <p>Las secciones cónicas tienen una rica historia que abarca más de dos milenios de desarrollo matemático. Su estudio ha sido fundamental para el avance de la geometría, la astronomía y la física.</p>
            
            <div class="history-timeline">
                <div class="timeline-line"></div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo IV a.C.</div>
                        <p><strong>Menaechmus</strong> descubre las secciones cónicas al intentar resolver el problema de la duplicación del cubo. Es el primer matemático conocido en estudiar las propiedades de la elipse, la parábola y la hipérbola.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo III a.C.</div>
                        <p><strong>Arquímedes</strong> estudia las propiedades de las secciones cónicas y las aplica a sus investigaciones sobre áreas y volúmenes. Demuestra que el área de una elipse es πab.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo III a.C.</div>
                        <p><strong>Apolonio de Perga</strong> escribe su obra maestra "Cónicas", un tratado exhaustivo sobre las propiedades de las secciones cónicas. Introduce los términos "elipse", "parábola" e "hipérbola", y demuestra que todas pueden obtenerse como secciones de un cono.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVII</div>
                        <p><strong>Johannes Kepler</strong> descubre que las órbitas de los planetas son elipses con el Sol en uno de sus focos. Este descubrimiento revoluciona la astronomía y confirma la importancia de las secciones cónicas en la descripción de la naturaleza.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVII</div>
                        <p><strong>René Descartes</strong> y <strong>Pierre de Fermat</strong> desarrollan la geometría analítica, que permite representar las secciones cónicas mediante ecuaciones algebraicas. Este enfoque facilita enormemente su estudio y aplicación.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVII</div>
                        <p><strong>Isaac Newton</strong> demuestra que las trayectorias de los cuerpos bajo la influencia de la gravedad son secciones cónicas. Sus leyes del movimiento y la gravitación universal explican por qué los planetas siguen órbitas elípticas y los cometas pueden seguir trayectorias parabólicas o hiperbólicas.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglos XIX-XX</div>
                        <p>Las secciones cónicas encuentran aplicaciones en numerosos campos de la ciencia y la tecnología, incluyendo la óptica (lentes y espejos), la arquitectura, la ingeniería y las telecomunicaciones (antenas parabólicas).</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Contribuciones de Apolonio de Perga</h3>
                <p>Apolonio de Perga (c. 262-190 a.C.) fue un matemático griego conocido como "El Gran Geómetra". Su obra "Cónicas" consta de ocho libros y es el tratado más completo sobre secciones cónicas de la antigüedad. Entre sus contribuciones más importantes se encuentran:</p>
                <ul>
                    <li>La demostración de que todas las secciones cónicas pueden obtenerse a partir de un mismo cono circular recto.</li>
                    <li>El estudio sistemático de las propiedades de las tangentes, normales y asíntotas.</li>
                    <li>La introducción de los términos "elipse", "parábola" e "hipérbola", que provienen del griego y significan "deficiencia", "aplicación" y "exceso", respectivamente, en referencia a ciertas propiedades de estas curvas.</li>
                    <li>El estudio de las secciones cónicas en planos inclinados, no solo perpendiculares al eje del cono.</li>
                </ul>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-university"></i> Impacto Histórico en la Educación Matemática
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>El estudio de las secciones cónicas ha sido fundamental en la formación matemática a lo largo de la historia. Su belleza geométrica y sus numerosas aplicaciones en la ciencia y la tecnología las convierten en un tema central en la educación secundaria.</p>
                        <p>Comprender su desarrollo histórico ayuda a los estudiantes a valorar la continuidad del conocimiento matemático y su conexión con otras disciplinas. Desde la antigua Grecia hasta la física moderna, las secciones cónicas han sido un puente entre la matemática abstracta y el mundo físico.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Apollonius_conic_sections.jpg/800px-Apollonius_conic_sections.jpg" alt="Ilustración histórica de secciones cónicas">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- SÍNTESIS CONCEPTUAL -->
        <div id="sintesis" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">🧩</span> Síntesis Conceptual: Relaciones entre las Secciones Cónicas
            </div>
            
            <p>Las secciones cónicas, aunque diferentes en su forma y propiedades, comparten características comunes y pueden ser estudiadas desde un enfoque unificado. Esta síntesis conceptual nos permite comprender las relaciones entre ellas y apreciar su belleza matemática.</p>
            
            <div class="concept-map">
                <div class="map-row">
                    <div class="map-node" id="nodeSint1">Cónica General</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="nodeSint2">Circunferencia</div>
                    <div class="map-node" id="nodeSint3">Elipse</div>
                    <div class="map-node" id="nodeSint4">Parábola</div>
                    <div class="map-node" id="nodeSint5">Hipérbola</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="nodeSint6">Ecuación General: Ax² + Bxy + Cy² + Dx + Ey + F = 0</div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La Ecuación General de las Cónicas</h3>
                <p>Todas las secciones cónicas pueden representarse mediante una ecuación general de segundo grado:</p>
                <div class="formula-box">
                    $Ax^2 + Bxy + Cy^2 + Dx + Ey + F = 0$
                </div>
                <p>El tipo de cónica que representa esta ecuación depende del valor del discriminante Δ = B² - 4AC:</p>
                <ul>
                    <li>Si Δ < 0: representa una elipse (o una circunferencia si A = C y B = 0).</li>
                    <li>Si Δ = 0: representa una parábola.</li>
                    <li>Si Δ > 0: representa una hipérbola.</li>
                </ul>
                <p>Esta ecuación general nos permite unificar el estudio de todas las secciones cónicas y entender sus relaciones mutuas.</p>
            </div>
            
            <div class="definition-box">
                <h3>Propiedades Comunes de las Secciones Cónicas</h3>
                <p>A pesar de sus diferencias, todas las secciones cónicas comparten algunas propiedades fundamentales:</p>
                <ol>
                    <li><strong>Definición por focos:</strong> Todas pueden definirse en términos de puntos focos y una condición de distancia.</li>
                    <li><strong>Simetría:</strong> Todas poseen al menos un eje de simetría.</li>
                    <li><strong>Excentricidad:</strong> Todas pueden caracterizarse por su excentricidad (e), que mide su desviación de la circularidad.</li>
                    <li><strong>Secciones de un cono:</strong> Todas pueden obtenerse como la intersección de un plano con un cono circular recto.</li>
                </ol>
            </div>
            
            <div class="definition-box">
                <h3>Excentricidad de las Secciones Cónicas</h3>
                <p>La excentricidad (e) es un número que caracteriza la forma de una sección cónica. Se define como la razón entre la distancia de un punto de la cónica a un foco y su distancia a la directriz correspondiente:</p>
                <div class="formula-box">
                    $e = \frac{\text{distancia al foco}}{\text{distancia a la directriz}}$
                </div>
                <p>Los valores de la excentricidad para cada cónica son:</p>
                <ul>
                    <li><strong>Circunferencia:</strong> e = 0</li>
                    <li><strong>Elipse:</strong> 0 < e < 1</li>
                    <li><strong>Parábola:</strong> e = 1</li>
                    <li><strong>Hipérbola:</strong> e > 1</li>
                </ul>
                <p>La excentricidad nos permite ver las secciones cónicas como una familia de curvas que varían continuamente desde la circunferencia hasta la hipérbola.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Identificación de cónicas a partir de la ecuación general</div>
                <p>Identificar el tipo de sección cónica representada por cada una de las siguientes ecuaciones:</p>
                <ol>
                    <li>$x^2 + y^2 - 4x + 6y - 3 = 0$</li>
                    <li>$x^2 - 4y^2 + 2x + 8y - 7 = 0$</li>
                    <li>$y^2 - 6x + 4y + 10 = 0$</li>
                    <li>$4x^2 + 9y^2 - 8x + 36y + 4 = 0$</li>
                </ol>
                <button class="solution-button" onclick="toggleSolution('solSint1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="solSint1" class="solution">
                    <p>Para identificar el tipo de sección cónica, calculamos el discriminante Δ = B² - 4AC para cada ecuación:</p>
                    <p><strong>1. $x^2 + y^2 - 4x + 6y - 3 = 0$</strong></p>
                    <div class="formula-box">
                        A = 1, B = 0, C = 1<br>
                        Δ = 0² - 4(1)(1) = -4 < 0
                    </div>
                    <p>Como Δ < 0 y A = C, representa una <strong>circunferencia</strong>.</p>
                    
                    <p><strong>2. $x^2 - 4y^2 + 2x + 8y - 7 = 0$</strong></p>
                    <div class="formula-box">
                        A = 1, B = 0, C = -4<br>
                        Δ = 0² - 4(1)(-4) = 16 > 0
                    </div>
                    <p>Como Δ > 0, representa una <strong>hipérbola</strong>.</p>
                    
                    <p><strong>3. $y^2 - 6x + 4y + 10 = 0$</strong></p>
                    <div class="formula-box">
                        A = 0, B = 0, C = 1<br>
                        Δ = 0² - 4(0)(1) = 0
                    </div>
                    <p>Como Δ = 0, representa una <strong>parábola</strong>.</p>
                    
                    <p><strong>4. $4x^2 + 9y^2 - 8x + 36y + 4 = 0$</strong></p>
                    <div class="formula-box">
                        A = 4, B = 0, C = 9<br>
                        Δ = 0² - 4(4)(9) = -144 < 0
                    </div>
                    <p>Como Δ < 0 y A ≠ C, representa una <strong>elipse</strong>.</p>
                </div>
            </div>
            
            <div class="applied-example">
                <div class="applied-title">
                    <i class="fas fa-project-diagram"></i> Interrelación de Conceptos
                </div>
                <div class="applied-content">
                    <div class="applied-text">
                        <p>Las secciones cónicas no son entidades aisladas, sino que forman parte de una familia continua de curvas. La excentricidad nos permite transitar gradualmente desde la circunferencia (e = 0) hasta la hipérbola (e > 1), pasando por la elipse (0 < e < 1) y la parábola (e = 1).</p>
                        <p>Esta visión unificada es fundamental para comprender profundamente la geometría analítica y sus aplicaciones. En la física, por ejemplo, las órbitas de los cuerpos celestes pueden ser elipses, parábolas o hipérbolas dependiendo de su energía, lo que demuestra la continuidad entre estas curvas.</p>
                    </div>
                    <div class="applied-image">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png" alt="Secciones cónicas como familia continua">
                    </div>
                </div>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Síntesis Conceptual</h3>
                <div class="question">1. ¿Qué valor del discriminante Δ = B² - 4AC corresponde a una elipse?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qSint1" value="a" id="qSint1a">
                        <label for="qSint1a">Δ > 0</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qSint1" value="b" id="qSint1b">
                        <label for="qSint1b">Δ = 0</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qSint1" value="c" id="qSint1c">
                        <label for="qSint1c">Δ < 0</label>
                    </div>
                </div>
                <div id="feedbackSint1" class="feedback"></div>
                
                <div class="question">2. ¿Cuál es el valor de la excentricidad para una parábola?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="qSint2" value="a" id="qSint2a">
                        <label for="qSint2a">e = 0</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qSint2" value="b" id="qSint2b">
                        <label for="qSint2b">e = 1</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="qSint2" value="c" id="qSint2c">
                        <label for="qSint2c">e > 1</label>
                    </div>
                </div>
                <div id="feedbackSint2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quizSint')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- APLICACIONES -->
        <div id="aplicaciones" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">🏭</span> Aplicaciones de las Secciones Cónicas
            </div>
            
            <p>Las secciones cónicas no son solo figuras geométricas abstractas, sino que tienen numerosas aplicaciones en la ciencia, la tecnología y la vida cotidiana. A continuación, exploramos algunas de sus aplicaciones más importantes.</p>
            
            <div class="general-applications">
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-satellite"></i></div>
                    <div class="app-title">Astronomía y Órbitas</div>
                    <p>Las órbitas de los planetas alrededor del Sol son elipses con el Sol en uno de los focos, como descubrió Johannes Kepler. Los cometas pueden seguir trayectorias elípticas, parabólicas o hiperbólicas dependiendo de su energía.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-satellite-dish"></i></div>
                    <div class="app-title">Antenas y Comunicaciones</div>
                    <p>Las antenas parabólicas utilizan la propiedad reflectora de la parábola para concentrar las señales en un punto focal. Esto permite capturar señales de satélites débiles y transmitirlas con mayor intensidad.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-microscope"></i></div>
                    <div class="app-title">Óptica y Lentes</div>
                    <p>Los espejos elípticos tienen la propiedad de reflejar la luz desde un foco hacia el otro. Los espejos parabólicos concentran la luz en un punto focal, lo que los hace ideales para telescopios y faros de automóviles.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-archway"></i></div>
                    <div class="app-title">Arquitectura e Ingeniería</div>
                    <p>Los arcos elípticos y parabólicos se utilizan en puentes y estructuras arquitectónicas por su resistencia estética y su capacidad para distribuir las fuerzas de manera eficiente.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-music"></i></div>
                    <div class="app-title">Acústica</div>
                    <p>Las bóvedas con forma de elipse tienen la propiedad de que el sonido emitido desde un foco se refleja hacia el otro foco. Esta propiedad se utiliza en el diseño de salas de conciertos y auditorios.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-atom"></i></div>
                    <div class="app-title">Física de Partículas</div>
                    <p>En los aceleradores de partículas, las trayectorias de las partículas cargadas en campos magnéticos siguen trayectorias helicoidales que, proyectadas en un plano, son circunferencias.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-route"></i></div>
                    <div class="app-title">Navegación y Geodesia</div>
                    <p>La Tierra no es una esfera perfecta, sino un elipsoide de revolución. Esta forma elíptica debe tenerse en cuenta para cálculos precisos de navegación y cartografía.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-calculator"></i></div>
                    <div class="app-title">Diseño Industrial</div>
                    <p>Las secciones cónicas se utilizan en el diseño de engranajes, levas y otros componentes mecánicos. Las superficies cónicas son fundamentales en el diseño de herramientas de corte y mecanizado.</p>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Diseño de un telescopio reflector</div>
                    <p>Un telescopio reflector utiliza un espejo primario parabólico para concentrar la luz de estrellas distantes en un punto focal. Si el espejo tiene un diámetro de 2 metros y una profundidad de 0.2 metros, determina la ecuación de la parábola que describe su sección transversal y la posición del foco.</p>
                    <button class="solution-button" onclick="toggleSolution('solAplic1')">
                        <i class="fas fa-lightbulb"></i> Ver solución
                    </button>
                    <div id="solAplic1" class="solution">
                        <p>Para resolver este problema, consideramos la sección transversal del espejo como una parábola con vértice en el origen y eje vertical:</p>
                        <div class="formula-box">
                            $x^2 = 4py$
                        </div>
                        <p>Donde p es el parámetro de la parábola.</p>
                        <p>El diámetro del espejo es de 2 metros, por lo que el radio es de 1 metro. Esto significa que en el borde del espejo, x = ±1.</p>
                        <p>La profundidad del espejo es de 0.2 metros, por lo que en el borde, y = 0.2.</p>
                        <p>Sustituyendo estos valores en la ecuación:</p>
                        <div class="formula-box">
                            $(1)^2 = 4p(0.2)$
                            <br>
                            $1 = 0.8p$
                            <br>
                            $p = 1/0.8 = 1.25$
                        </div>
                        <p>Por lo tanto, la ecuación de la parábola es:</p>
                        <div class="formula-box">
                            $x^2 = 4(1.25)y = 5y$
                        </div>
                        <p>El foco de la parábola está en (0, p) = (0, 1.25).</p>
                        <p>En el telescopio, el foco es donde se debe colocar el ocular o el detector para capturar la luz concentrada por el espejo.</p>
                    </div>
                </div>
                
                <div class="example-box">
                    <div class="example-title">Ejemplo: Órbita de un cometa</div>
                    <p>Un cometa tiene una órbita elíptica alrededor del Sol, con el Sol en uno de los focos. Si el semieje mayor de la órbita es de 20 unidades astronómicas (UA) y el semieje menor es de 10 UA, determina la distancia máxima y mínima del cometa al Sol.</p>
                    <button class="solution-button" onclick="toggleSolution('solAplic2')">
                        <i class="fas fa-lightbulb"></i> Ver solución
                    </button>
                    <div id="solAplic2" class="solution">
                        <p>Para resolver este problema, utilizamos las propiedades de la elipse:</p>
                        <p>Datos:</p>
                        <ul>
                            <li>Semieje mayor: a = 20 UA</li>
                            <li>Semieje menor: b = 10 UA</li>
                        </ul>
                        <p>Primero, calculamos la distancia focal c:</p>
                        <div class="formula-box">
                            $c^2 = a^2 - b^2 = 20^2 - 10^2 = 400 - 100 = 300$
                            <br>
                            $c = \sqrt{300} = 10\sqrt{3} \approx 17.32$ UA
                        </div>
                        <p>La distancia máxima del cometa al Sol (afelio) ocurre cuando el cometa está en el vértice más alejado del foco donde está el Sol:</p>
                        <div class="formula-box">
                            $\text{Afelio} = a + c = 20 + 17.32 = 37.32$ UA
                        </div>
                        <p>La distancia mínima del cometa al Sol (perihelio) ocurre cuando el cometa está en el vértice más cercano al foco donde está el Sol:</p>
                        <div class="formula-box">
                            $\text{Perihelio} = a - c = 20 - 17.32 = 2.68$ UA
                        </div>
                        <p>Por lo tanto, el cometa se aleja hasta 37.32 UA del Sol y se acerca hasta 2.68 UA.</p>
                    </div>
                </div>
                
                <div class="definition-box">
                    <h3>Reconstrucción de Ecuaciones de Cónicas</h3>
                    <p>En muchas aplicaciones prácticas, es necesario reconstruir la ecuación de una cónica a partir de información parcial sobre sus elementos. Por ejemplo, podemos necesitar encontrar la ecuación de una elipse conociendo sus focos y un punto de la curva, o la ecuación de una parábola conociendo su vértice y su foco.</p>
                    <p>Estos problemas requieren aplicar las definiciones y propiedades de las secciones cónicas, y son fundamentales en campos como la astronomía, la óptica y el diseño de ingeniería.</p>
                </div>
                
                <div class="example-box">
                    <div class="example-title">Ejemplo: Reconstrucción de una elipse</div>
                    <p>Encontrar la ecuación de una elipse con focos en F1(-3, 0) y F2(3, 0), y que pasa por el punto P(0, 4).</p>
                    <button class="solution-button" onclick="toggleSolution('solAplic3')">
                        <i class="fas fa-lightbulb"></i> Ver solución
                    </button>
                    <div id="solAplic3" class="solution">
                        <p>Para resolver este problema, utilizamos la definición de elipse: la suma de las distancias de cualquier punto de la elipse a los dos focos es constante e igual a 2a.</p>
                        <p>Primero, calculamos la suma de las distancias del punto P(0, 4) a los focos:</p>
                        <div class="formula-box">
                            $d(P, F1) = \sqrt{(0 - (-3))^2 + (4 - 0)^2} = \sqrt{9 + 16} = \sqrt{25} = 5$
                            <br>
                            $d(P, F2) = \sqrt{(0 - 3)^2 + (4 - 0)^2} = \sqrt{9 + 16} = \sqrt{25} = 5$
                        </div>
                        <p>La suma de las distancias es 5 + 5 = 10, por lo que 2a = 10 y a = 5.</p>
                        <p>La distancia entre los focos es 2c = 6, por lo que c = 3.</p>
                        <p>Calculamos b:</p>
                        <div class="formula-box">
                            $b^2 = a^2 - c^2 = 25 - 9 = 16$
                            <br>
                            $b = 4$
                        </div>
                        <p>Como los focos están en el eje X y el centro está en el punto medio entre ellos, el centro es (0, 0).</p>
                        <p>Por lo tanto, la ecuación de la elipse es:</p>
                        <div class="formula-box">
                            $\frac{x^2}{25} + \frac{y^2}{16} = 1$
                        </div>
                    </div>
                </div>
                
                <div class="definition-box">
                    <h3>Resolución de Sistemas de Ecuaciones e Inecuaciones de 2º Grado</h3>
                    <p>En muchas aplicaciones, es necesario resolver sistemas de ecuaciones o inecuaciones que involucran secciones cónicas. Por ejemplo, podemos necesitar encontrar los puntos de intersección entre dos cónicas, o determinar la región del plano que satisface varias condiciones simultáneamente.</p>
                    <p>Estos problemas son fundamentales en geometría analítica y tienen aplicaciones en campos como la robótica, la visión por computadora y el diseño asistido por computadora.</p>
                </div>
                
                <div class="example-box">
                    <div class="example-title">Ejemplo: Intersección de una circunferencia y una recta</div>
                    <p>Encontrar los puntos de intersección entre la circunferencia $x^2 + y^2 = 25$ y la recta $y = 2x + 1$.</p>
                    <button class="solution-button" onclick="toggleSolution('solAplic4')">
                        <i class="fas fa-lightbulb"></i> Ver solución
                    </button>
                    <div id="solAplic4" class="solution">
                        <p>Para encontrar los puntos de intersección, sustituimos la ecuación de la recta en la ecuación de la circunferencia:</p>
                        <div class="formula-box">
                            $x^2 + (2x + 1)^2 = 25$
                        </div>
                        <p>Desarrollamos y simplificamos:</p>
                        <div class="formula-box">
                            $x^2 + 4x^2 + 4x + 1 = 25$
                            <br>
                            $5x^2 + 4x + 1 - 25 = 0$
                            <br>
                            $5x^2 + 4x - 24 = 0$
                        </div>
                        <p>Resolvemos esta ecuación de segundo grado:</p>
                        <div class="formula-box">
                            $x = \frac{-4 \pm \sqrt{4^2 - 4(5)(-24)}}{2(5)} = \frac{-4 \pm \sqrt{16 + 480}}{10} = \frac{-4 \pm \sqrt{496}}{10}$
                        </div>
                        <div class="formula-box">
                            $\sqrt{496} = \sqrt{16 \times 31} = 4\sqrt{31}$
                        </div>
                        <div class="formula-box">
                            $x = \frac{-4 \pm 4\sqrt{31}}{10} = \frac{-2 \pm 2\sqrt{31}}{5}$
                        </div>
                        <p>Calculamos los valores correspondientes de y utilizando la ecuación de la recta:</p>
                        <div class="formula-box">
                            $y = 2x + 1 = 2\left(\frac{-2 \pm 2\sqrt{31}}{5}\right) + 1 = \frac{-4 \pm 4\sqrt{31}}{5} + \frac{5}{5} = \frac{1 \pm 4\sqrt{31}}{5}$
                        </div>
                        <p>Por lo tanto, los puntos de intersección son:</p>
                        <div class="formula-box">
                            $\left(\frac{-2 + 2\sqrt{31}}{5}, \frac{1 + 4\sqrt{31}}{5}\right)$ y $\left(\frac{-2 - 2\sqrt{31}}{5}, \frac{1 - 4\sqrt{31}}{5}\right)$
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- CURIOSIDADES -->
            <div id="curiosidades" class="tab-content">
                <div class="concept-banner">
                    <span class="process-icon">💡</span> Curiosidades sobre las Secciones Cónicas
                </div>
                
                <p>Las secciones cónicas, además de sus aplicaciones prácticas, están llenas de curiosidades y propiedades fascinantes que han capturado la imaginación de matemáticos, científicos y artistas a lo largo de la historia. A continuación, exploramos algunas de las curiosidades más interesantes sobre estas figuras geométricas.</p>
                
                <div class="curiosity-container">
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-sun"></i></div>
                        <div class="curiosity-title">Elipses en el Sistema Solar</div>
                        <div class="curiosity-content">
                            <p>Todos los planetas del sistema solar orbitan alrededor del Sol siguiendo trayectorias elípticas, pero con diferentes grados de excentricidad. La órbita de Venus es la más circular (e ≈ 0.007), mientras que la de Mercurio es la más elíptica (e ≈ 0.206).</p>
                            <p>Curiosamente, si la excentricidad de la Tierra fuera ligeramente mayor, los inviernos en el hemisferio norte serían mucho más fríos y los veranos más calurosos, lo que podría haber afectado el desarrollo de la vida en nuestro planeta.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-landmark"></i></div>
                        <div class="curiosity-title">Elipse de los Susurros</div>
                        <div class="curiosity-content">
                            <p>En la Catedral de San Pablo de Londres y en el Capitolio de los Estados Unidos existen lugares conocidos como "elipses de los susurros". Estas son áreas con forma elíptica donde una persona situada en uno de los focos puede escuchar claramente los susurros de otra persona situada en el otro foco, incluso a gran distancia.</p>
                            <p>Este fenómeno se debe a la propiedad reflectora de las elipses: las ondas sonoras que emanan de un foco se reflejan en la superficie curva y convergen en el otro foco.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-satellite-dish"></i></div>
                        <div class="curiosity-title">Parábolas en la Naturaleza</div>
                        <div class="curiosity-content">
                            <p>Las parábolas aparecen de forma natural en muchos fenómenos físicos. Por ejemplo, cuando se lanza un objeto horizontalmente, su trayectoria sigue una parábola debido a la gravedad.</p>
                            <p>Además, la forma de las cometas cuando pasan cerca del Sol describe una parábola si su velocidad es exactamente la velocidad de escape del sistema solar. Si tienen menos velocidad, su órbita es elíptica, y si tienen más, es hiperbólica.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-infinity"></i></div>
                        <div class="curiosity-title">Hipérbolas y Navegación</div>
                        <div class="curiosity-content">
                            <p>El sistema de navegación LORAN (Long Range Navigation), utilizado antes de la llegada del GPS, se basaba en las propiedades de las hipérbolas. Las estaciones terrestres emitían señales sincronizadas, y los receptores medían la diferencia de tiempo entre las señales.</p>
                            <p>Esta diferencia de tiempo define una hipérbola con las estaciones en los focos. Al recibir señales de tres estaciones, se obtenían dos hipérbolas cuya intersección determinaba la posición exacta del receptor.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-circle"></i></div>
                        <div class="curiosity-title">Circunferencias y Arquitectura</div>
                        <div class="curiosity-content">
                            <p>El Panteón de Roma, construido hace casi 2000 años, tiene una cúpula con forma de semiesfera perfecta. El diámetro de esta cúpula es exactamente igual a su altura (43.3 metros), formando una esfera completa si se completara.</p>
                        <p>Esta construcción demuestra el conocimiento avanzado de geometría que tenían los antiguos romanos, así como su habilidad para realizar cálculos precisos y construir estructuras complejas.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-palette"></i></div>
                        <div class="curiosity-title">Cónicas en el Arte</div>
                        <div class="curiosity-content">
                            <p>El artista holandés M.C. Escher utilizó secciones cónicas en muchas de sus obras, especialmente en sus famosas litografías como "Círculo Límite III" y "Círculo Límite IV". Estas obras representan infinitos ángeles y demonios que llenan un disco circular, siguiendo patrones hiperbólicos.</p>
                            <p>Escher trabajó en colaboración con el matemático británico H.S.M. Coxeter para comprender las propiedades matemáticas de estas figuras y poder representarlas artísticamente.</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-atom"></i></div>
                        <div class="curiosity-title">Cónicas en Física Cuántica</div>
                        <div class="curiosity-content">
                            <p>En física cuántica, las órbitas de los electrones alrededor del núcleo atómico no son elipses como en el modelo planetario, sino que se describen mediante funciones de onda que forman patrones de probabilidad con formas esféricas, elipsoidales y más complejas.</p>
                        <p>Curiosamente, estos orbitales atómicos se denominan con letras que corresponden a las formas de las secciones cónicas: s (esférica), p (parabólica), d (difusa, relacionada con la hipérbola) y f (fundamental).</p>
                        </div>
                    </div>
                    
                    <div class="curiosity-card">
                        <div class="curiosity-icon"><i class="fas fa-rocket"></i></div>
                        <div class="curiosity-title">Traectorias Espaciales</div>
                        <div class="curiosity-content">
                            <p>Para enviar una nave espacial a otro planeta, los ingenieros utilizan una trayectoria llamada "órbita de transferencia de Hohmann", que es una elipse que es tangente a las órbitas de los dos planetas.</p>
                        <p>Esta trayectoria minimiza el combustible necesario para el viaje. Si se necesita más velocidad, se utilizan trayectorias hiperbólicas que permiten a la nave escapar de la gravedad terrestre.</p>
                        </div>
                    </div>
                </div>
                
                <div class="definition-box">
                    <h3>Relación entre las Secciones Cónicas y las Cuádricas</h3>
                    <p>Las secciones cónicas no solo existen en el plano, sino que también son la base de las superficies cuádricas en el espacio tridimensional. Una cuádrica es una superficie definida por una ecuación de segundo grado en tres variables:</p>
                    <div class="formula-box">
                        $Ax^2 + By^2 + Cz^2 + Dxy + Exz + Fyz + Gx + Hy + Iz + J = 0$
                    </div>
                    <p>Algunas cuádricas importantes son:</p>
                    <ul>
                        <li><strong>Elipsoide:</strong> $\frac{x^2}{a^2} + \frac{y^2}{b^2} + \frac{z^2}{c^2} = 1$</li>
                        <li><strong>Hiperboloide de una hoja:</strong> $\frac{x^2}{a^2} + \frac{y^2}{b^2} - \frac{z^2}{c^2} = 1$</li>
                        <li><strong>Hiperboloide de dos hojas:</strong> $\frac{x^2}{a^2} + \frac{y^2}{b^2} - \frac{z^2}{c^2} = -1$</li>
                        <li><strong>Paraboloide elíptico:</strong> $\frac{x^2}{a^2} + \frac{y^2}{b^2} = z$</li>
                        <li><strong>Paraboloide hiperbólico:</strong> $\frac{x^2}{a^2} - \frac{y^2}{b^2} = z$</li>
                    </ul>
                    <p>Estas superficies tienen aplicaciones en arquitectura, diseño industrial, física y muchas otras áreas.</p>
                </div>
            </div>
            
            <!-- BIBLIOGRAFÍA -->
            <div id="bibliografia" class="tab-content">
                <div class="concept-banner">
                    <span class="process-icon">📚</span> Bibliografía y Referencias
                </div>
                
                <p>Este material educativo ha sido elaborado con base en fuentes académicas reconocidas y recursos especializados. A continuación, se presentan las referencias fundamentales que respaldan el contenido presentado, organizadas por categorías para facilitar su consulta.</p>
                
                <div class="bibliography-section">
                    <h3 class="bibliography-title">Libros de Geometría Analítica</h3>
                    <ul class="reference-list">
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">Geometría Analítica</span>
                            <span class="reference-authors">Lehmann, C.H.</span>
                            <span class="reference-publisher">Limusa, 2007</span>
                            <div class="reference-description">Texto clásico que presenta los conceptos fundamentales de la geometría analítica, incluyendo un tratamiento detallado de las secciones cónicas.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">Cálculo con Geometría Analítica</span>
                            <span class="reference-authors">Swokowski, E.W. y Cole, J.A.</span>
                            <span class="reference-publisher">Cengage Learning, 2011</span>
                            <div class="reference-description">Compendio que integra el cálculo con la geometría analítica, con numerosas aplicaciones de las secciones cónicas.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">Geometría Analítica Plana</span>
                            <span class="reference-authors">Fuller, G. y Tarwater, D.</span>
                            <span class="reference-publisher">Addison-Wesley, 1994</span>
                            <div class="reference-description">Enfoque riguroso de la geometría analítica plana, con énfasis en las propiedades y aplicaciones de las secciones cónicas.</div>
                        </li>
                    </ul>
                </div>
                
                <div class="bibliography-section">
                    <h3 class="bibliography-title">Recursos en Línea</h3>
                    <ul class="reference-list">
                        <li class="reference-item">
                            <span class="reference-type">WEB</span>
                            <span class="reference-title">Khan Academy: Geometría Analítica</span>
                            <span class="reference-authors">Khan Academy</span>
                            <a href="https://es.khanacademy.org/math/geometry-home/geometry-analytic-geometry" target="_blank" class="reference-link">https://es.khanacademy.org/math/geometry-home/geometry-analytic-geometry</a>
                            <div class="reference-description">Plataforma educativa gratuita con lecciones en video, ejercicios interactivos y evaluaciones sobre geometría analítica y secciones cónicas.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">WEB</span>
                            <span class="reference-title">Wolfram MathWorld: Conic Section</span>
                            <span class="reference-authors">Wolfram Research</span>
                            <a href="http://mathworld.wolfram.com/ConicSection.html" target="_blank" class="reference-link">http://mathworld.wolfram.com/ConicSection.html</a>
                            <div class="reference-description">Recurso exhaustivo con definiciones, propiedades, ecuaciones y visualizaciones interactivas de las secciones cónicas.</div>
                        </li>
                    </ul>
                </div>
                
                <div class="bibliography-section">
                    <h3 class="bibliography-title">Libros de Historia de las Matemáticas</h3>
                    <ul class="reference-list">
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">Historia de las Matemáticas</span>
                            <span class="reference-authors">Boyer, C.B.</span>
                            <span class="reference-publisher">Alianza Editorial, 2009</span>
                            <div class="reference-description">Obra clásica que traza el desarrollo de las matemáticas a lo largo de la historia, incluyendo el estudio de las secciones cónicas por parte de los matemáticos griegos.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">A History of Mathematics</span>
                            <span class="reference-authors">Katz, V.J.</span>
                            <span class="reference-publisher">Addison-Wesley, 2009</span>
                            <div class="reference-description">Compendio detallado que explora el desarrollo histórico de las matemáticas, con especial atención a las contribuciones de Apolonio de Perga al estudio de las cónicas.</div>
                        </li>
                    </ul>
                </div>
                
                <div class="bibliography-section">
                    <h3 class="bibliography-title">Aplicaciones de las Secciones Cónicas</h3>
                    <ul class="reference-list">
                        <li class="reference-item">
                            <span class="reference-type">LIBRO</span>
                            <span class="reference-title">Óptica</span>
                            <span class="reference-authors">Hecht, E.</span>
                            <span class="reference-publisher">Addison-Wesley, 2002</span>
                            <div class="reference-description">Texto fundamental que explica las aplicaciones de las secciones cónicas en el diseño de lentes, espejos e instrumentos ópticos.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">ARTÍCULO</span>
                            <span class="reference-title">Aplicaciones de las secciones cónicas en la ingeniería</span>
                            <span class="reference-authors">García, M. y Fernández, L.</span>
                            <span class="reference-publisher">Revista de Enseñanza de la Ingeniería, 2018</span>
                            <div class="reference-description">Revisión exhaustiva de aplicaciones prácticas de las secciones cónicas en diferentes campos de la ingeniería.</div>
                        </li>
                    </ul>
                </div>
                
                <div class="bibliography-section">
                    <h3 class="bibliography-title">Normativas Técnicas</h3>
                    <ul class="reference-list">
                        <li class="reference-item">
                            <span class="reference-type">NORMA</span>
                            <span class="reference-title">IRAM 4503: Geometría analítica para la educación secundaria</span>
                            <span class="reference-authors">Instituto Argentino de Normalización y Certificación</span>
                            <span class="reference-publisher">IRAM, 2018</span>
                            <div class="reference-description">Norma técnica que establece los contenidos y metodologías para la enseñanza de la geometría analítica en el nivel secundario.</div>
                        </li>
                        <li class="reference-item">
                            <span class="reference-type">NORMA</span>
                            <span class="reference-title">ISO 80000-2: Quantities and units — Part 2: Mathematical signs and symbols to be used in the natural sciences and technology</span>
                            <span class="reference-authors">International Organization for Standardization</span>
                            <span class="reference-publisher">ISO, 2019</span>
                            <div class="reference-description">Estándar internacional que normaliza la notación matemática utilizada en ciencias y tecnología.</div>
                        </li>
                    </ul>
                </div>
                
                <div class="bibliography-note">
                    <p><strong>Nota:</strong> Esta bibliografía representa una selección de recursos fundamentales para el estudio de las secciones cónicas. Se recomienda a los estudiantes consultar estas fuentes para profundizar en los temas de su interés y obtener una comprensión más completa de los conceptos presentados en este material educativo.</p>
                </div>
            </div>
            
            <footer>
                <p>Material de estudio para 5° Año - Educación Secundaria - Matemática</p>
                <p>Ministerio de Educación de la Provincia de Córdoba - Dirección General de Educación Secundaria</p>
                <p>Desarrollado para el aprendizaje de las secciones cónicas y sus aplicaciones</p>
            </footer>
        </div>
        
        <!-- Botón de accesibilidad -->
        <button class="accessibility-toggle" onclick="toggleAccessibilityMenu()">
            <i class="fas fa-universal-access"></i>
        </button>
        
        <!-- Menú de accesibilidad -->
        <div class="accessibility-menu" id="accessibilityMenu">
            <h3>Opciones de Accesibilidad</h3>
            <div class="accessibility-option">
                <label for="highContrast">Alto Contraste:</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="highContrast" onchange="toggleHighContrast()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="accessibility-option">
                <label for="largeText">Texto Grande:</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="largeText" onchange="toggleLargeText()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="accessibility-option">
                <label for="dyslexicFont">Fuente para Disléxicos:</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="dyslexicFont" onchange="toggleDyslexicFont()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>
    </div>
    
    <script>
        // Variables globales para el seguimiento del progreso
        let currentTab = 0;
        const tabs = ['introduccion', 'circunferencia', 'elipse', 'parabola', 'hiperbola', 'historia', 'sintesis', 'aplicaciones', 'curiosidades', 'bibliografia'];
        let completedTabs = new Set();
        
        // Variables para el modelo 3D
        let scene, camera, renderer, cone, plane, controls;
        let coneRotation = 0;
        let rotatingCone = false;
        let animationId;
        let intersectionCurve;
        
        // Funciones para el manejo de pestañas
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Actualizar el índice de la pestaña actual
            currentTab = tabs.indexOf(tabName);
            
            // Marcar la pestaña como completada
            completedTabs.add(tabName);
            updateProgress();
            
            // Inicializar gráficos cuando se abre una pestaña
            if (tabName === 'introduccion') {
                initConeGraph();
            } else if (tabName === 'circunferencia') {
                initCircleGraph();
                initInequalityCircleGraph();
            } else if (tabName === 'elipse') {
                initEllipseGraph();
                initInequalityEllipseGraph();
            } else if (tabName === 'parabola') {
                initParabolaGraph();
                initInequalityParabolaGraph();
            } else if (tabName === 'hiperbola') {
                initHyperbolaGraph();
                initInequalityHyperbolaGraph();
            } else if (tabName === 'sintesis') {
                animateConceptMap();
            }
        }
        
        // Función para actualizar el progreso
        function updateProgress() {
            const progress = (completedTabs.size / tabs.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Progreso: ${Math.round(progress)}%`;
        }
        
        // Funciones para mostrar/ocultar soluciones
        function toggleSolution(id) {
            var solution = document.getElementById(id);
            if (solution.style.display === "block") {
                solution.style.display = "none";
            } else {
                solution.style.display = "block";
            }
        }
        
        // Funciones para las evaluaciones
        function checkQuiz(quizName) {
            if (quizName === 'quizIntro') {
                checkQuizIntro();
            } else if (quizName === 'quizCirc') {
                checkQuizCirc();
            } else if (quizName === 'quizElip') {
                checkQuizElip();
            } else if (quizName === 'quizParab') {
                checkQuizParab();
            } else if (quizName === 'quizHiper') {
                checkQuizHiper();
            } else if (quizName === 'quizSint') {
                checkQuizSint();
            }
        }
        
        function checkQuizIntro() {
            var q1 = document.querySelector('input[name="qIntro1"]:checked');
            var q2 = document.querySelector('input[name="qIntro2"]:checked');
            var feedback1 = document.getElementById('feedbackIntro1');
            var feedback2 = document.getElementById('feedbackIntro2');
            
            if (q1) {
                if (q1.value === 'b') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Al intersectar un cono con un plano perpendicular a su eje se obtiene una circunferencia.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Al intersectar un cono con un plano perpendicular a su eje se obtiene una circunferencia.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Para generar una parábola, el plano debe ser paralelo a una generatriz del cono.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Para generar una parábola, el plano debe ser paralelo a una generatriz del cono.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuizCirc() {
            var q1 = document.querySelector('input[name="qCirc1"]:checked');
            var q2 = document.querySelector('input[name="qCirc2"]:checked');
            var feedback1 = document.getElementById('feedbackCirc1');
            var feedback2 = document.getElementById('feedbackCirc2');
            
            if (q1) {
                if (q1.value === 'a') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La ecuación de una circunferencia con centro en (3, -2) y radio 5 es $(x - 3)^2 + (y + 2)^2 = 25$.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La ecuación de una circunferencia con centro en (3, -2) y radio 5 es $(x - 3)^2 + (y + 2)^2 = 25$.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! El interior de una circunferencia con centro en el origen y radio 3 se representa con la inecuación $x^2 + y^2 < 9$.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. El interior de una circunferencia con centro en el origen y radio 3 se representa con la inecuación $x^2 + y^2 < 9$.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuizElip() {
            var q1 = document.querySelector('input[name="qElip1"]:checked');
            var q2 = document.querySelector('input[name="qElip2"]:checked');
            var feedback1 = document.getElementById('feedbackElip1');
            var feedback2 = document.getElementById('feedbackElip2');
            
            if (q1) {
                if (q1.value === 'b') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La ecuación de una elipse con centro en (-1, 3), semieje mayor a = 5 (vertical) y semieje menor b = 3 es $\\frac{(x + 1)^2}{9} + \\frac{(y - 3)^2}{25} = 1$.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La ecuación de una elipse con centro en (-1, 3), semieje mayor a = 5 (vertical) y semieje menor b = 3 es $\\frac{(x + 1)^2}{9} + \\frac{(y - 3)^2}{25} = 1$.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'a') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Para una elipse con semiejes a = 4 y b = 2, la distancia focal c es $c = \\sqrt{a^2 - b^2} = \\sqrt{16 - 4} = \\sqrt{12} = 2\\sqrt{3}$.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Para una elipse con semiejes a = 4 y b = 2, la distancia focal c es $c = \\sqrt{a^2 - b^2} = \\sqrt{16 - 4} = \\sqrt{12} = 2\\sqrt{3}$.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuizParab() {
            var q1 = document.querySelector('input[name="qParab1"]:checked');
            var q2 = document.querySelector('input[name="qParab2"]:checked');
            var feedback1 = document.getElementById('feedbackParab1');
            var feedback2 = document.getElementById('feedbackParab2');
            
            if (q1) {
                if (q1.value === 'a') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La ecuación de una parábola con vértice en (3, -2), foco en (3, 0) y directriz y = -4 es $(x - 3)^2 = 8(y + 2)$.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La ecuación de una parábola con vértice en (3, -2), foco en (3, 0) y directriz y = -4 es $(x - 3)^2 = 8(y + 2)$.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'a') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Para la parábola $(y - 1)^2 = 12(x + 2)$, el foco está en $(1, -1)$.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Para la parábola $(y - 1)^2 = 12(x + 2)$, el foco está en $(1, -1)$.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuizHiper() {
            var q1 = document.querySelector('input[name="qHiper1"]:checked');
            var q2 = document.querySelector('input[name="qHiper2"]:checked');
            var feedback1 = document.getElementById('feedbackHiper1');
            var feedback2 = document.getElementById('feedbackHiper2');
            
            if (q1) {
                if (q1.value === 'b') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La ecuación de una hipérbola con centro en (-1, 2), semieje transverso a = 4 (vertical) y semieje conjugado b = 3 es $\\frac{(y - 2)^2}{16} - \\frac{(x + 1)^2}{9} = 1$.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La ecuación de una hipérbola con centro en (-1, 2), semieje transverso a = 4 (vertical) y semieje conjugado b = 3 es $\\frac{(y - 2)^2}{16} - \\frac{(x + 1)^2}{9} = 1$.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Para una hipérbola con semiejes a = 3 y b = 4, la distancia focal c es $c = \\sqrt{a^2 + b^2} = \\sqrt{9 + 16} = \\sqrt{25} = 5$.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Para una hipérbola con semiejes a = 3 y b = 4, la distancia focal c es $c = \\sqrt{a^2 + b^2} = \\sqrt{9 + 16} = \\sqrt{25} = 5$.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuizSint() {
            var q1 = document.querySelector('input[name="qSint1"]:checked');
            var q2 = document.querySelector('input[name="qSint2"]:checked');
            var feedback1 = document.getElementById('feedbackSint1');
            var feedback2 = document.getElementById('feedbackSint2');
            
            if (q1) {
                if (q1.value === 'c') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Una elipse se caracteriza por tener un discriminante Δ = B² - 4AC menor que cero.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Una elipse se caracteriza por tener un discriminante Δ = B² - 4AC menor que cero.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La excentricidad de una parábola es e = 1.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La excentricidad de una parábola es e = 1.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        // Funciones para el modelo 3D del cono
        function initConeGraph() {
            const canvas = document.getElementById('cone3dCanvas');
            if (!canvas) return;
            
            // Configurar la escena
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xf0f0f0);
            
            // Configurar la cámara
            camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            camera.position.set(0, 5, 10);
            camera.lookAt(0, 0, 0);
            
            // Configurar el renderizador
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            
            // Añadir luces
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 15);
            scene.add(directionalLight);
            
            // Crear el cono
            const coneGeometry = new THREE.ConeGeometry(3, 6, 32);
            const coneMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x3498db, 
                transparent: true, 
                opacity: 0.7,
                side: THREE.DoubleSide
            });
            cone = new THREE.Mesh(coneGeometry, coneMaterial);
            cone.position.y = -3;
            scene.add(cone);
            
            // Crear el plano
            const planeGeometry = new THREE.PlaneGeometry(8, 8);
            const planeMaterial = new THREE.MeshPhongMaterial({ 
                color: 0xe74c3c, 
                transparent: true, 
                opacity: 0.8,
                side: THREE.DoubleSide
            });
            plane = new THREE.Mesh(planeGeometry, planeMaterial);
            plane.rotation.x = Math.PI / 4;
            plane.position.y = 0;
            scene.add(plane);
            
            // Crear la curva de intersección
            createIntersectionCurve();
            
            // Añadir ejes
            const axesHelper = new THREE.AxesHelper(5);
            scene.add(axesHelper);
            
            // Configurar controles
            const angleSlider = document.getElementById('angleSlider');
            const positionSlider = document.getElementById('positionSlider');
            
            angleSlider.addEventListener('input', updatePlane);
            positionSlider.addEventListener('input', updatePlane);
            
            // Iniciar la animación
            animate();
        }
        
        function createIntersectionCurve() {
            // Eliminar la curva de intersección anterior si existe
            if (intersectionCurve) {
                scene.remove(intersectionCurve);
            }
            
            // Obtener el ángulo y la posición del plano
            const angleSlider = document.getElementById('angleSlider');
            const positionSlider = document.getElementById('positionSlider');
            const angle = parseFloat(angleSlider.value) * Math.PI / 180;
            const position = parseFloat(positionSlider.value);
            
            // Determinar el tipo de sección cónica
            let conicType = "";
            let equation = "";
            let description = "";
            
            if (angle === 0) {
                conicType = "Circunferencia";
                equation = "x² + y² = r²";
                description = "El plano es perpendicular al eje del cono.";
            } else if (angle < Math.PI / 4) {
                conicType = "Elipse";
                equation = "x²/a² + y²/b² = 1";
                description = "El plano está inclinado con un ángulo menor que el de la generatriz.";
            } else if (angle === Math.PI / 4) {
                conicType = "Parábola";
                equation = "y² = 4px";
                description = "El plano es paralelo a una generatriz del cono.";
            } else {
                conicType = "Hipérbola";
                equation = "x²/a² - y²/b² = 1";
                description = "El plano forma un ángulo mayor que el de la generatriz con el eje.";
            }
            
            // Actualizar la información de la intersección
            document.getElementById('intersectionEquation').innerHTML = `Ecuación: ${equation}`;
            document.getElementById('intersectionDescription').innerHTML = description;
            
            // Actualizar la imagen según el tipo de sección cónica
            const intersectionImg = document.getElementById('intersectionImg');
            if (conicType === "Circunferencia") {
                intersectionImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png";
            } else if (conicType === "Elipse") {
                intersectionImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png";
            } else if (conicType === "Parábola") {
                intersectionImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png";
            } else {
                intersectionImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Conic_sections_with_plane.svg/600px-Conic_sections_with_plane.svg.png";
            }
            
            // Crear una curva simple para representar la intersección
            const curvePoints = [];
            const segments = 50;
            
            for (let i = 0; i <= segments; i++) {
                const t = i / segments;
                const theta = t * Math.PI * 2;
                
                let x, y, z;
                
                if (conicType === "Circunferencia") {
                    const radius = 2;
                    x = radius * Math.cos(theta);
                    y = position;
                    z = radius * Math.sin(theta);
                } else if (conicType === "Elipse") {
                    const a = 2.5;
                    const b = 1.5;
                    x = a * Math.cos(theta);
                    y = position;
                    z = b * Math.sin(theta);
                } else if (conicType === "Parábola") {
                    const p = 1;
                    x = (theta - 0.5) * 4;
                    y = position + p * x * x;
                    z = 0;
                } else {
                    const a = 1.5;
                    const b = 1;
                    if (theta < Math.PI) {
                        x = a / Math.cos(theta - Math.PI/2);
                        y = position;
                        z = b * Math.tan(theta - Math.PI/2);
                    } else {
                        x = -a / Math.cos(theta - 3*Math.PI/2);
                        y = position;
                        z = b * Math.tan(theta - 3*Math.PI/2);
                    }
                }
                
                curvePoints.push(new THREE.Vector3(x, y, z));
            }
            
            // Crear la geometría de la curva
            const curveGeometry = new THREE.BufferGeometry().setFromPoints(curvePoints);
            const curveMaterial = new THREE.LineBasicMaterial({ color: 0x2ecc71, linewidth: 3 });
            intersectionCurve = new THREE.Line(curveGeometry, curveMaterial);
            scene.add(intersectionCurve);
        }
        
        function updatePlane() {
            if (!plane) return;
            
            const angleSlider = document.getElementById('angleSlider');
            const positionSlider = document.getElementById('positionSlider');
            
            const angle = parseFloat(angleSlider.value) * Math.PI / 180;
            const position = parseFloat(positionSlider.value);
            
            // Actualizar la rotación y posición del plano
            plane.rotation.x = angle;
            plane.position.y = position;
            
            // Actualizar la curva de intersección
            createIntersectionCurve();
            
            // Actualizar la rotación del cono si está activada
            if (rotatingCone) {
                coneRotation += 0.01;
                cone.rotation.y = coneRotation;
            }
        }
        
        function animate() {
            animationId = requestAnimationFrame(animate);
            
            if (scene && camera && renderer) {
                // Actualizar la rotación del cono si está activada
                if (rotatingCone && cone) {
                    coneRotation += 0.01;
                    cone.rotation.y = coneRotation;
                }
                
                renderer.render(scene, camera);
            }
        }
        
        function toggleConeRotation() {
            rotatingCone = !rotatingCone;
        }
        
        function resetConeGraph() {
            document.getElementById('angleSlider').value = 45;
            document.getElementById('positionSlider').value = 0;
            coneRotation = 0;
            rotatingCone = false;
            
            if (cone) {
                cone.rotation.y = 0;
            }
            
            if (plane) {
                plane.rotation.x = Math.PI / 4;
                plane.position.y = 0;
            }
            
            createIntersectionCurve();
        }
        
        // Gráfico de la circunferencia
        let showEquation = false;
        
        function initCircleGraph() {
            const canvas = document.getElementById('circleCanvas');
            if (!canvas) return;
            
            const centerXSlider = document.getElementById('centerXSlider');
            const centerYSlider = document.getElementById('centerYSlider');
            const radiusSlider = document.getElementById('radiusSlider');
            
            drawCircleGraph();
            
            centerXSlider.addEventListener('input', drawCircleGraph);
            centerYSlider.addEventListener('input', drawCircleGraph);
            radiusSlider.addEventListener('input', drawCircleGraph);
        }
        
        function drawCircleGraph() {
            const canvas = document.getElementById('circleCanvas');
            const ctx = canvas.getContext('2d');
            const centerXSlider = document.getElementById('centerXSlider');
            const centerYSlider = document.getElementById('centerYSlider');
            const radiusSlider = document.getElementById('radiusSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const centerX = parseFloat(centerXSlider.value);
            const centerY = parseFloat(centerYSlider.value);
            const radius = parseFloat(radiusSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar circunferencia
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(originX + centerX * scale, originY - centerY * scale, radius * scale, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Dibujar centro
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(originX + centerX * scale, originY - centerY * scale, 4, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar radio
            ctx.strokeStyle = '#D32F2F';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(originX + centerX * scale, originY - centerY * scale);
            ctx.lineTo(originX + centerX * scale + radius * scale, originY - centerY * scale);
            ctx.stroke();
            
            // Actualizar ecuación si está visible
            if (showEquation) {
                const equationText = `(x - ${centerX})² + (y - ${centerY})² = ${radius}²`;
                document.getElementById('equationText').textContent = equationText;
                document.getElementById('equationDisplay').style.display = 'block';
            } else {
                document.getElementById('equationDisplay').style.display = 'none';
            }
        }
        
        function toggleEquation() {
            showEquation = !showEquation;
            drawCircleGraph();
        }
        
        function resetCircleGraph() {
            document.getElementById('centerXSlider').value = 0;
            document.getElementById('centerYSlider').value = 0;
            document.getElementById('radiusSlider').value = 2;
            showEquation = false;
            drawCircleGraph();
        }
        
        // Gráfico de inecuaciones de la circunferencia
        let showPoint = false;
        let pointX = 1;
        let pointY = 1;
        
        function initInequalityCircleGraph() {
            const canvas = document.getElementById('inequalityCircleCanvas');
            if (!canvas) return;
            
            const inequalityType = document.getElementById('inequalityType');
            
            drawInequalityCircleGraph();
            
            inequalityType.addEventListener('change', drawInequalityCircleGraph);
        }
        
        function drawInequalityCircleGraph() {
            const canvas = document.getElementById('inequalityCircleCanvas');
            const ctx = canvas.getContext('2d');
            const inequalityType = document.getElementById('inequalityType');
            
            const width = canvas.width;
            const height = canvas.height;
            const type = inequalityType.value;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar circunferencia
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(originX, originY, 2 * scale, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Dibujar región según inecuación
            if (type === 'interior') {
                // Interior de la circunferencia
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.beginPath();
                ctx.arc(originX, originY, 2 * scale, 0, 2 * Math.PI);
                ctx.fill();
                
                document.getElementById('inequalityText').textContent = 'x² + y² < 4';
            } else {
                // Exterior de la circunferencia
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.fillRect(0, 0, width, height);
                
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                ctx.arc(originX, originY, 2 * scale, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(originX, originY, 2 * scale, 0, 2 * Math.PI);
                ctx.stroke();
                
                document.getElementById('inequalityText').textContent = 'x² + y² > 4';
            }
            
            // Dibujar punto de prueba si está visible
            if (showPoint) {
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX + pointX * scale, originY - pointY * scale, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Comprobar si el punto satisface la inecuación
                const distanceSquared = pointX * pointX + pointY * pointY;
                let satisfies = false;
                
                if (type === 'interior') {
                    satisfies = distanceSquared < 4;
                } else {
                    satisfies = distanceSquared > 4;
                }
                
                ctx.fillStyle = satisfies ? '#06D6A0' : '#E63946';
                ctx.font = 'bold 14px Arial';
                ctx.fillText(`Punto (${pointX}, ${pointY}): ${satisfies ? 'Satisface' : 'No satisface'}`, 20, 30);
            }
        }
        
        function togglePoint() {
            showPoint = !showPoint;
            
            if (showPoint) {
                // Generar punto aleatorio
                pointX = (Math.random() * 6 - 3).toFixed(1);
                pointY = (Math.random() * 6 - 3).toFixed(1);
            }
            
            drawInequalityCircleGraph();
        }
        
        function resetInequalityCircle() {
            document.getElementById('inequalityType').value = 'interior';
            showPoint = false;
            drawInequalityCircleGraph();
        }
        
        // Gráfico de la elipse
        let showElements = false;
        
        function initEllipseGraph() {
            const canvas = document.getElementById('ellipseCanvas');
            if (!canvas) return;
            
            const aSlider = document.getElementById('aSlider');
            const bSlider = document.getElementById('bSlider');
            const orientationSlider = document.getElementById('orientationSlider');
            
            drawEllipseGraph();
            
            aSlider.addEventListener('input', drawEllipseGraph);
            bSlider.addEventListener('input', drawEllipseGraph);
            orientationSlider.addEventListener('change', drawEllipseGraph);
        }
        
        function drawEllipseGraph() {
            const canvas = document.getElementById('ellipseCanvas');
            const ctx = canvas.getContext('2d');
            const aSlider = document.getElementById('aSlider');
            const bSlider = document.getElementById('bSlider');
            const orientationSlider = document.getElementById('orientationSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const a = parseFloat(aSlider.value);
            const b = parseFloat(bSlider.value);
            const orientation = orientationSlider.value;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar elipse
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            if (orientation === 'horizontal') {
                ctx.ellipse(originX, originY, a * scale, b * scale, 0, 0, 2 * Math.PI);
            } else {
                ctx.ellipse(originX, originY, b * scale, a * scale, 0, 0, 2 * Math.PI);
            }
            
            ctx.stroke();
            
            // Dibujar elementos si están visibles
            if (showElements) {
                // Calcular c
                const c = Math.sqrt(Math.abs(a * a - b * b));
                
                // Dibujar centro
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX, originY, 4, 0, 2 * Math.PI);
                ctx.fill();
                
                // Dibujar ejes
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                
                if (orientation === 'horizontal') {
                    // Eje mayor
                    ctx.beginPath();
                    ctx.moveTo(originX - a * scale, originY);
                    ctx.lineTo(originX + a * scale, originY);
                    ctx.stroke();
                    
                    // Eje menor
                    ctx.beginPath();
                    ctx.moveTo(originX, originY - b * scale);
                    ctx.lineTo(originX, originY + b * scale);
                    ctx.stroke();
                    
                    // Focos
                    ctx.fillStyle = '#FF6F00';
                    ctx.beginPath();
                    ctx.arc(originX - c * scale, originY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(originX + c * scale, originY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Actualizar información
                    document.getElementById('ellipseEquation').textContent = `x²/${a.toFixed(1)}² + y²/${b.toFixed(1)}² = 1`;
                    document.getElementById('focus1').textContent = `(-${c.toFixed(1)}, 0)`;
                    document.getElementById('focus2').textContent = `(${c.toFixed(1)}, 0)`;
                } else {
                    // Eje mayor
                    ctx.beginPath();
                    ctx.moveTo(originX, originY - a * scale);
                    ctx.lineTo(originX, originY + a * scale);
                    ctx.stroke();
                    
                    // Eje menor
                    ctx.beginPath();
                    ctx.moveTo(originX - b * scale, originY);
                    ctx.lineTo(originX + b * scale, originY);
                    ctx.stroke();
                    
                    // Focos
                    ctx.fillStyle = '#FF6F00';
                    ctx.beginPath();
                    ctx.arc(originX, originY - c * scale, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(originX, originY + c * scale, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Actualizar información
                    document.getElementById('ellipseEquation').textContent = `x²/${b.toFixed(1)}² + y²/${a.toFixed(1)}² = 1`;
                    document.getElementById('focus1').textContent = `(0, -${c.toFixed(1)})`;
                    document.getElementById('focus2').textContent = `(0, ${c.toFixed(1)})`;
                }
                
                document.getElementById('focalDistance').textContent = c.toFixed(1);
                document.getElementById('ellipseElements').style.display = 'block';
                
                ctx.setLineDash([]);
            } else {
                document.getElementById('ellipseElements').style.display = 'none';
            }
        }
        
        function toggleElements() {
            showElements = !showElements;
            drawEllipseGraph();
        }
        
        function resetEllipseGraph() {
            document.getElementById('aSlider').value = 3;
            document.getElementById('bSlider').value = 2;
            document.getElementById('orientationSlider').value = 'horizontal';
            showElements = false;
            drawEllipseGraph();
        }
        
        // Gráfico de inecuaciones de la elipse
        let showEllipsePoint = false;
        let ellipsePointX = 1;
        let ellipsePointY = 1;
        
        function initInequalityEllipseGraph() {
            const canvas = document.getElementById('inequalityEllipseCanvas');
            if (!canvas) return;
            
            const inequalityType = document.getElementById('ellipseInequalityType');
            
            drawInequalityEllipseGraph();
            
            inequalityType.addEventListener('change', drawInequalityEllipseGraph);
        }
        
        function drawInequalityEllipseGraph() {
            const canvas = document.getElementById('inequalityEllipseCanvas');
            const ctx = canvas.getContext('2d');
            const inequalityType = document.getElementById('ellipseInequalityType');
            
            const width = canvas.width;
            const height = canvas.height;
            const type = inequalityType.value;
            
            // Parámetros de la elipse
            const a = 3;
            const b = 2;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar elipse
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.ellipse(originX, originY, a * scale, b * scale, 0, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Dibujar región según inecuación
            if (type === 'interior') {
                // Interior de la elipse
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.beginPath();
                ctx.ellipse(originX, originY, a * scale, b * scale, 0, 0, 2 * Math.PI);
                ctx.fill();
                
                document.getElementById('ellipseInequalityText').textContent = 'x²/9 + y²/4 < 1';
            } else {
                // Exterior de la elipse
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.fillRect(0, 0, width, height);
                
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                ctx.ellipse(originX, originY, a * scale, b * scale, 0, 0, 2 * Math.PI);
                ctx.fill();
                
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.ellipse(originX, originY, a * scale, b * scale, 0, 0, 2 * Math.PI);
                ctx.stroke();
                
                document.getElementById('ellipseInequalityText').textContent = 'x²/9 + y²/4 > 1';
            }
            
            // Dibujar punto de prueba si está visible
            if (showEllipsePoint) {
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX + ellipsePointX * scale, originY - ellipsePointY * scale, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Comprobar si el punto satisface la inecuación
                const ellipseValue = (ellipsePointX * ellipsePointX) / (a * a) + (ellipsePointY * ellipsePointY) / (b * b);
                let satisfies = false;
                
                if (type === 'interior') {
                    satisfies = ellipseValue < 1;
                } else {
                    satisfies = ellipseValue > 1;
                }
                
                ctx.fillStyle = satisfies ? '#06D6A0' : '#E63946';
                ctx.font = 'bold 14px Arial';
                ctx.fillText(`Punto (${ellipsePointX}, ${ellipsePointY}): ${satisfies ? 'Satisface' : 'No satisface'}`, 20, 30);
            }
        }
        
        function toggleEllipsePoint() {
            showEllipsePoint = !showEllipsePoint;
            
            if (showEllipsePoint) {
                // Generar punto aleatorio
                ellipsePointX = (Math.random() * 6 - 3).toFixed(1);
                ellipsePointY = (Math.random() * 6 - 3).toFixed(1);
            }
            
            drawInequalityEllipseGraph();
        }
        
        function resetInequalityEllipse() {
            document.getElementById('ellipseInequalityType').value = 'interior';
            showEllipsePoint = false;
            drawInequalityEllipseGraph();
        }
        
        // Gráfico de la parábola
        let showParabolaElements = false;
        
        function initParabolaGraph() {
            const canvas = document.getElementById('parabolaCanvas');
            if (!canvas) return;
            
            const pSlider = document.getElementById('pSlider');
            const orientationSlider = document.getElementById('parabolaOrientation');
            
            drawParabolaGraph();
            
            pSlider.addEventListener('input', drawParabolaGraph);
            orientationSlider.addEventListener('change', drawParabolaGraph);
        }
        
        function drawParabolaGraph() {
            const canvas = document.getElementById('parabolaCanvas');
            const ctx = canvas.getContext('2d');
            const pSlider = document.getElementById('pSlider');
            const orientationSlider = document.getElementById('parabolaOrientation');
            
            const width = canvas.width;
            const height = canvas.height;
            const p = parseFloat(pSlider.value);
            const orientation = orientationSlider.value;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar parábola
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            if (orientation === 'vertical') {
                // Parábola vertical
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    const y = (x * x) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
            } else {
                // Parábola horizontal
                for (let y = -height / (2 * scale); y <= height / (2 * scale); y += 0.1) {
                    const x = (y * y) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (y === -height / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
            }
            
            ctx.stroke();
            
            // Dibujar elementos si están visibles
            if (showParabolaElements) {
                // Dibujar vértice
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX, originY, 4, 0, 2 * Math.PI);
                ctx.fill();
                
                // Dibujar foco
                ctx.fillStyle = '#FF6F00';
                if (orientation === 'vertical') {
                    ctx.beginPath();
                    ctx.arc(originX, originY - p * scale, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Dibujar directriz
                    ctx.strokeStyle = '#558B2F';
                    ctx.lineWidth = 1;
                    ctx.setLineDash([5, 3]);
                    ctx.beginPath();
                    ctx.moveTo(0, originY + p * scale);
                    ctx.lineTo(width, originY + p * scale);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    // Actualizar información
                    document.getElementById('parabolaEquation').textContent = `x² = ${4 * p}y`;
                    document.getElementById('parabolaVertex').textContent = '(0, 0)';
                    document.getElementById('parabolaFocus').textContent = `(0, ${p})`;
                    document.getElementById('parabolaDirectrix').textContent = `y = ${-p}`;
                } else {
                    ctx.beginPath();
                    ctx.arc(originX + p * scale, originY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Dibujar directriz
                    ctx.strokeStyle = '#558B2F';
                    ctx.lineWidth = 1;
                    ctx.setLineDash([5, 3]);
                    ctx.beginPath();
                    ctx.moveTo(originX - p * scale, 0);
                    ctx.lineTo(originX - p * scale, height);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    // Actualizar información
                    document.getElementById('parabolaEquation').textContent = `y² = ${4 * p}x`;
                    document.getElementById('parabolaVertex').textContent = '(0, 0)';
                    document.getElementById('parabolaFocus').textContent = `(${p}, 0)`;
                    document.getElementById('parabolaDirectrix').textContent = `x = ${-p}`;
                }
                
                document.getElementById('parabolaElements').style.display = 'block';
            } else {
                document.getElementById('parabolaElements').style.display = 'none';
            }
        }
        
        function toggleParabolaElements() {
            showParabolaElements = !showParabolaElements;
            drawParabolaGraph();
        }
        
        function resetParabolaGraph() {
            document.getElementById('pSlider').value = 1;
            document.getElementById('parabolaOrientation').value = 'vertical';
            showParabolaElements = false;
            drawParabolaGraph();
        }
        
        // Gráfico de inecuaciones de la parábola
        let showParabolaPoint = false;
        let parabolaPointX = 1;
        let parabolaPointY = 1;
        
        function initInequalityParabolaGraph() {
            const canvas = document.getElementById('inequalityParabolaCanvas');
            if (!canvas) return;
            
            const inequalityType = document.getElementById('parabolaInequalityType');
            
            drawInequalityParabolaGraph();
            
            inequalityType.addEventListener('change', drawInequalityParabolaGraph);
        }
        
        function drawInequalityParabolaGraph() {
            const canvas = document.getElementById('inequalityParabolaCanvas');
            const ctx = canvas.getContext('2d');
            const inequalityType = document.getElementById('parabolaInequalityType');
            
            const width = canvas.width;
            const height = canvas.height;
            const type = inequalityType.value;
            
            // Parámetro de la parábola
            const p = 1;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar parábola
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                const y = (x * x) / (4 * p);
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            
            ctx.stroke();
            
            // Dibujar región según inecuación
            if (type === 'interior') {
                // Interior de la parábola (región que contiene al foco)
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.fillRect(0, 0, width, height);
                
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    const y = (x * x) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.lineTo(width, 0);
                ctx.lineTo(width, height);
                ctx.lineTo(0, height);
                ctx.lineTo(0, 0);
                ctx.closePath();
                ctx.fill();
                
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    const y = (x * x) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                document.getElementById('parabolaInequalityText').textContent = 'x² < 4y';
            } else {
                // Exterior de la parábola
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                
                // Dibujar la región exterior
                ctx.beginPath();
                ctx.moveTo(0, 0);
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    const y = (x * x) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.lineTo(width, height);
                ctx.lineTo(0, height);
                ctx.closePath();
                ctx.fill();
                
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    const y = (x * x) / (4 * p);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                document.getElementById('parabolaInequalityText').textContent = 'x² > 4y';
            }
            
            // Dibujar punto de prueba si está visible
            if (showParabolaPoint) {
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX + parabolaPointX * scale, originY - parabolaPointY * scale, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Comprobar si el punto satisface la inecuación
                const parabolaValue = parabolaPointX * parabolaPointX;
                const compareValue = 4 * parabolaPointY;
                let satisfies = false;
                
                if (type === 'interior') {
                    satisfies = parabolaValue < compareValue;
                } else {
                    satisfies = parabolaValue > compareValue;
                }
                
                ctx.fillStyle = satisfies ? '#06D6A0' : '#E63946';
                ctx.font = 'bold 14px Arial';
                ctx.fillText(`Punto (${parabolaPointX}, ${parabolaPointY}): ${satisfies ? 'Satisface' : 'No satisface'}`, 20, 30);
            }
        }
        
        function toggleParabolaPoint() {
            showParabolaPoint = !showParabolaPoint;
            
            if (showParabolaPoint) {
                // Generar punto aleatorio
                parabolaPointX = (Math.random() * 6 - 3).toFixed(1);
                parabolaPointY = (Math.random() * 6 - 3).toFixed(1);
            }
            
            drawInequalityParabolaGraph();
        }
        
        function resetInequalityParabola() {
            document.getElementById('parabolaInequalityType').value = 'interior';
            showParabolaPoint = false;
            drawInequalityParabolaGraph();
        }
        
        // Gráfico de la hipérbola
        let showHyperbolaElements = false;
        
        function initHyperbolaGraph() {
            const canvas = document.getElementById('hyperbolaCanvas');
            if (!canvas) return;
            
            const aSlider = document.getElementById('aHyperbolaSlider');
            const bSlider = document.getElementById('bHyperbolaSlider');
            const orientationSlider = document.getElementById('hyperbolaOrientation');
            
            drawHyperbolaGraph();
            
            aSlider.addEventListener('input', drawHyperbolaGraph);
            bSlider.addEventListener('input', drawHyperbolaGraph);
            orientationSlider.addEventListener('change', drawHyperbolaGraph);
        }
        
        function drawHyperbolaGraph() {
            const canvas = document.getElementById('hyperbolaCanvas');
            const ctx = canvas.getContext('2d');
            const aSlider = document.getElementById('aHyperbolaSlider');
            const bSlider = document.getElementById('bHyperbolaSlider');
            const orientationSlider = document.getElementById('hyperbolaOrientation');
            
            const width = canvas.width;
            const height = canvas.height;
            const a = parseFloat(aSlider.value);
            const b = parseFloat(bSlider.value);
            const orientation = orientationSlider.value;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar hipérbola
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            
            if (orientation === 'horizontal') {
                // Hipérbola horizontal
                // Rama derecha
                ctx.beginPath();
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                // Rama izquierda
                ctx.beginPath();
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
            } else {
                // Hipérbola vertical
                // Rama superior
                ctx.beginPath();
                for (let y = a; y <= height / (2 * scale); y += 0.1) {
                    const x = b * Math.sqrt((y * y) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (y === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let y = a; y <= height / (2 * scale); y += 0.1) {
                    const x = -b * Math.sqrt((y * y) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (y === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                // Rama inferior
                ctx.beginPath();
                for (let y = -a; y >= -height / (2 * scale); y -= 0.1) {
                    const x = b * Math.sqrt((y * y) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (y === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let y = -a; y >= -height / (2 * scale); y -= 0.1) {
                    const x = -b * Math.sqrt((y * y) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (y === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
            }
            
            // Dibujar elementos si están visibles
            if (showHyperbolaElements) {
                // Calcular c
                const c = Math.sqrt(a * a + b * b);
                
                // Dibujar centro
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX, originY, 4, 0, 2 * Math.PI);
                ctx.fill();
                
                // Dibujar asíntotas
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                
                if (orientation === 'horizontal') {
                    // Asíntotas
                    ctx.beginPath();
                    ctx.moveTo(0, originY - (b / a) * originX);
                    ctx.lineTo(width, originY + (b / a) * (width - originX));
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + (b / a) * originX);
                    ctx.lineTo(width, originY - (b / a) * (width - originX));
                    ctx.stroke();
                    
                    // Focos
                    ctx.fillStyle = '#FF6F00';
                    ctx.beginPath();
                    ctx.arc(originX - c * scale, originY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(originX + c * scale, originY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Actualizar información
                    document.getElementById('hyperbolaEquation').textContent = `x²/${a.toFixed(1)}² - y²/${b.toFixed(1)}² = 1`;
                    document.getElementById('hyperbolaFocus1').textContent = `(-${c.toFixed(1)}, 0)`;
                    document.getElementById('hyperbolaFocus2').textContent = `(${c.toFixed(1)}, 0)`;
                    document.getElementById('hyperbolaFocalDistance').textContent = c.toFixed(1);
                    document.getElementById('hyperbolaAsymptote1').textContent = `y = ${(b / a).toFixed(2)}x`;
                    document.getElementById('hyperbolaAsymptote2').textContent = `y = ${(-b / a).toFixed(2)}x`;
                } else {
                    // Asíntotas
                    ctx.beginPath();
                    ctx.moveTo(0, originY - (a / b) * originX);
                    ctx.lineTo(width, originY + (a / b) * (width - originX));
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + (a / b) * originX);
                    ctx.lineTo(width, originY - (a / b) * (width - originX));
                    ctx.stroke();
                    
                    // Focos
                    ctx.fillStyle = '#FF6F00';
                    ctx.beginPath();
                    ctx.arc(originX, originY - c * scale, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.arc(originX, originY + c * scale, 4, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Actualizar información
                    document.getElementById('hyperbolaEquation').textContent = `y²/${a.toFixed(1)}² - x²/${b.toFixed(1)}² = 1`;
                    document.getElementById('hyperbolaFocus1').textContent = `(0, -${c.toFixed(1)})`;
                    document.getElementById('hyperbolaFocus2').textContent = `(0, ${c.toFixed(1)})`;
                    document.getElementById('hyperbolaFocalDistance').textContent = c.toFixed(1);
                    document.getElementById('hyperbolaAsymptote1').textContent = `y = ${(a / b).toFixed(2)}x`;
                    document.getElementById('hyperbolaAsymptote2').textContent = `y = ${(-a / b).toFixed(2)}x`;
                }
                
                ctx.setLineDash([]);
                document.getElementById('hyperbolaElements').style.display = 'block';
            } else {
                document.getElementById('hyperbolaElements').style.display = 'none';
            }
        }
        
        function toggleHyperbolaElements() {
            showHyperbolaElements = !showHyperbolaElements;
            drawHyperbolaGraph();
        }
        
        function resetHyperbolaGraph() {
            document.getElementById('aHyperbolaSlider').value = 2;
            document.getElementById('bHyperbolaSlider').value = 1.5;
            document.getElementById('hyperbolaOrientation').value = 'horizontal';
            showHyperbolaElements = false;
            drawHyperbolaGraph();
        }
        
        // Gráfico de inecuaciones de la hipérbola
        let showHyperbolaPoint = false;
        let hyperbolaPointX = 3;
        let hyperbolaPointY = 1;
        
        function initInequalityHyperbolaGraph() {
            const canvas = document.getElementById('inequalityHyperbolaCanvas');
            if (!canvas) return;
            
            const inequalityType = document.getElementById('hyperbolaInequalityType');
            
            drawInequalityHyperbolaGraph();
            
            inequalityType.addEventListener('change', drawInequalityHyperbolaGraph);
        }
        
        function drawInequalityHyperbolaGraph() {
            const canvas = document.getElementById('inequalityHyperbolaCanvas');
            const ctx = canvas.getContext('2d');
            const inequalityType = document.getElementById('hyperbolaInequalityType');
            
            const width = canvas.width;
            const height = canvas.height;
            const type = inequalityType.value;
            
            // Parámetros de la hipérbola
            const a = 2;
            const b = 1.5;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar cuadrícula
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 0.5;
            
            for (let i = -5; i <= 5; i++) {
                if (i !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(originX + i * scale, 0);
                    ctx.lineTo(originX + i * scale, height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, originY + i * scale);
                    ctx.lineTo(width, originY + i * scale);
                    ctx.stroke();
                }
            }
            
            // Dibujar hipérbola
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            
            // Rama derecha
            ctx.beginPath();
            for (let x = a; x <= width / (2 * scale); x += 0.1) {
                const y = b * Math.sqrt((x * x) / (a * a) - 1);
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === a) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            
            for (let x = a; x <= width / (2 * scale); x += 0.1) {
                const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === a) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            
            ctx.stroke();
            
            // Rama izquierda
            ctx.beginPath();
            for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                const y = b * Math.sqrt((x * x) / (a * a) - 1);
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -a) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            
            for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -a) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            
            ctx.stroke();
            
            // Dibujar región según inecuación
            if (type === 'between') {
                // Región entre las ramas
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                
                // Dibujar la región entre las ramas
                ctx.beginPath();
                ctx.moveTo(originX - a * scale, 0);
                
                for (let x = -a; x <= a; x += 0.1) {
                    const screenX = originX + x * scale;
                    ctx.lineTo(screenX, 0);
                }
                
                ctx.lineTo(originX + a * scale, height);
                ctx.lineTo(originX - a * scale, height);
                ctx.closePath();
                ctx.fill();
                
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                
                // Volver a dibujar la hipérbola
                // Rama derecha
                ctx.beginPath();
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                // Rama izquierda
                ctx.beginPath();
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                document.getElementById('hyperbolaInequalityText').textContent = 'x²/4 - y²/2.25 < 1';
            } else {
                // Región exterior a las ramas
                ctx.fillStyle = 'rgba(25, 118, 210, 0.2)';
                ctx.fillRect(0, 0, width, height);
                
                ctx.globalCompositeOperation = 'destination-out';
                
                // Dibujar la región entre las ramas para eliminarla
                ctx.beginPath();
                ctx.moveTo(originX - a * scale, 0);
                
                for (let x = -a; x <= a; x += 0.1) {
                    const screenX = originX + x * scale;
                    ctx.lineTo(screenX, 0);
                }
                
                ctx.lineTo(originX + a * scale, height);
                ctx.lineTo(originX - a * scale, height);
                ctx.closePath();
                ctx.fill();
                
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = '#1976D2';
                ctx.lineWidth = 2;
                
                // Volver a dibujar la hipérbola
                // Rama derecha
                ctx.beginPath();
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = a; x <= width / (2 * scale); x += 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                // Rama izquierda
                ctx.beginPath();
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                for (let x = -a; x >= -width / (2 * scale); x -= 0.1) {
                    const y = -b * Math.sqrt((x * x) / (a * a) - 1);
                    const screenX = originX + x * scale;
                    const screenY = originY - y * scale;
                    
                    if (x === -a) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                
                ctx.stroke();
                
                document.getElementById('hyperbolaInequalityText').textContent = 'x²/4 - y²/2.25 > 1';
            }
            
            // Dibujar punto de prueba si está visible
            if (showHyperbolaPoint) {
                ctx.fillStyle = '#D32F2F';
                ctx.beginPath();
                ctx.arc(originX + hyperbolaPointX * scale, originY - hyperbolaPointY * scale, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Comprobar si el punto satisface la inecuación
                const hyperbolaValue = (hyperbolaPointX * hyperbolaPointX) / (a * a) - (hyperbolaPointY * hyperbolaPointY) / (b * b);
                let satisfies = false;
                
                if (type === 'between') {
                    satisfies = hyperbolaValue < 1;
                } else {
                    satisfies = hyperbolaValue > 1;
                }
                
                ctx.fillStyle = satisfies ? '#06D6A0' : '#E63946';
                ctx.font = 'bold 14px Arial';
                ctx.fillText(`Punto (${hyperbolaPointX}, ${hyperbolaPointY}): ${satisfies ? 'Satisface' : 'No satisface'}`, 20, 30);
            }
        }
        
        function toggleHyperbolaPoint() {
            showHyperbolaPoint = !showHyperbolaPoint;
            
            if (showHyperbolaPoint) {
                // Generar punto aleatorio
                hyperbolaPointX = (Math.random() * 6 - 3).toFixed(1);
                hyperbolaPointY = (Math.random() * 6 - 3).toFixed(1);
            }
            
            drawInequalityHyperbolaGraph();
        }
        
        function resetInequalityHyperbola() {
            document.getElementById('hyperbolaInequalityType').value = 'between';
            showHyperbolaPoint = false;
            drawInequalityHyperbolaGraph();
        }
        
        // Animación del mapa conceptual
        function animateConceptMap() {
            const nodes = document.querySelectorAll('.map-node');
            let currentIndex = 0;
            
            // Resetear todos los nodos
            nodes.forEach(node => {
                node.classList.remove('highlight');
            });
            
            // Animar los nodos uno por uno
            const interval = setInterval(() => {
                if (currentIndex < nodes.length) {
                    nodes[currentIndex].classList.add('highlight');
                    currentIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 500);
        }
        
        // Funciones de navegación entre pestañas
        function navigateTab(direction) {
            currentTab += direction;
            
            // Asegurarse de que el índice esté dentro de los límites
            if (currentTab < 0) {
                currentTab = tabs.length - 1;
            } else if (currentTab >= tabs.length) {
                currentTab = 0;
            }
            
            // Obtener el botón de la pestaña correspondiente
            const tabButton = document.querySelectorAll('.tab-button')[currentTab];
            
            // Simular un clic en el botón
            tabButton.click();
        }
        
        // Funciones de accesibilidad
        function toggleAccessibilityMenu() {
            const menu = document.getElementById('accessibilityMenu');
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
            }
        }
        
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }
        
        function toggleLargeText() {
            document.body.classList.toggle('large-text');
        }
        
        function toggleDyslexicFont() {
            document.body.classList.toggle('dyslexic');
        }
        
        // Inicializar el primer gráfico al cargar la página
        window.onload = function() {
            initConeGraph();
            updateProgress();
            
            // Cerrar el menú de accesibilidad si se hace clic fuera de él
            document.addEventListener('click', function(event) {
                const menu = document.getElementById('accessibilityMenu');
                const button = document.querySelector('.accessibility-toggle');
                
                if (menu.style.display === 'block' && 
                    !menu.contains(event.target) && 
                    !button.contains(event.target)) {
                    menu.style.display = 'none';
                }
            });
        };
    </script>
</body>
</html>
