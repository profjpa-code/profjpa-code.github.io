<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis Matemático: Unidad de Derivadas - 6° Año Educación Secundaria Técnica</title>
    <meta name="description" content="Recurso educativo para el aprendizaje del cálculo diferencial y sus aplicaciones en industrias de procesos">
    <meta name="keywords" content="cálculo diferencial, derivadas, análisis matemático, educación técnica, industrias de procesos">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            /* Paleta de colores inspirada en industrias de procesos */
            --procesos-oscuro: #1A3A5F;
            --procesos-medio: #2E5C8A;
            --procesos-claro: #4A7BA7;
            --procesos-acentos: #E63946;
            --procesos-secundario: #457B9D;
            --procesos-fondo: #F1FAEE;
            --procesos-texto: #1D3557;
            --procesos-exito: #06D6A0;
            --procesos-advertencia: #FFD166;
            --blanco: #FFFFFF;
            --gris: #E0E0E0;
            --gris-oscuro: #555555;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--procesos-fondo);
            color: var(--procesos-texto);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(to right, var(--procesos-oscuro), var(--procesos-medio));
            color: var(--blanco);
            padding: 25px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            font-weight: 300;
        }
        
        .institucion {
            margin-top: 15px;
            font-size: 1rem;
            font-style: italic;
            opacity: 0.9;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--procesos-medio);
            flex-wrap: wrap;
        }
        
        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background-color: var(--procesos-claro);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            color: var(--blanco);
            transition: background-color 0.3s, transform 0.2s;
        }
        
        .tab-button:hover {
            background-color: var(--procesos-medio);
            transform: translateY(-2px);
        }
        
        .tab-button.active {
            background-color: var(--procesos-oscuro);
            border-bottom: 3px solid var(--procesos-acentos);
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            background-color: var(--blanco);
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .concept-banner {
            background-color: var(--procesos-secundario);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .definition-box {
            background-color: var(--gris);
            border-left: 5px solid var(--procesos-acentos);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .example-box {
            background-color: var(--procesos-fondo);
            border: 1px solid var(--procesos-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .example-title {
            color: var(--procesos-oscuro);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .solution-button {
            background-color: var(--procesos-medio);
            color: var(--blanco);
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .solution-button:hover {
            background-color: var(--procesos-oscuro);
            transform: translateY(-2px);
        }
        
        .solution {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--gris);
            border-radius: 5px;
        }
        
        .exercise-box {
            background-color: var(--blanco);
            border: 2px solid var(--procesos-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .quiz-container {
            background-color: var(--procesos-fondo);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .question {
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            margin-left: 20px;
        }
        
        .option {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .option:hover {
            background-color: rgba(74, 123, 167, 0.1);
        }
        
        .option input {
            margin-right: 10px;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
            font-weight: 500;
        }
        
        .correct {
            background-color: rgba(6, 214, 160, 0.2);
            color: #04805a;
            border-left: 4px solid var(--procesos-exito);
        }
        
        .incorrect {
            background-color: rgba(230, 57, 70, 0.2);
            color: #b73140;
            border-left: 4px solid var(--procesos-acentos);
        }
        
        .submit-button {
            background-color: var(--procesos-secundario);
            color: var(--blanco);
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .submit-button:hover {
            background-color: var(--procesos-medio);
            transform: translateY(-2px);
        }
        
        .application-box {
            background-color: rgba(69, 123, 157, 0.15);
            border-left: 5px solid var(--procesos-secundario);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .application-title {
            color: var(--procesos-secundario);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .process-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            background-color: var(--procesos-oscuro);
            color: var(--blanco);
            border-radius: 10px;
        }
        
        /* Estilos para las mejoras */
        .graph-container {
            background-color: var(--blanco);
            border: 2px solid var(--procesos-claro);
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        canvas {
            border: 1px solid var(--gris);
            border-radius: 5px;
            max-width: 100%;
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .control-button {
            background-color: var(--procesos-medio);
            color: var(--blanco);
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }
        
        .control-button:hover {
            background-color: var(--procesos-oscuro);
            transform: translateY(-2px);
        }
        
        .slider-container {
            margin: 10px;
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 8px 12px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .slider-container label {
            margin-right: 10px;
            font-weight: bold;
            color: var(--procesos-oscuro);
        }
        
        input[type="range"] {
            width: 150px;
        }
        
        .history-timeline {
            position: relative;
            margin: 30px 0;
            padding: 20px 0;
        }
        
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--procesos-medio);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            width: 45%;
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
            text-align: right;
            padding-right: 60px;
        }
        
        .timeline-item:nth-child(even) {
            left: 55%;
            padding-left: 60px;
        }
        
        .timeline-dot {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--procesos-oscuro);
            top: 5px;
        }
        
        .timeline-item:nth-child(odd) .timeline-dot {
            right: -10px;
        }
        
        .timeline-item:nth-child(even) .timeline-dot {
            left: -10px;
        }
        
        .timeline-content {
            background-color: var(--procesos-fondo);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .timeline-year {
            font-weight: bold;
            color: var(--procesos-oscuro);
            margin-bottom: 5px;
        }
        
        .concept-map {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }
        
        .map-row {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .map-node {
            background-color: var(--procesos-claro);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            position: relative;
            transition: transform 0.3s, background-color 0.3s;
        }
        
        .map-node:hover {
            transform: translateY(-5px);
            background-color: var(--procesos-medio);
        }
        
        .map-node.highlight {
            background-color: var(--procesos-secundario);
            transform: scale(1.1);
        }
        
        .map-arrow {
            color: var(--procesos-oscuro);
            font-size: 1.5rem;
            margin: 0 10px;
            align-self: center;
        }
        
        .general-applications {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .app-card {
            background-color: var(--blanco);
            border: 1px solid var(--procesos-claro);
            border-radius: 8px;
            padding: 18px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        
        .app-icon {
            font-size: 2rem;
            color: var(--procesos-medio);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .app-title {
            font-weight: bold;
            color: var(--procesos-oscuro);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .variable-explanation {
            background-color: rgba(255, 209, 102, 0.2);
            border-left: 4px solid var(--procesos-advertencia);
            padding: 12px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
            font-style: italic;
        }
        
        .value-display {
            background-color: rgba(74, 123, 167, 0.1);
            border: 1px solid var(--procesos-secundario);
            border-radius: 8px;
            padding: 18px;
            margin: 18px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .value-row {
            display: flex;
            justify-content: space-around;
            margin: 12px 0;
            flex-wrap: wrap;
        }
        
        .value-item {
            margin: 8px 15px;
            padding: 8px 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .value-label {
            color: var(--procesos-secundario);
            font-size: 0.9rem;
        }
        
        .value-number {
            font-size: 1.2rem;
            color: var(--procesos-oscuro);
        }
        
        .formula-box {
            background-color: #F5F5F5;
            border: 1px solid #DDD;
            border-radius: 8px;
            padding: 18px;
            margin: 18px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .step-box {
            background-color: rgba(6, 214, 160, 0.15);
            border-left: 4px solid var(--procesos-exito);
            padding: 15px;
            margin: 18px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .step-title {
            color: var(--procesos-exito);
            font-weight: bold;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .construction-steps {
            background-color: rgba(241, 248, 233, 0.5);
            border: 1px solid var(--procesos-exito);
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .construction-title {
            color: var(--procesos-exito);
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .step-item {
            margin-bottom: 20px;
            padding-left: 35px;
            position: relative;
        }
        
        .step-number {
            position: absolute;
            left: 0;
            top: 0;
            background-color: var(--procesos-exito);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .step-content {
            padding-left: 12px;
        }
        
        .step-formula {
            background-color: rgba(6, 214, 160, 0.1);
            padding: 12px;
            border-radius: 5px;
            margin: 12px 0;
            text-align: center;
        }
        
        .step-explanation {
            font-style: italic;
            color: var(--gris-oscuro);
            margin-top: 8px;
        }
        
        .delta-explanation {
            background-color: rgba(69, 123, 157, 0.15);
            border-left: 4px solid var(--procesos-secundario);
            padding: 18px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .delta-title {
            color: var(--procesos-secundario);
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 12px;
        }
        
        /* Estilos para la pestaña de bibliografía */
        .bibliography-section {
            margin-bottom: 35px;
        }
        
        .bibliography-title {
            color: var(--procesos-oscuro);
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 18px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--procesos-medio);
        }
        
        .reference-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .reference-item {
            background-color: #F9F9F9;
            border-left: 4px solid var(--procesos-medio);
            padding: 15px 18px;
            margin-bottom: 15px;
            border-radius: 0 5px 5px 0;
            transition: transform 0.3s ease, background-color 0.3s;
        }
        
        .reference-item:hover {
            transform: translateX(8px);
            background-color: #F1F1F1;
        }
        
        .reference-type {
            display: inline-block;
            background-color: var(--procesos-claro);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .reference-title {
            font-weight: bold;
            color: var(--procesos-oscuro);
        }
        
        .reference-authors {
            font-style: italic;
            color: #555;
        }
        
        .reference-publisher {
            color: #666;
            font-size: 0.9rem;
        }
        
        .reference-link {
            color: var(--procesos-secundario);
            text-decoration: none;
            font-weight: bold;
        }
        
        .reference-link:hover {
            text-decoration: underline;
        }
        
        .reference-description {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .bibliography-note {
            background-color: rgba(255, 209, 102, 0.2);
            border-left: 4px solid var(--procesos-advertencia);
            padding: 18px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        /* Estilos para el modo de accesibilidad */
        .accessibility-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--procesos-oscuro);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .accessibility-menu {
            position: fixed;
            bottom: 90px;
            right: 20px;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            min-width: 250px;
        }
        
        .accessibility-option {
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .accessibility-option label {
            flex-grow: 1;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--procesos-secundario);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* Estilos para modo alto contraste */
        body.high-contrast {
            background-color: #000;
            color: #FFF;
        }
        
        body.high-contrast .container {
            background-color: #000;
        }
        
        body.high-contrast header,
        body.high-contrast .tab-button,
        body.high-contrast .concept-banner,
        body.high-contrast .submit-button,
        body.high-contrast .control-button,
        body.high-contrast .solution-button,
        body.high-contrast footer {
            background-color: #000;
            color: #FFF;
            border: 2px solid #FFF;
        }
        
        body.high-contrast .tab-content,
        body.high-contrast .definition-box,
        body.high-contrast .example-box,
        body.high-contrast .exercise-box,
        body.high-contrast .quiz-container,
        body.high-contrast .graph-container,
        body.high-contrast .application-box {
            background-color: #000;
            color: #FFF;
            border: 2px solid #FFF;
        }
        
        /* Estilos para texto grande */
        body.large-text {
            font-size: 1.2em;
        }
        
        body.large-text h1 {
            font-size: 2.8em;
        }
        
        body.large-text h2 {
            font-size: 2.2em;
        }
        
        body.large-text h3 {
            font-size: 1.8em;
        }
        
        /* Estilos para modo disléxico */
        body.dyslexic {
            font-family: 'OpenDyslexic', 'Comic Sans MS', sans-serif;
            line-height: 1.8;
        }
        
        /* Estilos para indicador de progreso */
        .progress-container {
            margin: 20px 0;
            background-color: var(--gris);
            border-radius: 10px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 20px;
            background: linear-gradient(to right, var(--procesos-claro), var(--procesos-secundario));
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-weight: bold;
            color: var(--procesos-oscuro);
        }
        
        /* Estilos para el botón de navegación */
        .navigation-container {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
        }
        
        .nav-button {
            background-color: var(--procesos-medio);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
            display: flex;
            align-items: center;
        }
        
        .nav-button:hover {
            background-color: var(--procesos-oscuro);
            transform: translateY(-2px);
        }
        
        .nav-button i {
            margin: 0 10px;
        }
        
        .nav-button.prev i {
            order: -1;
        }
        
        /* Estilos responsivos */
        @media (max-width: 768px) {
            .tab-button {
                font-size: 0.9rem;
                padding: 12px 5px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .timeline-item {
                width: 100%;
                left: 0 !important;
                padding-left: 60px !important;
                padding-right: 0 !important;
                text-align: left !important;
            }
            
            .timeline-dot {
                left: -10px !important;
                right: auto !important;
            }
            
            .timeline-line {
                left: 20px;
            }
            
            .value-row {
                flex-direction: column;
            }
            
            .accessibility-menu {
                right: 10px;
                left: 10px;
                min-width: auto;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=OpenDyslexic&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>Análisis Matemático: Unidad de Derivadas</h1>
            <p class="subtitle">6° Año - Educación Secundaria Técnica - Industrias de Procesos</p>
            <p class="institucion">Ministerio de Educación de la Provincia de Córdoba - Dirección General de Educación Técnica y Formación Profesional</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-text" id="progressText">Progreso: 0%</div>
        </div>
        
        <div class="tab-container">
            <button class="tab-button active" onclick="openTab(event, 'clase1')">
                <i class="fas fa-chart-line"></i> Clase 1: Rectas Tangentes y Secantes
            </button>
            <button class="tab-button" onclick="openTab(event, 'clase2')">
                <i class="fas fa-tachometer-alt"></i> Clase 2: Velocidad y Límites
            </button>
            <button class="tab-button" onclick="openTab(event, 'clase2b')">
                <i class="fas fa-calculator"></i> Clase 2b: Límite del Cociente Incremental
            </button>
            <button class="tab-button" onclick="openTab(event, 'clase3')">
                <i class="fas fa-function"></i> Clase 3: Derivada y Aplicaciones
            </button>
            <button class="tab-button" onclick="openTab(event, 'historia')">
                <i class="fas fa-history"></i> Marco Histórico
            </button>
            <button class="tab-button" onclick="openTab(event, 'sintesis')">
                <i class="fas fa-project-diagram"></i> Síntesis Conceptual
            </button>
            <button class="tab-button" onclick="openTab(event, 'aplicaciones')">
                <i class="fas fa-industry"></i> Aplicaciones en Industrias de Procesos
            </button>
            <button class="tab-button" onclick="openTab(event, 'bibliografia')">
                <i class="fas fa-book"></i> Bibliografía y Referencias
            </button>
        </div>
        
        <div class="navigation-container">
            <button class="nav-button prev" onclick="navigateTab(-1)">
                <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <button class="nav-button next" onclick="navigateTab(1)">
                Siguiente <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <!-- CLASE 1 -->
        <div id="clase1" class="tab-content active">
            <div class="concept-banner">
                <span class="process-icon">⚙️</span> Recta Tangente y Secante: Fundamentos Geométricos
            </div>
            
            <div class="definition-box">
                <h3>Recta Tangente</h3>
                <p>Es la recta que toca a una curva en un solo punto, sin cortarla, y tiene la misma dirección que la curva en ese punto. Su pendiente representa la inclinación de la curva en dicho punto.</p>
            </div>
            
            <div class="definition-box">
                <h3>Recta Secante</h3>
                <p>Es una recta que corta a una curva en dos puntos distintos. Al acercar estos puntos, la secante se aproxima a la tangente.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Recta Tangente y Secante</h3>
                <canvas id="tangentSecantCanvas" width="700" height="450"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="pointSlider">Posición del punto:</label>
                        <input type="range" id="pointSlider" min="-5" max="5" step="0.1" value="1">
                    </div>
                    <div class="slider-container">
                        <label for="distanceSlider">Distancia entre puntos:</label>
                        <input type="range" id="distanceSlider" min="0.1" max="3" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleSecant()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Secante
                    </button>
                    <button class="control-button" onclick="resetGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Control de temperatura en un reactor químico</div>
                <p>En un reactor químico industrial, la temperatura varía con el tiempo según la función \( T(t) = 25 + 0.5t^2 \), donde T es la temperatura en °C y t es el tiempo en horas. Queremos determinar la tasa de cambio instantánea de la temperatura en t = 4 horas.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio del proceso (en horas), y <strong>T(t)</strong> representa la temperatura del reactor en ese instante (en °C). La función modela un aumento de temperatura no lineal típico en reacciones exotérmicas.
                </div>
                <p>Para encontrar la tasa de cambio instantánea, calculamos la pendiente de la recta tangente en t = 4.</p>
                <button class="solution-button" onclick="toggleSolution('sol1')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="sol1" class="solution">
                    <p>1. Calculamos dos puntos cercanos en la curva:</p>
                    <p>Punto A: \( (4, T(4)) = (4, 25 + 0.5 \cdot 4^2) = (4, 33) \) °C</p>
                    <p>Punto B: \( (4.1, T(4.1)) = (4.1, 25 + 0.5 \cdot 4.1^2) = (4.1, 33.405) \) °C</p>
                    <p>2. Calculamos la pendiente de la secante que pasa por A y B:</p>
                    <div class="formula-box">
                        \( m = \frac{33.405 - 33}{4.1 - 4} = \frac{0.405}{0.1} = 4.05 \) °C/hora
                    </div>
                    <p>3. Si repetimos el proceso con puntos más cercanos, nos acercamos a la pendiente de la tangente, que representa la tasa de cambio instantánea de la temperatura.</p>
                    <p>4. Al calcular el límite cuando el intervalo tiende a cero, obtenemos que la tasa de cambio instantánea en t = 4 es de 4 °C/hora.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>En un proceso de fermentación industrial, la concentración de un producto sigue la función \( C(t) = 10 + 2t - 0.1t^2 \), donde C es la concentración en g/L y t es el tiempo en horas. Calcula la pendiente de la secante entre los puntos t=2 y t=3 horas. ¿Qué sucede si acercamos los puntos a t=2 y t=2.1?</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio de la fermentación (en horas), y <strong>C(t)</strong> representa la concentración del producto en ese instante (en g/L). La función modela un crecimiento inicial seguido de una desaceleración típica en procesos de saturación.
                </div>
                <button class="solution-button" onclick="toggleSolution('ex1')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="ex1" class="solution">
                    <p>Para t=2 y t=3:</p>
                    <p>\( C(2) = 10 + 2 \cdot 2 - 0.1 \cdot 2^2 = 10 + 4 - 0.4 = 13.6 \) g/L</p>
                    <p>\( C(3) = 10 + 2 \cdot 3 - 0.1 \cdot 3^2 = 10 + 6 - 0.9 = 15.1 \) g/L</p>
                    <div class="formula-box">
                        \( m = \frac{15.1 - 13.6}{3 - 2} = \frac{1.5}{1} = 1.5 \) g/L·h
                    </div>
                    <p>Para t=2 y t=2.1:</p>
                    <p>\( C(2.1) = 10 + 2 \cdot 2.1 - 0.1 \cdot 2.1^2 = 10 + 4.2 - 0.441 = 13.759 \) g/L</p>
                    <div class="formula-box">
                        \( m = \frac{13.759 - 13.6}{2.1 - 2} = \frac{0.159}{0.1} = 1.59 \) g/L·h
                    </div>
                    <p>Al acercar los puntos, la pendiente de la secante se aproxima a la pendiente de la tangente en t=2, que representa la tasa de cambio instantánea de la concentración.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en industrias de procesos</div>
                <p>En el control de procesos químicos, conocer la tasa de cambio instantánea de variables como temperatura, presión o concentración es fundamental para la optimización y seguridad del proceso. La recta tangente nos permite predecir el comportamiento del sistema en un instante dado y tomar decisiones de control adecuadas.</p>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Clase 1</h3>
                <div class="question">1. ¿Qué representa la pendiente de la recta tangente a una curva en un punto?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q1" value="a" id="q1a">
                        <label for="q1a">La altura de la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="b" id="q1b">
                        <label for="q1b">La inclinación de la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="c" id="q1c">
                        <label for="q1c">El área bajo la curva hasta ese punto</label>
                    </div>
                </div>
                <div id="feedback1" class="feedback"></div>
                
                <div class="question">2. ¿Qué sucede con las rectas secantes cuando los puntos de corte se acercan?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q2" value="a" id="q2a">
                        <label for="q2a">Se convierten en paralelas al eje X</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q2" value="b" id="q2b">
                        <label for="q2b">Se acercan a la recta tangente</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q2" value="c" id="q2c">
                        <label for="q2c">Se alejan de la curva</label>
                    </div>
                </div>
                <div id="feedback2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz1')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- CLASE 2 -->
        <div id="clase2" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">⚡</span> Velocidad Media vs Instantánea y Noción de Límite
            </div>
            
            <div class="definition-box">
                <h3>Velocidad Media</h3>
                <p>Es el cociente entre el espacio recorrido y el tiempo transcurrido. Representa la velocidad promedio durante un intervalo de tiempo.</p>
                <div class="formula-box">
                    \( v_{media} = \frac{\Delta s}{\Delta t} = \frac{s(t_2) - s(t_1)}{t_2 - t_1} \)
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Velocidad Instantánea</h3>
                <p>Es la velocidad en un instante preciso. Se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.</p>
                <div class="formula-box">
                    \( v_{instantánea} = \lim_{\Delta t \to 0} \frac{\Delta s}{\Delta t} = \lim_{\Delta t \to 0} \frac{s(t + \Delta t) - s(t)}{\Delta t} \)
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Límite</h3>
                <p>Es el valor al que se aproxima una función cuando la variable independiente se acerca a un determinado valor. Es la herramienta fundamental para definir la derivada.</p>
                <div class="formula-box">
                    \( \lim_{x \to a} f(x) = L \)
                </div>
                <p>Significa que cuando x se acerca a a, f(x) se acerca a L.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Velocidad Media e Instantánea</h3>
                <canvas id="velocityCanvas" width="750" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="timeSlider">Tiempo (t):</label>
                        <input type="range" id="timeSlider" min="0" max="10" step="0.1" value="2">
                    </div>
                    <div class="slider-container">
                        <label for="intervalSlider">Intervalo (Δt):</label>
                        <input type="range" id="intervalSlider" min="0.1" max="2" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleAverageVelocity()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Velocidad Media
                    </button>
                    <button class="control-button" onclick="toggleDeltaTriangle()">
                        <i class="fas fa-draw-polygon"></i> Mostrar/Ocultar Δt y Δs
                    </button>
                    <button class="control-button" onclick="resetVelocityGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Tiempo inicial (t₀):</div>
                            <div class="value-number" id="t0Value">2.0 s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Tiempo final (t₁):</div>
                            <div class="value-number" id="t1Value">3.0 s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Δt:</div>
                            <div class="value-number" id="deltaTValue">1.0 s</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Posición inicial (s₀):</div>
                            <div class="value-number" id="s0Value">6.0 m</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Posición final (s₁):</div>
                            <div class="value-number" id="s1Value">15.0 m</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Δs:</div>
                            <div class="value-number" id="deltaSValue">9.0 m</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Velocidad media:</div>
                            <div class="value-number" id="avgVelocityValue">9.0 m/s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Velocidad instantánea:</div>
                            <div class="value-number" id="instantVelocityValue">7.0 m/s</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="delta-explanation">
                <div class="delta-title">Interpretación de Δt y Δs en la gráfica</div>
                <p>En la gráfica interactiva, podemos observar claramente:</p>
                <ul>
                    <li><strong>Δt (Delta t)</strong>: Representa el intervalo de tiempo transcurrido entre los dos puntos. En el triángulo, es el cateto horizontal que muestra la diferencia entre el tiempo final y el tiempo inicial.</li>
                    <li><strong>Δs (Delta s)</strong>: Representa el cambio de posición durante ese intervalo de tiempo. En el triángulo, es el cateto vertical que muestra la diferencia entre la posición final y la posición inicial.</li>
                </ul>
                <p>La velocidad media se calcula como el cociente entre estos dos incrementos:</p>
                <div class="formula-box">
                    \( v_{media} = \frac{\Delta s}{\Delta t} = \frac{s_1 - s_0}{t_1 - t_0} \)
                </div>
                <p>Cuando hacemos que Δt tienda a cero (acercando los puntos en el tiempo), la velocidad media se aproxima a la velocidad instantánea en el punto t₀.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Flujo de un fluido en una tubería industrial</div>
                <p>En una planta de procesos, el volumen de un fluido que pasa por una sección de tubería varía con el tiempo según la función \( V(t) = 3t^2 - 2t + 5 \), donde V es el volumen en metros cúbicos y t es el tiempo en minutos. Calcula la velocidad media de flujo entre t=2 y t=3 minutos, y estima la velocidad instantánea en t=2.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio de la medición (en minutos), y <strong>V(t)</strong> representa el volumen acumulado de fluido que ha pasado por la sección de la tubería hasta ese instante (en metros cúbicos). La función modela un flujo acelerado típico en procesos de bombeo.
                </div>
                <button class="solution-button" onclick="toggleSolution('sol2')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="sol2" class="solution">
                    <p>1. Velocidad media entre t=2 y t=3:</p>
                    <p>\( V(2) = 3 \cdot 2^2 - 2 \cdot 2 + 5 = 12 - 4 + 5 = 13 \) m³</p>
                    <p>\( V(3) = 3 \cdot 3^2 - 2 \cdot 3 + 5 = 27 - 6 + 5 = 26 \) m³</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{26 - 13}{3 - 2} = \frac{13}{1} = 13 \) m³/min
                    </div>
                    <p>2. Para estimar la velocidad instantánea en t=2, calculamos velocidades medias en intervalos más pequeños:</p>
                    <p>Entre t=2 y t=2.1:</p>
                    <p>\( V(2.1) = 3 \cdot (2.1)^2 - 2 \cdot 2.1 + 5 = 13.23 - 4.2 + 5 = 14.03 \) m³</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{14.03 - 13}{2.1 - 2} = \frac{1.03}{0.1} = 10.3 \) m³/min
                    </div>
                    <p>Entre t=2 y t=2.01:</p>
                    <p>\( V(2.01) = 3 \cdot (2.01)^2 - 2 \cdot 2.01 + 5 = 12.1203 - 4.02 + 5 = 13.1003 \) m³</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{13.1003 - 13}{2.01 - 2} = \frac{0.1003}{0.01} = 10.03 \) m³/min
                    </div>
                    <p>Al acercar los puntos, la velocidad se aproxima a 10 m³/min, que es la velocidad instantánea en t=2.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>En un proceso de destilación, la cantidad de producto obtenido varía con el tiempo según la función \( P(t) = 20t - 0.5t^2 \), donde P es la cantidad en kg y t es el tiempo en horas. Calcula la velocidad media de producción entre t=1 y t=3 horas, y estima la velocidad instantánea en t=2.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio de la destilación (en horas), y <strong>P(t)</strong> representa la cantidad de producto destilado acumulada hasta ese instante (en kg). La función modela una producción inicial rápida que luego se desacelera, típica en procesos de extracción limitados por la concentración.
                </div>
                <button class="solution-button" onclick="toggleSolution('ex2')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="ex2" class="solution">
                    <p>1. Velocidad media entre t=1 y t=3:</p>
                    <p>\( P(1) = 20 \cdot 1 - 0.5 \cdot 1^2 = 20 - 0.5 = 19.5 \) kg</p>
                    <p>\( P(3) = 20 \cdot 3 - 0.5 \cdot 3^2 = 60 - 4.5 = 55.5 \) kg</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{55.5 - 19.5}{3 - 1} = \frac{36}{2} = 18 \) kg/h
                    </div>
                    <p>2. Para estimar la velocidad instantánea en t=2:</p>
                    <p>\( P(2) = 20 \cdot 2 - 0.5 \cdot 2^2 = 40 - 2 = 38 \) kg</p>
                    <p>Entre t=2 y t=2.1:</p>
                    <p>\( P(2.1) = 20 \cdot 2.1 - 0.5 \cdot 2.1^2 = 42 - 2.205 = 39.795 \) kg</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{39.795 - 38}{2.1 - 2} = \frac{1.795}{0.1} = 17.95 \) kg/h
                    </div>
                    <p>Entre t=2 y t=2.01:</p>
                    <p>\( P(2.01) = 20 \cdot 2.01 - 0.5 \cdot 2.01^2 = 40.2 - 2.02005 = 38.17995 \) kg</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{38.17995 - 38}{2.01 - 2} = \frac{0.17995}{0.01} = 17.995 \) kg/h
                    </div>
                    <p>La velocidad instantánea en t=2 se aproxima a 18 kg/h.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en industrias de procesos</div>
                <p>En los procesos industriales, la velocidad instantánea de cambio de variables como temperatura, presión, concentración o caudal es fundamental para el control automático de los procesos. Los sistemas de control utilizan estas tasas de cambio para ajustar los parámetros operativos y mantener el proceso dentro de las condiciones óptimas de funcionamiento.</p>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Clase 2</h3>
                <div class="question">1. ¿Cómo se calcula la velocidad instantánea?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q3" value="a" id="q3a">
                        <label for="q3a">Como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="b" id="q3b">
                        <label for="q3b">Como el espacio total dividido por el tiempo total</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="c" id="q3c">
                        <label for="q3c">Como el promedio de todas las velocidades medias</label>
                    </div>
                </div>
                <div id="feedback3" class="feedback"></div>
                
                <div class="question">2. ¿Qué representa el límite de una función?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q4" value="a" id="q4a">
                        <label for="q4a">El valor máximo que alcanza la función</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q4" value="b" id="q4b">
                        <label for="q4b">El valor al que se aproxima la función cuando la variable se acerca a un determinado valor</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q4" value="c" id="q4c">
                        <label for="q4c">El valor de la función en el punto donde no está definida</label>
                    </div>
                </div>
                <div id="feedback4" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz2')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- CLASE 2B: LÍMITE DEL COCIENTE INCREMENTAL -->
        <div id="clase2b" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">📐</span> Desarrollo del Límite del Cociente Incremental
            </div>
            
            <div class="definition-box">
                <h3>El Cociente Incremental</h3>
                <p>El cociente incremental es la expresión que representa la pendiente de la recta secante que pasa por dos puntos de una curva: \( (x, f(x)) \) y \( (x+h, f(x+h)) \). Se define como:</p>
                <div class="formula-box">
                    \( \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Donde h es el incremento en la variable independiente x.</p>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 1: Construcción Geométrica</div>
                <p>Para entender el cociente incremental, consideremos una curva y dos puntos sobre ella:</p>
                <ul>
                    <li>Punto A: \( (x, f(x)) \) - un punto fijo en la curva</li>
                    <li>Punto B: \( (x+h, f(x+h)) \) - un punto móvil a una distancia h de A</li>
                </ul>
                <p>La recta que pasa por A y B es una recta secante. Su pendiente se calcula como:</p>
                <div class="formula-box">
                    \( m = \frac{f(x+h) - f(x)}{(x+h) - x} = \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Esta expresión es exactamente el cociente incremental.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Cociente Incremental y Triángulo de Pendiente</h3>
                <canvas id="incrementalCanvas" width="750" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="xSlider">Posición x:</label>
                        <input type="range" id="xSlider" min="-3" max="3" step="0.1" value="1">
                    </div>
                    <div class="slider-container">
                        <label for="hSlider">Incremento h:</label>
                        <input type="range" id="hSlider" min="0.1" max="2" step="0.05" value="1">
                    </div>
                    <button class="control-button" onclick="toggleTriangle()">
                        <i class="fas fa-draw-polygon"></i> Mostrar/Ocultar Triángulo
                    </button>
                    <button class="control-button" onclick="toggleCoordinates()">
                        <i class="fas fa-map-marker-alt"></i> Mostrar/Ocultar Coordenadas
                    </button>
                    <button class="control-button" onclick="resetIncrementalGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Punto A:</div>
                            <div class="value-number" id="pointA">(1.0, 1.0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Punto B:</div>
                            <div class="value-number" id="pointB">(2.0, 4.0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Cociente incremental:</div>
                            <div class="value-number" id="quotient">3.0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="construction-steps">
                <div class="construction-title">Desarrollo Paso a Paso del Cociente Incremental</div>
                
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <p>Consideremos una función \( f(x) \) y un punto \( A(x, f(x)) \) sobre su gráfica.</p>
                        <div class="step-formula">
                            Punto A: \( (x, f(x)) \)
                        </div>
                        <p class="step-explanation">Este es nuestro punto de referencia donde queremos calcular la pendiente de la tangente.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <p>Seleccionamos un segundo punto \( B \) sobre la curva, desplazado horizontalmente una distancia \( h \) desde A:</p>
                        <div class="step-formula">
                            Punto B: \( (x+h, f(x+h)) \)
                        </div>
                        <p class="step-explanation">Este punto está a una distancia horizontal \( h \) del punto A, pero puede estar a diferente altura dependiendo de la curva.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <p>Trazamos la recta secante que pasa por los puntos A y B. La pendiente de esta recta se calcula como:</p>
                        <div class="step-formula">
                            \( m_{secante} = \frac{\text{cambio vertical}}{\text{cambio horizontal}} = \frac{f(x+h) - f(x)}{(x+h) - x} \)
                        </div>
                        <p class="step-explanation">Esta es la fórmula básica para calcular la pendiente entre dos puntos.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <p>Simplificando la expresión anterior, obtenemos el cociente incremental:</p>
                        <div class="step-formula">
                            \( m_{secante} = \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Esta expresión representa la pendiente de la recta secante y se conoce como cociente incremental.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <p>Para obtener la pendiente de la recta tangente en el punto A, hacemos que el punto B se acerque infinitamente a A. Esto significa que el incremento \( h \) tiende a cero:</p>
                        <div class="step-formula">
                            \( m_{tangente} = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Este límite del cociente incremental es precisamente la definición de la derivada de la función f en el punto x.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <p>La derivada de la función, denotada \( f'(x) \), se define entonces como:</p>
                        <div class="step-formula">
                            \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Esta expresión nos permite calcular la pendiente de la tangente en cualquier punto de la curva, representando la tasa de cambio instantánea de la función.</p>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 2: Interpretación del Triángulo</div>
                <p>En el gráfico interactivo, podemos observar:</p>
                <ul>
                    <li>El <strong>cateto horizontal</strong> del triángulo representa el incremento h en la variable x.</li>
                    <li>El <strong>cateto vertical</strong> del triángulo representa el cambio en la función: \( f(x+h) - f(x) \).</li>
                    <li>La <strong>hipotenusa</strong> es la recta secante que une los dos puntos.</li>
                </ul>
                <p>La pendiente de la secante (y por tanto del cociente incremental) es el cociente entre el cateto vertical y el cateto horizontal del triángulo.</p>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 3: El Proceso de Límite</div>
                <p>Para encontrar la pendiente de la recta tangente en el punto A, necesitamos hacer que el punto B se acerque cada vez más al punto A. Esto significa hacer que el incremento h tienda a cero:</p>
                <div class="formula-box">
                    \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Este límite del cociente incremental es precisamente la definición de la derivada de la función f en el punto x.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Cálculo del límite del cociente incremental para \( f(x) = x^2 \)</div>
                <p>Vamos a desarrollar algebraicamente el límite del cociente incremental para la función cuadrática \( f(x) = x^2 \).</p>
                <button class="solution-button" onclick="toggleSolution('sol3')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="sol3" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                    </div>
                    <p>2. Sustituimos la función \( f(x) = x^2 \):</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h} \)
                    </div>
                    <p>3. Desarrollamos el cuadrado del binomio:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{x^2 + 2xh + h^2 - x^2}{h} \)
                    </div>
                    <p>4. Simplificamos la expresión:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{2xh + h^2}{h} = \lim_{h \to 0} \frac{h(2x + h)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} (2x + h) \)
                    </div>
                    <p>5. Evaluamos el límite cuando \( h \to 0 \):</p>
                    <div class="formula-box">
                        \( f'(x) = 2x + 0 = 2x \)
                    </div>
                    <p>Por lo tanto, la derivada de \( f(x) = x^2 \) es \( f'(x) = 2x \).</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Para el modelado de la eficiencia de un reactor químico, utilizamos la función \( E(t) = 0.5t^2 \), donde E es la eficiencia en porcentaje y t es el tiempo en horas. Calcula el límite del cociente incremental para encontrar la derivada de esta función.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio del proceso (en horas), y <strong>E(t)</strong> representa la eficiencia del reactor en ese instante (en porcentaje). La función modela un aumento de eficiencia cuadrático con el tiempo, típico en procesos de optimización.
                </div>
                <button class="solution-button" onclick="toggleSolution('ex3')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="ex3" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} \frac{E(t+h) - E(t)}{h} \)
                    </div>
                    <p>2. Sustituimos la función \( E(t) = 0.5t^2 \):</p>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} \frac{0.5(t+h)^2 - 0.5t^2}{h} \)
                    </div>
                    <p>3. Factorizamos 0.5:</p>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} 0.5 \cdot \frac{(t+h)^2 - t^2}{h} \)
                    </div>
                    <p>4. Desarrollamos el cuadrado del binomio:</p>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} 0.5 \cdot \frac{t^2 + 2th + h^2 - t^2}{h} \)
                    </div>
                    <p>5. Simplificamos la expresión:</p>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} 0.5 \cdot \frac{2th + h^2}{h} = \lim_{h \to 0} 0.5 \cdot \frac{h(2t + h)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( E'(t) = \lim_{h \to 0} 0.5 \cdot (2t + h) \)
                    </div>
                    <p>6. Evaluamos el límite cuando \( h \to 0 \):</p>
                    <div class="formula-box">
                        \( E'(t) = 0.5 \cdot (2t + 0) = 0.5 \times 2t = t \)
                    </div>
                    <p>Por lo tanto, la derivada de \( E(t) = 0.5t^2 \) es \( E'(t) = t \).</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en industrias de procesos</div>
                <p>En el control de procesos químicos, el límite del cociente incremental nos permite determinar con precisión la tasa de cambio instantánea de variables críticas como concentración, temperatura o presión. Esto es fundamental para el diseño de sistemas de control automático que optimizan el rendimiento y garantizan la seguridad del proceso.</p>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Límite del Cociente Incremental</h3>
                <div class="question">1. ¿Qué representa el cociente incremental \( \frac{f(x+h) - f(x)}{h} \)?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q5" value="a" id="q5a">
                        <label for="q5a">El área bajo la curva entre x y x+h</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="b" id="q5b">
                        <label for="q5b">La pendiente de la recta secante que pasa por \( (x, f(x)) \) y \( (x+h, f(x+h)) \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="c" id="q5c">
                        <label for="q5c">La longitud de la curva entre x y x+h</label>
                    </div>
                </div>
                <div id="feedback5" class="feedback"></div>
                
                <div class="question">2. ¿Qué sucede cuando hacemos tender h a cero en el cociente incremental?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q6" value="a" id="q6a">
                        <label for="q6a">Obtenemos la pendiente de la recta tangente en el punto \( (x, f(x)) \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q6" value="b" id="q6b">
                        <label for="q6b">Obtenemos el valor promedio de la función entre x y x+h</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q6" value="c" id="q6c">
                        <label for="q6c">Obtenemos el área bajo la curva en el punto x</label>
                    </div>
                </div>
                <div id="feedback6" class="feedback"></div>
                
                <div class="question">3. Para la función \( f(x) = x^2 \), ¿cuál es el resultado del límite del cociente incremental?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q7" value="a" id="q7a">
                        <label for="q7a">\( x \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="b" id="q7b">
                        <label for="q7b">\( 2x \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="c" id="q7c">
                        <label for="q7c">\( x^2 \)</label>
                    </div>
                </div>
                <div id="feedback7" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz3')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- CLASE 3 -->
        <div id="clase3" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">🧪</span> La Derivada y sus Aplicaciones en Industrias de Procesos
            </div>
            
            <div class="definition-box">
                <h3>Derivada de una función</h3>
                <p>La derivada de una función f en un punto x, denotada \( f'(x) \), se define como el límite del cociente incremental cuando el incremento tiende a cero:</p>
                <div class="formula-box">
                    \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Geométricamente, representa la pendiente de la recta tangente a la curva en el punto \( (x, f(x)) \). Físicamente, representa la tasa de cambio instantánea de la función.</p>
            </div>
            
            <div class="definition-box">
                <h3>Notación de la derivada</h3>
                <p>Existen diferentes formas de notar la derivada de una función:</p>
                <ul>
                    <li><strong>Notación de Lagrange:</strong> \( f'(x) \) o \( y' \)</li>
                    <li><strong>Notación de Leibniz:</strong> \( \frac{dy}{dx} \) o \( \frac{df}{dx} \)</li>
                    <li><strong>Notación de Newton:</strong> \( \dot{y} \) (usada principalmente para derivadas respecto al tiempo)</li>
                </ul>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Función, Derivada y Recta Tangente</h3>
                <canvas id="derivativeCanvas" width="750" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="functionSlider">Función:</label>
                        <select id="functionSlider">
                            <option value="quadratic">Cuadrática: \( f(x) = x^2 \)</option>
                            <option value="cubic">Cúbica: \( f(x) = x^3 \)</option>
                            <option value="sine">Seno: \( f(x) = \sin(x) \)</option>
                            <option value="exponential">Exponencial: \( f(x) = e^x \)</option>
                        </select>
                    </div>
                    <div class="slider-container">
                        <label for="pointSlider3">Posición del punto (x):</label>
                        <input type="range" id="pointSlider3" min="-3" max="3" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleDerivative()">
                        <i class="fas fa-eye"></i> Mostrar/Ocultar Derivada
                    </button>
                    <button class="control-button" onclick="toggleTangent()">
                        <i class="fas fa-ruler"></i> Mostrar/Ocultar Tangente
                    </button>
                    <button class="control-button" onclick="resetDerivativeGraph()">
                        <i class="fas fa-redo"></i> Reiniciar Gráfico
                    </button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Posición (x):</div>
                            <div class="value-number" id="xValue">1.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">f(x):</div>
                            <div class="value-number" id="fxValue">1.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Pendiente tangente:</div>
                            <div class="value-number" id="slopeValue">2.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">f'(x):</div>
                            <div class="value-number" id="derivativeValue">2.0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Optimización de un reactor químico</div>
                <p>En un reactor químico, la eficiencia de producción depende de la temperatura según la función \( E(T) = -0.01T^2 + 0.8T + 20 \), donde E es la eficiencia en porcentaje y T es la temperatura en °C. Calcula la derivada \( E'(T) \) para encontrar la temperatura óptima que maximiza la eficiencia.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>T</strong> representa la temperatura de operación del reactor (en °C), y <strong>E(T)</strong> representa la eficiencia del proceso a esa temperatura (en porcentaje). La función modela una eficiencia que aumenta con la temperatura hasta un punto óptimo y luego disminuye, típico en procesos químicos sensibles a la temperatura.
                </div>
                <button class="solution-button" onclick="toggleSolution('sol4')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="sol4" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{E(T+\Delta T) - E(T)}{\Delta T} \)
                    </div>
                    <p>2. Sustituimos la función E:</p>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{-0.01(T+\Delta T)^2 + 0.8(T+\Delta T) + 20 - (-0.01T^2 + 0.8T + 20)}{\Delta T} \)
                    </div>
                    <p>3. Desarrollamos la expresión:</p>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{-0.01(T^2 + 2T\Delta T + (\Delta T)^2) + 0.8T + 0.8\Delta T + 20 + 0.01T^2 - 0.8T - 20}{\Delta T} \)
                    </div>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{-0.01T^2 - 0.02T\Delta T - 0.01(\Delta T)^2 + 0.8T + 0.8\Delta T + 20 + 0.01T^2 - 0.8T - 20}{\Delta T} \)
                    </div>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{-0.02T\Delta T - 0.01(\Delta T)^2 + 0.8\Delta T}{\Delta T} \)
                    </div>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} \frac{\Delta T(-0.02T - 0.01\Delta T + 0.8)}{\Delta T} \)
                    </div>
                    <div class="formula-box">
                        \( E'(T) = \lim_{\Delta T \to 0} (-0.02T - 0.01\Delta T + 0.8) \)
                    </div>
                    <p>4. Evaluamos el límite cuando \( \Delta T \to 0 \):</p>
                    <div class="formula-box">
                        \( E'(T) = -0.02T - 0.01 \cdot 0 + 0.8 = -0.02T + 0.8 \)
                    </div>
                    <p>5. Para encontrar la temperatura óptima, igualamos a cero (punto crítico):</p>
                    <div class="formula-box">
                        \( -0.02T + 0.8 = 0 \)
                    </div>
                    <div class="formula-box">
                        \( -0.02T = -0.8 \)
                    </div>
                    <div class="formula-box">
                        \( T = \frac{-0.8}{-0.02} = 40 \) °C
                    </div>
                    <p>La temperatura óptima para maximizar la eficiencia es de 40°C.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>En un proceso de purificación de agua, la concentración de un contaminante disminuye con el tiempo según la función \( C(t) = 100e^{-0.2t} \), donde C es la concentración en mg/L y t es el tiempo en horas. Calcula la derivada \( C'(t) \) y encuentra la tasa de cambio instantánea de la concentración en t=3 horas.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio del proceso de purificación (en horas), y <strong>C(t)</strong> representa la concentración del contaminante en ese instante (en mg/L). La función modela una disminución exponencial de la concentración, típica en procesos de degradación o eliminación de contaminantes.
                </div>
                <button class="solution-button" onclick="toggleSolution('ex4')">
                    <i class="fas fa-pencil-alt"></i> Ver respuesta
                </button>
                <div id="ex4" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( C'(t) = \lim_{h \to 0} \frac{C(t+h) - C(t)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( C'(t) = \lim_{h \to 0} \frac{100e^{-0.2(t+h)} - 100e^{-0.2t}}{h} \)
                    </div>
                    <div class="formula-box">
                        \( C'(t) = \lim_{h \to 0} \frac{100e^{-0.2t} \cdot e^{-0.2h} - 100e^{-0.2t}}{h} \)
                    </div>
                    <div class="formula-box">
                        \( C'(t) = \lim_{h \to 0} \frac{100e^{-0.2t} (e^{-0.2h} - 1)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( C'(t) = 100e^{-0.2t} \cdot \lim_{h \to 0} \frac{e^{-0.2h} - 1}{h} \)
                    </div>
                    <p>2. Usando el límite conocido \( \lim_{h \to 0} \frac{e^{ah} - 1}{h} = a \):</p>
                    <div class="formula-box">
                        \( C'(t) = 100e^{-0.2t} \cdot (-0.2) = -20e^{-0.2t} \)
                    </div>
                    <p>3. Calculamos la tasa de cambio instantánea en t=3:</p>
                    <div class="formula-box">
                        \( C'(3) = -20e^{-0.2 \cdot 3} = -20e^{-0.6} \approx -20 \cdot 0.5488 = -10.976 \) mg/L·h
                    </div>
                    <p>La tasa de cambio instantánea de la concentración en t=3 horas es de aproximadamente -10.98 mg/L por hora, lo que significa que la concentración está disminuyendo a una tasa de 10.98 mg/L cada hora en ese instante.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en industrias de procesos</div>
                <p>En la industria química y farmacéutica, la derivada es fundamental para modelar y optimizar procesos de reacción, control de calidad y diseño de experimentos. Permite determinar puntos óptimos de operación, tasas de reacción instantáneas y predecir el comportamiento de los sistemas bajo diferentes condiciones.</p>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Clase 3</h3>
                <div class="question">1. ¿Qué representa geométricamente la derivada de una función en un punto?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q8" value="a" id="q8a">
                        <label for="q8a">El área bajo la curva hasta ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="b" id="q8b">
                        <label for="q8b">La pendiente de la recta tangente a la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="c" id="q8c">
                        <label for="q8c">La longitud de la curva desde el origen hasta ese punto</label>
                    </div>
                </div>
                <div id="feedback8" class="feedback"></div>
                
                <div class="question">2. En la industria de procesos, ¿para qué se utiliza la derivada?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q9" value="a" id="q9a">
                        <label for="q9a">Para calcular el volumen de reactantes necesarios</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q9" value="b" id="q9b">
                        <label for="q9b">Para determinar tasas de cambio instantáneas y puntos óptimos de operación</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q9" value="c" id="q9c">
                        <label for="q9c">Para medir la temperatura de los reactores</label>
                    </div>
                </div>
                <div id="feedback9" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz4')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- MARCO HISTÓRICO -->
        <div id="historia" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">📜</span> Marco Histórico del Cálculo Diferencial
            </div>
            
            <p>El cálculo diferencial tiene una rica historia que abarca siglos de desarrollo matemático. Comprender su evolución nos ayuda a valorar su importancia y aplicaciones actuales en las industrias de procesos.</p>
            
            <div class="history-timeline">
                <div class="timeline-line"></div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo III a.C.</div>
                        <p><strong>Arquímedes</strong> utiliza métodos primitivos de integración para calcular áreas y volúmenes, sentando bases para el cálculo. Su método de exhaustión fue un precursor de los conceptos límite.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVII</div>
                        <p><strong>Pierre de Fermat</strong> desarrolla un método para encontrar máximos y mínimos de funciones, anticipando el concepto de derivada. Su método de "adigualdad" fue un paso fundamental hacia el cálculo diferencial.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1665-1666</div>
                        <p><strong>Isaac Newton</strong> desarrolla el "método de fluxiones", precursor del cálculo diferencial, para resolver problemas de física y astronomía. Su enfoque estaba basado en el movimiento y el cambio.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1670-1680</div>
                        <p><strong>Gottfried Leibniz</strong> desarrolla independientemente el cálculo diferencial, introduciendo la notación \( \frac{dy}{dx} \) que aún utilizamos hoy. Su enfoque era más geométrico y algebraico.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVIII</div>
                        <p><strong>Leonhard Euler</strong> y <strong>Joseph-Louis Lagrange</strong> formalizan y extienden el cálculo diferencial, aplicándolo a numerosos campos de la física y la ingeniería. Euler introdujo la notación f(x) para las funciones.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XIX</div>
                        <p><strong>Augustin-Louis Cauchy</strong> y <strong>Karl Weierstrass</strong> proporcionan una base rigurosa al cálculo mediante el concepto de límite. Cauchy definió la derivada como un límite, formalizando el concepto.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XX-XXI</div>
                        <p>El cálculo diferencial se convierte en una herramienta fundamental en prácticamente todos los campos de la ciencia y la ingeniería, incluyendo las industrias de procesos. Los métodos numéricos y computacionales han ampliado su aplicación.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La controversia Newton-Leibniz</h3>
                <p>Uno de los episodios más famosos en la historia de las matemáticas fue la disputa sobre la prioridad en la invención del cálculo. Aunque Newton desarrolló sus ideas primero, Leibniz publicó antes. La comunidad matemática moderna reconoce a ambos como independientes inventores del cálculo, con notaciones y enfoques diferentes pero complementarios. La notación de Leibniz resultó más útil para aplicaciones prácticas, mientras que el enfoque de Newton fue más intuitivo para problemas físicos.</p>
            </div>
            
            <div class="application-box">
                <div class="application-title">Relevancia histórica para las industrias de procesos</div>
                <p>El desarrollo del cálculo diferencial permitió avances significativos en la ingeniería química y de procesos. Los métodos matemáticos desarrollados por Newton y Leibniz sentaron las bases para el análisis de procesos de transferencia de masa, energía y momentum, que son fundamentales en el diseño y operación de plantas industriales.</p>
            </div>
        </div>
        
        <!-- SÍNTESIS CONCEPTUAL -->
        <div id="sintesis" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">🧩</span> Síntesis Conceptual: Progresión e Interrelación de Conceptos
            </div>
            
            <p>El cálculo diferencial se construye sobre una secuencia de conceptos interrelacionados que progresan desde ideas geométricas intuitivas hasta herramientas analíticas poderosas. Esta progresión conceptual es fundamental para comprender profundamente el significado y las aplicaciones de la derivada.</p>
            
            <div class="concept-map">
                <div class="map-row">
                    <div class="map-node" id="node1">Recta Secante</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node2">Aproximación Sucesiva</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="node3">Recta Tangente</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node4">Velocidad Instantánea</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="node5">Límite</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node6">Cociente Incremental</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node highlight" id="node7">Derivada</div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Progresión Conceptual</h3>
                <p>La derivada surge naturalmente de la necesidad de resolver problemas geométricos y físicos:</p>
                <ol>
                    <li><strong>Geometría:</strong> Queremos encontrar la pendiente de una curva en un punto específico. Para ello, comenzamos con rectas secantes que cortan la curva en dos puntos.</li>
                    <li><strong>Aproximación:</strong> Al acercar los puntos de corte, la secante se aproxima a la tangente, que nos da la pendiente exacta en un punto.</li>
                    <li><strong>Física:</strong> Similarmente, para encontrar la velocidad instantánea, aproximamos mediante velocidades medias en intervalos cada vez más pequeños.</li>
                    <li><strong>Herramienta matemática:</strong> El límite nos permite formalizar esta idea de aproximación y define la derivada como el límite del cociente incremental.</li>
                </ol>
                <p>Esta progresión no es casual, sino que refleja el desarrollo histórico del cálculo y la forma natural en que los conceptos matemáticos evolucionan para resolver problemas del mundo real.</p>
            </div>
            
            <div class="application-box">
                <div class="application-title">Interrelación de Conceptos</div>
                <p>Los conceptos del cálculo diferencial no son aislados, sino que forman una red interconectada donde cada idea depende y se relaciona con las demás. La recta tangente (geométrica) y la velocidad instantánea (física) son interpretaciones diferentes de la misma idea matemática: la derivada. Esta interconexión es lo que hace del cálculo una herramienta tan poderosa y versátil.</p>
            </div>
            
            <div class="quiz-container">
                <h3><i class="fas fa-question-circle"></i> Autoevaluación - Síntesis Conceptual</h3>
                <div class="question">1. ¿Cuál es la relación entre la recta tangente y la velocidad instantánea?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q10" value="a" id="q10a">
                        <label for="q10a">Son conceptos completamente independientes</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q10" value="b" id="q10b">
                        <label for="q10b">Ambos son interpretaciones diferentes del concepto de derivada</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q10" value="c" id="q10c">
                        <label for="q10c">La velocidad instantánea es un caso particular de la recta tangente</label>
                    </div>
                </div>
                <div id="feedback10" class="feedback"></div>
                
                <div class="question">2. ¿Qué papel juega el límite en la definición de la derivada?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q11" value="a" id="q11a">
                        <label for="q11a">Permite formalizar la idea de aproximación sucesiva</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="b" id="q11b">
                        <label for="q11b">Es solo una herramienta matemática sin relación con los conceptos geométricos</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="c" id="q11c">
                        <label for="q11c">Reemplaza por completo a las ideas geométricas</label>
                    </div>
                </div>
                <div id="feedback11" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz5')">
                    <i class="fas fa-check"></i> Verificar respuestas
                </button>
            </div>
        </div>
        
        <!-- APLICACIONES EN INDUSTRIAS DE PROCESOS -->
        <div id="aplicaciones" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">🏭</span> Aplicaciones de la Derivada en Industrias de Procesos
            </div>
            
            <p>La derivada es una herramienta matemática fundamental con numerosas aplicaciones en las industrias de procesos. A continuación, exploramos algunas de sus aplicaciones más importantes en este campo específico.</p>
            
            <div class="general-applications">
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-thermometer-half"></i></div>
                    <div class="app-title">Control de Temperatura</div>
                    <p>La derivada de la temperatura respecto al tiempo permite determinar la tasa de calentamiento o enfriamiento en reactores y hornos industriales. Esto es fundamental para controlar procesos térmicos y garantizar la calidad del producto.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-tachometer-alt"></i></div>
                    <div class="app-title">Análisis de Flujo</div>
                    <p>En sistemas de tuberías y bombas, la derivada del caudal respecto al tiempo ayuda a detectar cambios bruscos que podrían indicar obstrucciones, fugas o fallas en el equipo. Permite un mantenimiento predictivo eficiente.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-flask"></i></div>
                    <div class="app-title">Cinética Química</div>
                    <p>La derivada de la concentración respecto al tiempo representa la velocidad de reacción. Su análisis permite determinar los órdenes de reacción, constantes cinéticas y optimizar las condiciones de operación.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-filter"></i></div>
                    <div class="app-title">Procesos de Separación</div>
                    <p>En destilación, extracción y otros procesos de separación, la derivada ayuda a determinar los puntos óptimos de operación y las condiciones para máxima eficiencia en la separación de componentes.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="app-title">Optimización de Procesos</div>
                    <p>La derivada es fundamental para encontrar máximos y mínimos en funciones de rendimiento, costos o eficiencia. Permite determinar los puntos óptimos de operación que maximizan la producción o minimizan los costos.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-microscope"></i></div>
                    <div class="app-title">Control de Calidad</div>
                    <p>En los sistemas de control de calidad, la derivada de las variables del proceso respecto al tiempo permite detectar desviaciones antes de que causen productos fuera de especificación. Es clave para el control estadístico de procesos.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-battery-three-quarters"></i></div>
                    <div class="app-title">Transferencia de Masa</div>
                    <p>En procesos de secado, humidificación o absorción, la derivada de la concentración o humedad respecto al tiempo representa la tasa de transferencia de masa, permitiendo modelar y optimizar estos procesos.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-cogs"></i></div>
                    <div class="app-title">Diseño de Equipos</div>
                    <p>El cálculo diferencial se utiliza en el diseño de equipos industriales para determinar dimensiones óptimas, distribuciones de temperatura y perfiles de velocidad que maximizan la eficiencia del equipo.</p>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Optimización de un reactor químico</div>
                <p>En un reactor químico batch, la conversión de un reactivo sigue la función \( X(t) = 0.8(1 - e^{-0.1t}) \), donde X es la conversión fraccional y t es el tiempo en horas. Queremos determinar el tiempo óptimo para detener la reacción y maximizar la productividad.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio de la reacción (en horas), y <strong>X(t)</strong> representa la fracción de reactivo que se ha convertido en producto en ese instante (adimensional, entre 0 y 1). La función modela una conversión que aumenta exponencialmente con el tiempo hasta un valor máximo de 0.8.
                </div>
                <p>La productividad P se define como el producto entre la conversión y la inversa del tiempo de proceso: \( P(t) = \frac{X(t)}{t} \). Para maximizar la productividad, necesitamos encontrar el máximo de esta función.</p>
                <button class="solution-button" onclick="toggleSolution('sol5')">
                    <i class="fas fa-lightbulb"></i> Ver solución
                </button>
                <div id="sol5" class="solution">
                    <p>1. Definimos la función de productividad:</p>
                    <div class="formula-box">
                        \( P(t) = \frac{X(t)}{t} = \frac{0.8(1 - e^{-0.1t})}{t} \)
                    </div>
                    <p>2. Para encontrar el máximo, calculamos la derivada P'(t) e igualamos a cero:</p>
                    <div class="formula-box">
                        \( P'(t) = \frac{d}{dt}\left[\frac{0.8(1 - e^{-0.1t})}{t}\right] \)
                    </div>
                    <p>3. Aplicando la regla del cociente:</p>
                    <div class="formula-box">
                        \( P'(t) = 0.8 \cdot \frac{t \cdot \frac{d}{dt}(1 - e^{-0.1t}) - (1 - e^{-0.1t}) \cdot \frac{d}{dt}(t)}{t^2} \)
                    </div>
                    <div class="formula-box">
                        \( P'(t) = 0.8 \cdot \frac{t \cdot (0.1e^{-0.1t}) - (1 - e^{-0.1t}) \cdot 1}{t^2} \)
                    </div>
                    <div class="formula-box">
                        \( P'(t) = 0.8 \cdot \frac{0.1te^{-0.1t} - 1 + e^{-0.1t}}{t^2} \)
                    </div>
                    <p>4. Igualamos a cero para encontrar los puntos críticos:</p>
                    <div class="formula-box">
                        \( 0.1te^{-0.1t} - 1 + e^{-0.1t} = 0 \)
                    </div>
                    <div class="formula-box">
                        \( e^{-0.1t}(0.1t + 1) = 1 \)
                    </div>
                    <p>5. Esta ecuación trascendente se resuelve numéricamente, obteniendo t ≈ 7.78 horas.</p>
                    <p>6. Por lo tanto, el tiempo óptimo para detener la reacción y maximizar la productividad es de aproximadamente 7.78 horas.</p>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La Derivada como Herramienta en Industrias de Procesos</h3>
                <p>La capacidad de la derivada para modelar tasas de cambio la convierte en una herramienta indispensable en las industrias de procesos. Su poder reside en traducir problemas complejos del mundo real a modelos matemáticos tratables que permiten optimizar procesos, mejorar la calidad y aumentar la eficiencia.</p>
                <p>El uso de la derivada en el análisis de procesos no es solo una aplicación teórica, sino una práctica diaria en la ingeniería química y de procesos, donde permite tomar decisiones basadas en datos cuantitativos y modelos matemáticos rigurosos.</p>
            </div>
        </div>
        
        <!-- BIBLIOGRAFÍA Y REFERENCIAS -->
        <div id="bibliografia" class="tab-content">
            <div class="concept-banner">
                <span class="process-icon">📚</span> Bibliografía y Referencias
            </div>
            
            <p>Este material educativo ha sido elaborado con base en fuentes académicas reconocidas y recursos especializados. A continuación, se presentan las referencias fundamentales que respaldan el contenido presentado, organizadas por categorías para facilitar su consulta.</p>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Libros de Cálculo Diferencial</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Cálculo de una variable</span>
                        <span class="reference-authors">Stewart, J.</span>
                        <span class="reference-publisher">Cengage Learning, 2012</span>
                        <div class="reference-description">Texto clásico que presenta los conceptos fundamentales del cálculo diferencial con numerosas aplicaciones prácticas.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Cálculo diferencial e integral</span>
                        <span class="reference-authors">Larson, R. y Edwards, B.H.</span>
                        <span class="reference-publisher">McGraw-Hill, 2010</span>
                        <div class="reference-description">Compendio completo que incluye aplicaciones en ingeniería y ciencias, con énfasis en la comprensión conceptual.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">El cálculo con geometría analítica</span>
                        <span class="reference-authors">Leithold, L.</span>
                        <span class="reference-publisher">Pearson Educación, 2006</span>
                        <div class="reference-description">Enfoque riguroso que conecta el cálculo con la geometría analítica, ideal para entender los conceptos geométricos de la derivada.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Recursos en Línea</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">WEB</span>
                        <span class="reference-title">Khan Academy: Cálculo Diferencial</span>
                        <span class="reference-authors">Khan Academy</span>
                        <a href="https://es.khanacademy.org/math/calculus-1" target="_blank" class="reference-link">https://es.khanacademy.org/math/calculus-1</a>
                        <div class="reference-description">Plataforma educativa gratuita con lecciones en video, ejercicios interactivos y evaluaciones sobre cálculo diferencial.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">WEB</span>
                        <span class="reference-title">MIT OpenCourseWare: Single Variable Calculus</span>
                        <span class="reference-authors">Massachusetts Institute of Technology</span>
                        <a href="https://ocw.mit.edu/courses/mathematics/18-01sc-single-variable-calculus-fall-2010/" target="_blank" class="reference-link">https://ocw.mit.edu/courses/mathematics/18-01sc-single-variable-calculus-fall-2010/</a>
                        <div class="reference-description">Material completo del curso de cálculo del MIT, incluyendo videos de clases, notas y problemas resueltos.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Aplicaciones en Industrias de Procesos</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Fenómenos de Transporte</span>
                        <span class="reference-authors">Bird, R.B., Stewart, W.E. y Lightfoot, E.N.</span>
                        <span class="reference-publisher">Reverté, 2002</span>
                        <div class="reference-description">Texto fundamental que aplica el cálculo diferencial al análisis de transferencia de momentum, calor y masa.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Ingeniería de la Cinética Química</span>
                        <span class="reference-authors">Fogler, H.S.</span>
                        <span class="reference-publisher">Pearson Educación, 2008</span>
                        <div class="reference-description">Aplica extensivamente el cálculo diferencial al análisis y diseño de reactores químicos.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">ARTÍCULO</span>
                        <span class="reference-title">Applications of Calculus in Chemical Engineering</span>
                        <span class="reference-authors">García, M. y Fernández, L.</span>
                        <span class="reference-publisher">Journal of Chemical Engineering Education, 2019</span>
                        <div class="reference-description">Revisión exhaustiva de aplicaciones del cálculo diferencial en diferentes áreas de la ingeniería química.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Normativas Técnicas</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">IRAM 414: Análisis matemático para ingeniería química</span>
                        <span class="reference-authors">Instituto Argentino de Normalización y Certificación</span>
                        <span class="reference-publisher">IRAM, 2015</span>
                        <div class="reference-description">Norma técnica que establece los procedimientos matemáticos para el análisis de procesos químicos.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">ISO 80000-2: Quantities and units — Part 2: Mathematical signs and symbols to be used in the natural sciences and technology</span>
                        <span class="reference-authors">International Organization for Standardization</span>
                        <span class="reference-publisher">ISO, 2019</span>
                        <div class="reference-description">Estándar internacional que normaliza la notación matemática utilizada en ciencias y tecnología.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-note">
                <p><strong>Nota:</strong> Esta bibliografía representa una selección de recursos fundamentales para el estudio del cálculo diferencial y sus aplicaciones en industrias de procesos. Se recomienda a los estudiantes consultar estas fuentes para profundizar en los temas de su interés y obtener una comprensión más completa de los conceptos presentados en este material educativo.</p>
            </div>
        </div>
        
        <footer>
            <p>Material de estudio para 6° Año - Educación Secundaria Técnica - Especialización en Industrias de Procesos</p>
            <p>Ministerio de Educación de la Provincia de Córdoba - Dirección General de Educación Técnica y Formación Profesional</p>
            <p>Desarrollado para el aprendizaje del cálculo diferencial y sus aplicaciones en industrias de procesos</p>
        </footer>
    </div>
    
    <!-- Botón de accesibilidad -->
    <button class="accessibility-toggle" onclick="toggleAccessibilityMenu()">
        <i class="fas fa-universal-access"></i>
    </button>
    
    <!-- Menú de accesibilidad -->
    <div class="accessibility-menu" id="accessibilityMenu">
        <h3>Opciones de Accesibilidad</h3>
        <div class="accessibility-option">
            <label for="highContrast">Alto Contraste:</label>
            <label class="toggle-switch">
                <input type="checkbox" id="highContrast" onchange="toggleHighContrast()">
                <span class="toggle-slider"></span>
            </label>
        </div>
        <div class="accessibility-option">
            <label for="largeText">Texto Grande:</label>
            <label class="toggle-switch">
                <input type="checkbox" id="largeText" onchange="toggleLargeText()">
                <span class="toggle-slider"></span>
            </label>
        </div>
        <div class="accessibility-option">
            <label for="dyslexicFont">Fuente para Disléxicos:</label>
            <label class="toggle-switch">
                <input type="checkbox" id="dyslexicFont" onchange="toggleDyslexicFont()">
                <span class="toggle-slider"></span>
            </label>
        </div>
    </div>
    
    <script>
        // Variables globales para el seguimiento del progreso
        let currentTab = 0;
        const tabs = ['clase1', 'clase2', 'clase2b', 'clase3', 'historia', 'sintesis', 'aplicaciones', 'bibliografia'];
        let completedTabs = new Set();
        
        // Funciones para el manejo de pestañas
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Actualizar el índice de la pestaña actual
            currentTab = tabs.indexOf(tabName);
            
            // Marcar la pestaña como completada
            completedTabs.add(tabName);
            updateProgress();
            
            // Inicializar gráficos cuando se abre una pestaña
            if (tabName === 'clase1') {
                initTangentSecantGraph();
            } else if (tabName === 'clase2') {
                initVelocityGraph();
            } else if (tabName === 'clase2b') {
                initIncrementalGraph();
            } else if (tabName === 'clase3') {
                initDerivativeGraph();
            } else if (tabName === 'sintesis') {
                animateConceptMap();
            }
        }
        
        // Función para actualizar el progreso
        function updateProgress() {
            const progress = (completedTabs.size / tabs.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Progreso: ${Math.round(progress)}%`;
        }
        
        // Funciones para mostrar/ocultar soluciones
        function toggleSolution(id) {
            var solution = document.getElementById(id);
            if (solution.style.display === "block") {
                solution.style.display = "none";
            } else {
                solution.style.display = "block";
            }
        }
        
        // Funciones para las evaluaciones
        function checkQuiz(quizName) {
            if (quizName === 'quiz1') {
                checkQuiz1();
            } else if (quizName === 'quiz2') {
                checkQuiz2();
            } else if (quizName === 'quiz3') {
                checkQuiz3();
            } else if (quizName === 'quiz4') {
                checkQuiz4();
            } else if (quizName === 'quiz5') {
                checkQuiz5();
            }
        }
        
        function checkQuiz1() {
            var q1 = document.querySelector('input[name="q1"]:checked');
            var q2 = document.querySelector('input[name="q2"]:checked');
            var feedback1 = document.getElementById('feedback1');
            var feedback2 = document.getElementById('feedback2');
            
            if (q1) {
                if (q1.value === 'b') {
                    feedback1.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La pendiente de la recta tangente representa la inclinación de la curva en ese punto.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La pendiente de la recta tangente representa la inclinación de la curva en ese punto.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Cuando los puntos de corte se acercan, las rectas secantes se aproximan a la recta tangente.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Cuando los puntos de corte se acercan, las rectas secantes se aproximan a la recta tangente.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuiz2() {
            var q3 = document.querySelector('input[name="q3"]:checked');
            var q4 = document.querySelector('input[name="q4"]:checked');
            var feedback3 = document.getElementById('feedback3');
            var feedback4 = document.getElementById('feedback4');
            
            if (q3) {
                if (q3.value === 'a') {
                    feedback3.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La velocidad instantánea se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.";
                    feedback3.className = "feedback correct";
                } else {
                    feedback3.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La velocidad instantánea se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.";
                    feedback3.className = "feedback incorrect";
                }
                feedback3.style.display = "block";
            }
            
            if (q4) {
                if (q4.value === 'b') {
                    feedback4.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! El límite de una función es el valor al que se aproxima la función cuando la variable se acerca a un determinado valor.";
                    feedback4.className = "feedback correct";
                } else {
                    feedback4.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. El límite de una función es el valor al que se aproxima la función cuando la variable se acerca a un determinado valor.";
                    feedback4.className = "feedback incorrect";
                }
                feedback4.style.display = "block";
            }
        }
        
        function checkQuiz3() {
            var q5 = document.querySelector('input[name="q5"]:checked');
            var q6 = document.querySelector('input[name="q6"]:checked');
            var q7 = document.querySelector('input[name="q7"]:checked');
            var feedback5 = document.getElementById('feedback5');
            var feedback6 = document.getElementById('feedback6');
            var feedback7 = document.getElementById('feedback7');
            
            if (q5) {
                if (q5.value === 'b') {
                    feedback5.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! El cociente incremental representa la pendiente de la recta secante que pasa por (x, f(x)) y (x+h, f(x+h)).";
                    feedback5.className = "feedback correct";
                } else {
                    feedback5.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. El cociente incremental representa la pendiente de la recta secante que pasa por (x, f(x)) y (x+h, f(x+h)).";
                    feedback5.className = "feedback incorrect";
                }
                feedback5.style.display = "block";
            }
            
            if (q6) {
                if (q6.value === 'a') {
                    feedback6.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Cuando hacemos tender h a cero en el cociente incremental, obtenemos la pendiente de la recta tangente en el punto (x, f(x)).";
                    feedback6.className = "feedback correct";
                } else {
                    feedback6.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Cuando hacemos tender h a cero en el cociente incremental, obtenemos la pendiente de la recta tangente en el punto (x, f(x)).";
                    feedback6.className = "feedback incorrect";
                }
                feedback6.style.display = "block";
            }
            
            if (q7) {
                if (q7.value === 'b') {
                    feedback7.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Para la función f(x) = x², el límite del cociente incremental es 2x.";
                    feedback7.className = "feedback correct";
                } else {
                    feedback7.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Para la función f(x) = x², el límite del cociente incremental es 2x.";
                    feedback7.className = "feedback incorrect";
                }
                feedback7.style.display = "block";
            }
        }
        
        function checkQuiz4() {
            var q8 = document.querySelector('input[name="q8"]:checked');
            var q9 = document.querySelector('input[name="q9"]:checked');
            var feedback8 = document.getElementById('feedback8');
            var feedback9 = document.getElementById('feedback9');
            
            if (q8) {
                if (q8.value === 'b') {
                    feedback8.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! Geométricamente, la derivada representa la pendiente de la recta tangente a la curva en ese punto.";
                    feedback8.className = "feedback correct";
                } else {
                    feedback8.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. Geométricamente, la derivada representa la pendiente de la recta tangente a la curva en ese punto.";
                    feedback8.className = "feedback incorrect";
                }
                feedback8.style.display = "block";
            }
            
            if (q9) {
                if (q9.value === 'b') {
                    feedback9.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! En la industria de procesos, la derivada se utiliza para determinar tasas de cambio instantáneas y puntos óptimos de operación.";
                    feedback9.className = "feedback correct";
                } else {
                    feedback9.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. En la industria de procesos, la derivada se utiliza para determinar tasas de cambio instantáneas y puntos óptimos de operación.";
                    feedback9.className = "feedback incorrect";
                }
                feedback9.style.display = "block";
            }
        }
        
        function checkQuiz5() {
            var q10 = document.querySelector('input[name="q10"]:checked');
            var q11 = document.querySelector('input[name="q11"]:checked');
            var feedback10 = document.getElementById('feedback10');
            var feedback11 = document.getElementById('feedback11');
            
            if (q10) {
                if (q10.value === 'b') {
                    feedback10.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! La recta tangente (interpretación geométrica) y la velocidad instantánea (interpretación física) son dos formas diferentes de entender el mismo concepto matemático: la derivada.";
                    feedback10.className = "feedback correct";
                } else {
                    feedback10.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. La recta tangente (interpretación geométrica) y la velocidad instantánea (interpretación física) son dos formas diferentes de entender el mismo concepto matemático: la derivada.";
                    feedback10.className = "feedback incorrect";
                }
                feedback10.style.display = "block";
            }
            
            if (q11) {
                if (q11.value === 'a') {
                    feedback11.innerHTML = "<i class='fas fa-check-circle'></i> ¡Correcto! El límite es la herramienta matemática que permite formalizar la idea de aproximación sucesiva, que es fundamental en la definición de la derivada.";
                    feedback11.className = "feedback correct";
                } else {
                    feedback11.innerHTML = "<i class='fas fa-times-circle'></i> Incorrecto. El límite es la herramienta matemática que permite formalizar la idea de aproximación sucesiva, que es fundamental en la definición de la derivada.";
                    feedback11.className = "feedback incorrect";
                }
                feedback11.style.display = "block";
            }
        }
        
        // Funciones para los gráficos interactivos
        
        // Gráfico de recta tangente y secante
        let showSecant = true;
        
        function initTangentSecantGraph() {
            const canvas = document.getElementById('tangentSecantCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const pointSlider = document.getElementById('pointSlider');
            const distanceSlider = document.getElementById('distanceSlider');
            
            drawTangentSecantGraph();
            
            pointSlider.addEventListener('input', drawTangentSecantGraph);
            distanceSlider.addEventListener('input', drawTangentSecantGraph);
        }
        
        function drawTangentSecantGraph() {
            const canvas = document.getElementById('tangentSecantCanvas');
            const ctx = canvas.getContext('2d');
            const pointSlider = document.getElementById('pointSlider');
            const distanceSlider = document.getElementById('distanceSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const x0 = parseFloat(pointSlider.value);
            const distance = parseFloat(distanceSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 40;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función f(x) = 0.1x²
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                const y = 0.1 * x * x;
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Dibujar punto de tangencia
            const y0 = 0.1 * x0 * x0;
            const screenX0 = originX + x0 * scale;
            const screenY0 = originY - y0 * scale;
            
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX0, screenY0, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta tangente
            const slope = 0.2 * x0; // f'(x) = 0.2x
            
            // Calcular dos puntos para la tangente (extremos del canvas)
            const xTangent1 = -width / (2 * scale);
            const yTangent1 = y0 + slope * (xTangent1 - x0);
            const xTangent2 = width / (2 * scale);
            const yTangent2 = y0 + slope * (xTangent2 - x0);
            
            const screenXT1 = originX + xTangent1 * scale;
            const screenYT1 = originY - yTangent1 * scale;
            const screenXT2 = originX + xTangent2 * scale;
            const screenYT2 = originY - yTangent2 * scale;
            
            ctx.strokeStyle = '#D32F2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenXT1, screenYT1);
            ctx.lineTo(screenXT2, screenYT2);
            ctx.stroke();
            
            // Dibujar recta secante si está activada
            if (showSecant) {
                const x1 = x0 + distance;
                const y1 = 0.1 * x1 * x1;
                const screenX1 = originX + x1 * scale;
                const screenY1 = originY - y1 * scale;
                
                ctx.fillStyle = '#558B2F';
                ctx.beginPath();
                ctx.arc(screenX1, screenY1, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Calcular la pendiente de la secante
                const secantSlope = (y1 - y0) / (x1 - x0);
                
                // Calcular dos puntos para la secante (extremos del canvas)
                const xSecant1 = -width / (2 * scale);
                const ySecant1 = y0 + secantSlope * (xSecant1 - x0);
                const xSecant2 = width / (2 * scale);
                const ySecant2 = y0 + secantSlope * (xSecant2 - x0);
                
                const screenXS1 = originX + xSecant1 * scale;
                const screenYS1 = originY - ySecant1 * scale;
                const screenXS2 = originX + xSecant2 * scale;
                const screenYS2 = originY - ySecant2 * scale;
                
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenXS1, screenYS1);
                ctx.lineTo(screenXS2, screenYS2);
                ctx.stroke();
                
                // Mostrar pendiente de la secante
                ctx.fillStyle = '#000';
                ctx.font = '14px Arial';
                ctx.fillText(`Pendiente secante: ${secantSlope.toFixed(2)}`, 20, 30);
            }
            
            // Mostrar pendiente de la tangente
            ctx.fillStyle = '#000';
            ctx.font = '14px Arial';
            ctx.fillText(`Pendiente tangente: ${slope.toFixed(2)}`, 20, 50);
            ctx.fillText(`Punto: (${x0.toFixed(1)}, ${y0.toFixed(1)})`, 20, 70);
        }
        
        function toggleSecant() {
            showSecant = !showSecant;
            drawTangentSecantGraph();
        }
        
        function resetGraph() {
            document.getElementById('pointSlider').value = 1;
            document.getElementById('distanceSlider').value = 1;
            drawTangentSecantGraph();
        }
        
        // Gráfico de velocidad media e instantánea
        let showAverageVelocity = true;
        let showDeltaTriangle = true;
        
        function initVelocityGraph() {
            const canvas = document.getElementById('velocityCanvas');
            if (!canvas) return;
            
            const timeSlider = document.getElementById('timeSlider');
            const intervalSlider = document.getElementById('intervalSlider');
            
            drawVelocityGraph();
            
            timeSlider.addEventListener('input', drawVelocityGraph);
            intervalSlider.addEventListener('input', drawVelocityGraph);
        }
        
        function drawVelocityGraph() {
            const canvas = document.getElementById('velocityCanvas');
            const ctx = canvas.getContext('2d');
            const timeSlider = document.getElementById('timeSlider');
            const intervalSlider = document.getElementById('intervalSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const t0 = parseFloat(timeSlider.value);
            const interval = parseFloat(intervalSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scaleX = 50;
            const scaleY = 10;
            const originX = 50;
            const originY = height - 50;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Etiquetas de ejes
            ctx.fillStyle = '#000';
            ctx.font = '14px Arial';
            ctx.fillText('Tiempo (s)', width / 2, height - 10);
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Posición (m)', 0, 0);
            ctx.restore();
            
            // Dibujar función s(t) = 2t² - t
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let t = 0; t <= 10; t += 0.1) {
                const s = 2 * t * t - t;
                const screenX = originX + t * scaleX;
                const screenY = originY - s * scaleY;
                
                if (t === 0) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular valores
            const s0 = 2 * t0 * t0 - t0;
            const t1 = t0 + interval;
            const s1 = 2 * t1 * t1 - t1;
            
            // Coordenadas de pantalla
            const screenT0 = originX + t0 * scaleX;
            const screenS0 = originY - s0 * scaleY;
            const screenT1 = originX + t1 * scaleX;
            const screenS1 = originY - s1 * scaleY;
            
            // Dibujar punto en t0
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenT0, screenS0, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar velocidad instantánea (pendiente de la tangente)
            const instantVelocity = 4 * t0 - 1; // s'(t) = 4t - 1
            
            // Calcular dos puntos para la tangente (extremos del gráfico visible)
            const tTangent1 = 0;
            const sTangent1 = s0 + instantVelocity * (tTangent1 - t0);
            const tTangent2 = 10;
            const sTangent2 = s0 + instantVelocity * (tTangent2 - t0);
            
            const screenTT1 = originX + tTangent1 * scaleX;
            const screenST1 = originY - sTangent1 * scaleY;
            const screenTT2 = originX + tTangent2 * scaleX;
            const screenST2 = originY - sTangent2 * scaleY;
            
            ctx.strokeStyle = '#D32F2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenTT1, screenST1);
            ctx.lineTo(screenTT2, screenST2);
            ctx.stroke();
            
            // Dibujar velocidad media si está activada
            if (showAverageVelocity) {
                // Dibujar punto en t1
                ctx.fillStyle = '#558B2F';
                ctx.beginPath();
                ctx.arc(screenT1, screenS1, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                // Calcular la velocidad media
                const avgVelocity = (s1 - s0) / (t1 - t0);
                
                // Calcular dos puntos para la recta de velocidad media (extremos del gráfico visible)
                const tAvg1 = 0;
                const sAvg1 = s0 + avgVelocity * (tAvg1 - t0);
                const tAvg2 = 10;
                const sAvg2 = s0 + avgVelocity * (tAvg2 - t0);
                
                const screenTA1 = originX + tAvg1 * scaleX;
                const screenSA1 = originY - sAvg1 * scaleY;
                const screenTA2 = originX + tAvg2 * scaleX;
                const screenSA2 = originY - sAvg2 * scaleY;
                
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenTA1, screenSA1);
                ctx.lineTo(screenTA2, screenSA2);
                ctx.stroke();
            }
            
            // Dibujar triángulo Δt y Δs si está activado
            if (showDeltaTriangle) {
                // Punto para el triángulo rectángulo
                const triangleX = screenT1;
                const triangleY = screenS0;
                
                ctx.strokeStyle = '#FF6F00';
                ctx.lineWidth = 1.5;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenT1, screenS1);
                ctx.lineTo(triangleX, triangleY);
                ctx.lineTo(screenT0, screenS0);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Etiquetas del triángulo
                ctx.fillStyle = '#FF6F00';
                ctx.font = 'bold 14px Arial';
                
                // Etiqueta para Δt
                const deltaTLabelX = (screenT0 + screenT1) / 2;
                const deltaTLabelY = screenS0 + 20;
                ctx.fillText('Δt', deltaTLabelX, deltaTLabelY);
                
                // Etiqueta para Δs
                const deltaSLabelX = screenT1 + 10;
                const deltaSLabelY = (screenS0 + screenS1) / 2;
                ctx.fillText('Δs', deltaSLabelX, deltaSLabelY);
                
                // Líneas punteadas desde los puntos hasta los ejes
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([3, 2]);
                
                // Desde punto t0
                ctx.beginPath();
                ctx.moveTo(screenT0, screenS0);
                ctx.lineTo(screenT0, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                // Desde punto t1
                ctx.beginPath();
                ctx.moveTo(screenT1, screenS1);
                ctx.lineTo(screenT1, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                ctx.setLineDash([]);
            }
            
            // Actualizar valores mostrados
            document.getElementById('t0Value').textContent = `${t0.toFixed(1)} s`;
            document.getElementById('t1Value').textContent = `${t1.toFixed(1)} s`;
            document.getElementById('deltaTValue').textContent = `${interval.toFixed(1)} s`;
            document.getElementById('s0Value').textContent = `${s0.toFixed(1)} m`;
            document.getElementById('s1Value').textContent = `${s1.toFixed(1)} m`;
            document.getElementById('deltaSValue').textContent = `${(s1 - s0).toFixed(1)} m`;
            
            if (showAverageVelocity) {
                const avgVelocity = (s1 - s0) / (t1 - t0);
                document.getElementById('avgVelocityValue').textContent = `${avgVelocity.toFixed(1)} m/s`;
            } else {
                document.getElementById('avgVelocityValue').textContent = "---";
            }
            
            document.getElementById('instantVelocityValue').textContent = `${instantVelocity.toFixed(1)} m/s`;
        }
        
        function toggleAverageVelocity() {
            showAverageVelocity = !showAverageVelocity;
            drawVelocityGraph();
        }
        
        function toggleDeltaTriangle() {
            showDeltaTriangle = !showDeltaTriangle;
            drawVelocityGraph();
        }
        
        function resetVelocityGraph() {
            document.getElementById('timeSlider').value = 2;
            document.getElementById('intervalSlider').value = 1;
            drawVelocityGraph();
        }
        
        // Gráfico del cociente incremental
        let showTriangle = true;
        let showCoordinates = true;
        
        function initIncrementalGraph() {
            const canvas = document.getElementById('incrementalCanvas');
            if (!canvas) return;
            
            const xSlider = document.getElementById('xSlider');
            const hSlider = document.getElementById('hSlider');
            
            drawIncrementalGraph();
            
            xSlider.addEventListener('input', drawIncrementalGraph);
            hSlider.addEventListener('input', drawIncrementalGraph);
        }
        
        function drawIncrementalGraph() {
            const canvas = document.getElementById('incrementalCanvas');
            const ctx = canvas.getContext('2d');
            const xSlider = document.getElementById('xSlider');
            const hSlider = document.getElementById('hSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const x = parseFloat(xSlider.value);
            const h = parseFloat(hSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función f(x) = x²/4
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = -width / (2 * scale); i <= width / (2 * scale); i += 0.1) {
                const y = i * i / 4;
                const screenX = originX + i * scale;
                const screenY = originY - y * scale;
                
                if (i === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular puntos
            const y = x * x / 4;
            const x2 = x + h;
            const y2 = x2 * x2 / 4;
            
            // Coordenadas de pantalla
            const screenX = originX + x * scale;
            const screenY = originY - y * scale;
            const screenX2 = originX + x2 * scale;
            const screenY2 = originY - y2 * scale;
            
            // Dibujar puntos
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX, screenY, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#FF6F00';
            ctx.beginPath();
            ctx.arc(screenX2, screenY2, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta secante
            ctx.strokeStyle = '#558B2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenX, screenY);
            ctx.lineTo(screenX2, screenY2);
            ctx.stroke();
            
            // Dibujar triángulo si está activado
            if (showTriangle) {
                // Punto para el triángulo rectángulo
                const triangleX = screenX2;
                const triangleY = screenY;
                
                ctx.strokeStyle = '#D32F2F';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenX2, screenY2);
                ctx.lineTo(triangleX, triangleY);
                ctx.lineTo(screenX, screenY);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Etiquetas del triángulo
                ctx.fillStyle = '#D32F2F';
                ctx.font = '12px Arial';
                ctx.fillText('h', (screenX + screenX2) / 2, screenY + 15);
                ctx.fillText('f(x+h)-f(x)', screenX2 + 5, (screenY + screenY2) / 2);
            }
            
            // Dibujar coordenadas si está activado
            if (showCoordinates) {
                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                
                // Coordenadas del punto A
                ctx.fillText(`A: (${x.toFixed(1)}, ${y.toFixed(1)})`, screenX - 40, screenY - 10);
                
                // Coordenadas del punto B
                ctx.fillText(`B: (${x2.toFixed(1)}, ${y2.toFixed(1)})`, screenX2 + 5, screenY2 - 10);
                
                // Líneas punteadas a los ejes
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([3, 2]);
                
                // Desde punto A
                ctx.beginPath();
                ctx.moveTo(screenX, screenY);
                ctx.lineTo(screenX, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                // Desde punto B
                ctx.beginPath();
                ctx.moveTo(screenX2, screenY2);
                ctx.lineTo(screenX2, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                ctx.setLineDash([]);
            }
            
            // Calcular y mostrar el cociente incremental
            const quotient = (y2 - y) / h;
            
            // Actualizar valores mostrados
            document.getElementById('pointA').textContent = `(${x.toFixed(1)}, ${y.toFixed(1)})`;
            document.getElementById('pointB').textContent = `(${x2.toFixed(1)}, ${y2.toFixed(1)})`;
            document.getElementById('quotient').textContent = quotient.toFixed(2);
        }
        
        function toggleTriangle() {
            showTriangle = !showTriangle;
            drawIncrementalGraph();
        }
        
        function toggleCoordinates() {
            showCoordinates = !showCoordinates;
            drawIncrementalGraph();
        }
        
        function resetIncrementalGraph() {
            document.getElementById('xSlider').value = 1;
            document.getElementById('hSlider').value = 1;
            drawIncrementalGraph();
        }
        
        // Gráfico de función, derivada y recta tangente
        let showDerivative = true;
        let showTangent = true;
        
        function initDerivativeGraph() {
            const canvas = document.getElementById('derivativeCanvas');
            if (!canvas) return;
            
            const functionSlider = document.getElementById('functionSlider');
            const pointSlider = document.getElementById('pointSlider3');
            
            drawDerivativeGraph();
            
            functionSlider.addEventListener('change', drawDerivativeGraph);
            pointSlider.addEventListener('input', drawDerivativeGraph);
        }
        
        function drawDerivativeGraph() {
            const canvas = document.getElementById('derivativeCanvas');
            const ctx = canvas.getContext('2d');
            const functionSlider = document.getElementById('functionSlider');
            const pointSlider = document.getElementById('pointSlider3');
            
            const width = canvas.width;
            const height = canvas.height;
            const selectedFunction = functionSlider.value;
            const x0 = parseFloat(pointSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función seleccionada
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                let y;
                
                switch (selectedFunction) {
                    case 'quadratic':
                        y = x * x / 4;
                        break;
                    case 'cubic':
                        y = x * x * x / 15;
                        break;
                    case 'sine':
                        y = Math.sin(x);
                        break;
                    case 'exponential':
                        y = Math.exp(x / 3) / 5;
                        break;
                }
                
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular valores en el punto x0
            let y0, derivativeValue;
            
            switch (selectedFunction) {
                case 'quadratic':
                    y0 = x0 * x0 / 4;
                    derivativeValue = x0 / 2;
                    break;
                case 'cubic':
                    y0 = x0 * x0 * x0 / 15;
                    derivativeValue = x0 * x0 / 5;
                    break;
                case 'sine':
                    y0 = Math.sin(x0);
                    derivativeValue = Math.cos(x0);
                    break;
                case 'exponential':
                    y0 = Math.exp(x0 / 3) / 5;
                    derivativeValue = Math.exp(x0 / 3) / 15;
                    break;
            }
            
            // Dibujar punto en x0
            const screenX0 = originX + x0 * scale;
            const screenY0 = originY - y0 * scale;
            
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX0, screenY0, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta tangente si está activada
            if (showTangent) {
                // Calcular dos puntos para la tangente (extremos del canvas)
                const xTangent1 = -width / (2 * scale);
                const yTangent1 = y0 + derivativeValue * (xTangent1 - x0);
                const xTangent2 = width / (2 * scale);
                const yTangent2 = y0 + derivativeValue * (xTangent2 - x0);
                
                const screenXT1 = originX + xTangent1 * scale;
                const screenYT1 = originY - yTangent1 * scale;
                const screenXT2 = originX + xTangent2 * scale;
                const screenYT2 = originY - yTangent2 * scale;
                
                ctx.strokeStyle = '#D32F2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenXT1, screenYT1);
                ctx.lineTo(screenXT2, screenYT2);
                ctx.stroke();
            }
            
            // Dibujar derivada si está activada
            if (showDerivative) {
                ctx.strokeStyle = '#FF6F00';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    let dy;
                    
                    switch (selectedFunction) {
                        case 'quadratic':
                            dy = x / 2;
                            break;
                        case 'cubic':
                            dy = x * x / 5;
                            break;
                        case 'sine':
                            dy = Math.cos(x);
                            break;
                        case 'exponential':
                            dy = Math.exp(x / 3) / 15;
                            break;
                    }
                    
                    const screenX = originX + x * scale;
                    const screenY = originY - dy * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                ctx.stroke();
                
                // Dibujar punto en la derivada
                const screenDY0 = originY - derivativeValue * scale;
                
                ctx.fillStyle = '#FF6F00';
                ctx.beginPath();
                ctx.arc(screenX0, screenDY0, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                // Dibujar línea punteada desde el punto en la función hasta el punto en la derivada
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenX0, screenY0);
                ctx.lineTo(screenX0, screenDY0);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Leyenda
                ctx.fillStyle = '#1976D2';
                ctx.font = '14px Arial';
                ctx.fillText('f(x)', width - 100, 30);
                
                ctx.fillStyle = '#D32F2F';
                ctx.fillText('Tangente', width - 100, 50);
                
                ctx.fillStyle = '#FF6F00';
                ctx.fillText("f'(x)", width - 100, 70);
            }
            
            // Actualizar valores mostrados
            document.getElementById('xValue').textContent = x0.toFixed(1);
            document.getElementById('fxValue').textContent = y0.toFixed(2);
            document.getElementById('slopeValue').textContent = derivativeValue.toFixed(2);
            document.getElementById('derivativeValue').textContent = derivativeValue.toFixed(2);
        }
        
        function toggleDerivative() {
            showDerivative = !showDerivative;
            drawDerivativeGraph();
        }
        
        function toggleTangent() {
            showTangent = !showTangent;
            drawDerivativeGraph();
        }
        
        function resetDerivativeGraph() {
            document.getElementById('functionSlider').value = 'quadratic';
            document.getElementById('pointSlider3').value = 1;
            drawDerivativeGraph();
        }
        
        // Animación del mapa conceptual
        function animateConceptMap() {
            const nodes = document.querySelectorAll('.map-node');
            let currentIndex = 0;
            
            // Resetear todos los nodos
            nodes.forEach(node => {
                node.classList.remove('highlight');
            });
            
            // Animar los nodos uno por uno
            const interval = setInterval(() => {
                if (currentIndex < nodes.length) {
                    nodes[currentIndex].classList.add('highlight');
                    currentIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 500);
        }
        
        // Funciones de navegación entre pestañas
        function navigateTab(direction) {
            currentTab += direction;
            
            // Asegurarse de que el índice esté dentro de los límites
            if (currentTab < 0) {
                currentTab = tabs.length - 1;
            } else if (currentTab >= tabs.length) {
                currentTab = 0;
            }
            
            // Obtener el botón de la pestaña correspondiente
            const tabButton = document.querySelectorAll('.tab-button')[currentTab];
            
            // Simular un clic en el botón
            tabButton.click();
        }
        
        // Funciones de accesibilidad
        function toggleAccessibilityMenu() {
            const menu = document.getElementById('accessibilityMenu');
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
            }
        }
        
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
        }
        
        function toggleLargeText() {
            document.body.classList.toggle('large-text');
        }
        
        function toggleDyslexicFont() {
            document.body.classList.toggle('dyslexic');
        }
        
        // Inicializar el primer gráfico al cargar la página
        window.onload = function() {
            initTangentSecantGraph();
            updateProgress();
            
            // Cerrar el menú de accesibilidad si se hace clic fuera de él
            document.addEventListener('click', function(event) {
                const menu = document.getElementById('accessibilityMenu');
                const button = document.querySelector('.accessibility-toggle');
                
                if (menu.style.display === 'block' && 
                    !menu.contains(event.target) && 
                    !button.contains(event.target)) {
                    menu.style.display = 'none';
                }
            });
        };
    </script>
</body>
</html>
