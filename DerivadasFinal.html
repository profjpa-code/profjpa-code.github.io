<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción al Cálculo Diferencial - Bachillerato Técnico en Madera</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --madera-oscuro: #5D4037;
            --madera-medio: #8D6E63;
            --madera-claro: #A1887F;
            --crema: #EFEBE9;
            --verde-natural: #558B2F;
            --acento: #FF6F00;
            --blanco: #FFFFFF;
            --gris: #E0E0E0;
            --azul: #1976D2;
            --rojo: #D32F2F;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--crema);
            color: var(--madera-oscuro);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(to right, var(--madera-oscuro), var(--madera-medio));
            color: var(--blanco);
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            font-weight: 300;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--madera-medio);
            flex-wrap: wrap;
        }
        
        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background-color: var(--madera-claro);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            color: var(--blanco);
            transition: background-color 0.3s;
        }
        
        .tab-button:hover {
            background-color: var(--madera-medio);
        }
        
        .tab-button.active {
            background-color: var(--madera-oscuro);
            border-bottom: 3px solid var(--acento);
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            background-color: var(--blanco);
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .concept-banner {
            background-color: var(--verde-natural);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .definition-box {
            background-color: var(--gris);
            border-left: 5px solid var(--acento);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .example-box {
            background-color: var(--crema);
            border: 1px solid var(--madera-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .example-title {
            color: var(--madera-oscuro);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .solution-button {
            background-color: var(--madera-medio);
            color: var(--blanco);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        
        .solution-button:hover {
            background-color: var(--madera-oscuro);
        }
        
        .solution {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: var(--gris);
            border-radius: 5px;
        }
        
        .exercise-box {
            background-color: var(--blanco);
            border: 2px solid var(--madera-claro);
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .quiz-container {
            background-color: var(--crema);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .question {
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            margin-left: 20px;
        }
        
        .option {
            margin: 10px 0;
        }
        
        .option input {
            margin-right: 10px;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .correct {
            background-color: #C8E6C9;
            color: #2E7D32;
        }
        
        .incorrect {
            background-color: #FFCDD2;
            color: #C62828;
        }
        
        .submit-button {
            background-color: var(--verde-natural);
            color: var(--blanco);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        
        .submit-button:hover {
            background-color: #33691E;
        }
        
        .application-box {
            background-color: #E8F5E9;
            border-left: 5px solid var(--verde-natural);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .application-title {
            color: var(--verde-natural);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .wood-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: var(--madera-oscuro);
            color: var(--blanco);
            border-radius: 10px;
        }
        
        /* Estilos para las mejoras */
        .graph-container {
            background-color: var(--blanco);
            border: 2px solid var(--madera-claro);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        
        canvas {
            border: 1px solid var(--gris);
            border-radius: 5px;
            max-width: 100%;
        }
        
        .controls {
            margin: 15px 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .control-button {
            background-color: var(--madera-medio);
            color: var(--blanco);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .control-button:hover {
            background-color: var(--madera-oscuro);
        }
        
        .slider-container {
            margin: 10px;
            display: flex;
            align-items: center;
        }
        
        .slider-container label {
            margin-right: 10px;
            font-weight: bold;
        }
        
        input[type="range"] {
            width: 150px;
        }
        
        .history-timeline {
            position: relative;
            margin: 30px 0;
            padding: 20px 0;
        }
        
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--madera-medio);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            width: 45%;
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
            text-align: right;
            padding-right: 60px;
        }
        
        .timeline-item:nth-child(even) {
            left: 55%;
            padding-left: 60px;
        }
        
        .timeline-dot {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--madera-oscuro);
            top: 5px;
        }
        
        .timeline-item:nth-child(odd) .timeline-dot {
            right: -10px;
        }
        
        .timeline-item:nth-child(even) .timeline-dot {
            left: -10px;
        }
        
        .timeline-content {
            background-color: var(--crema);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .timeline-year {
            font-weight: bold;
            color: var(--madera-oscuro);
            margin-bottom: 5px;
        }
        
        .concept-map {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }
        
        .map-row {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .map-node {
            background-color: var(--madera-claro);
            color: var(--blanco);
            padding: 15px;
            border-radius: 8px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .map-node.highlight {
            background-color: var(--verde-natural);
            transform: scale(1.1);
        }
        
        .map-arrow {
            color: var(--madera-oscuro);
            font-size: 1.5rem;
            margin: 0 10px;
            align-self: center;
        }
        
        .general-applications {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .app-card {
            background-color: var(--blanco);
            border: 1px solid var(--madera-claro);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .app-icon {
            font-size: 2rem;
            color: var(--madera-medio);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .app-title {
            font-weight: bold;
            color: var(--madera-oscuro);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .variable-explanation {
            background-color: #FFF8E1;
            border-left: 4px solid var(--acento);
            padding: 10px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
            font-style: italic;
        }
        
        .value-display {
            background-color: #E3F2FD;
            border: 1px solid var(--azul);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .value-row {
            display: flex;
            justify-content: space-around;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        
        .value-item {
            margin: 5px 10px;
        }
        
        .value-label {
            color: var(--azul);
            font-size: 0.9rem;
        }
        
        .value-number {
            font-size: 1.2rem;
            color: var(--madera-oscuro);
        }
        
        .formula-box {
            background-color: #F5F5F5;
            border: 1px solid #DDD;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
        }
        
        .step-box {
            background-color: #E8F5E9;
            border-left: 4px solid var(--verde-natural);
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .step-title {
            color: var(--verde-natural);
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .construction-steps {
            background-color: #F1F8E9;
            border: 1px solid var(--verde-natural);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .construction-title {
            color: var(--verde-natural);
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .step-item {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
        }
        
        .step-number {
            position: absolute;
            left: 0;
            top: 0;
            background-color: var(--verde-natural);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .step-content {
            padding-left: 10px;
        }
        
        .step-formula {
            background-color: #E8F5E9;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
        }
        
        .step-explanation {
            font-style: italic;
            color: #555;
            margin-top: 5px;
        }
        
        .delta-explanation {
            background-color: #E3F2FD;
            border-left: 4px solid var(--azul);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .delta-title {
            color: var(--azul);
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        /* Estilos para la pestaña de bibliografía */
        .bibliography-section {
            margin-bottom: 30px;
        }
        
        .bibliography-title {
            color: var(--madera-oscuro);
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--madera-medio);
        }
        
        .reference-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .reference-item {
            background-color: #F9F9F9;
            border-left: 4px solid var(--madera-medio);
            padding: 12px 15px;
            margin-bottom: 12px;
            border-radius: 0 5px 5px 0;
            transition: transform 0.2s ease;
        }
        
        .reference-item:hover {
            transform: translateX(5px);
            background-color: #F1F1F1;
        }
        
        .reference-type {
            display: inline-block;
            background-color: var(--madera-claro);
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-right: 8px;
            font-weight: bold;
        }
        
        .reference-title {
            font-weight: bold;
            color: var(--madera-oscuro);
        }
        
        .reference-authors {
            font-style: italic;
            color: #555;
        }
        
        .reference-publisher {
            color: #666;
            font-size: 0.9rem;
        }
        
        .reference-link {
            color: var(--azul);
            text-decoration: none;
            font-weight: bold;
        }
        
        .reference-link:hover {
            text-decoration: underline;
        }
        
        .reference-description {
            margin-top: 5px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .bibliography-note {
            background-color: #FFF8E1;
            border-left: 4px solid var(--acento);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .tab-button {
                font-size: 0.9rem;
                padding: 10px 5px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .timeline-item {
                width: 100%;
                left: 0 !important;
                padding-left: 60px !important;
                padding-right: 0 !important;
                text-align: left !important;
            }
            
            .timeline-dot {
                left: -10px !important;
                right: auto !important;
            }
            
            .timeline-line {
                left: 20px;
            }
            
            .value-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Introducción al Cálculo Diferencial</h1>
            <p class="subtitle">Aplicaciones en la industria de la madera y otros campos - Bachillerato Técnico en Madera</p>
        </header>
        
        <div class="tab-container">
            <button class="tab-button active" onclick="openTab(event, 'clase1')">Clase 1: Rectas Tangentes y Secantes</button>
            <button class="tab-button" onclick="openTab(event, 'clase2')">Clase 2: Velocidad y Límites</button>
            <button class="tab-button" onclick="openTab(event, 'clase2b')">Clase 2b: Límite del Cociente Incremental</button>
            <button class="tab-button" onclick="openTab(event, 'clase3')">Clase 3: Derivada y Aplicaciones</button>
            <button class="tab-button" onclick="openTab(event, 'historia')">Marco Histórico</button>
            <button class="tab-button" onclick="openTab(event, 'sintesis')">Síntesis Conceptual</button>
            <button class="tab-button" onclick="openTab(event, 'aplicaciones')">Aplicaciones Generales</button>
            <button class="tab-button" onclick="openTab(event, 'bibliografia')">Bibliografía y Referencias</button>
        </div>
        
        <!-- CLASE 1 -->
        <div id="clase1" class="tab-content active">
            <div class="concept-banner">
                <span class="wood-icon">🪵</span> Recta Tangente y Secante: Fundamentos Geométricos
            </div>
            
            <div class="definition-box">
                <h3>Recta Tangente</h3>
                <p>Es la recta que toca a una curva en un solo punto, sin cortarla, y tiene la misma dirección que la curva en ese punto. Su pendiente representa la inclinación de la curva en dicho punto.</p>
            </div>
            
            <div class="definition-box">
                <h3>Recta Secante</h3>
                <p>Es una recta que corta a una curva en dos puntos distintos. Al acercar estos puntos, la secante se aproxima a la tangente.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Recta Tangente y Secante</h3>
                <canvas id="tangentSecantCanvas" width="600" height="400"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="pointSlider">Posición del punto:</label>
                        <input type="range" id="pointSlider" min="-5" max="5" step="0.1" value="1">
                    </div>
                    <div class="slider-container">
                        <label for="distanceSlider">Distancia entre puntos:</label>
                        <input type="range" id="distanceSlider" min="0.1" max="3" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleSecant()">Mostrar/Ocultar Secante</button>
                    <button class="control-button" onclick="resetGraph()">Reiniciar Gráfico</button>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Diseño de una pata de mesa curva</div>
                <p>Para diseñar una pata de mesa con curva suave, necesitamos determinar la inclinación exacta en cada punto. El perfil de la pata puede modelarse matemáticamente con una función.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, la variable <strong>x</strong> representa la posición horizontal a lo largo de la base de la pata (en metros), y <strong>f(x)</strong> representa la altura o el perfil de la curva de la pata en esa posición (en metros). La función que modela el perfil es \( f(x) = 0.1x^2 \).
                </div>
                <p>Queremos encontrar la pendiente de la tangente en x = 2, lo que nos dará la inclinación exacta de la herramienta de corte en ese punto.</p>
                <button class="solution-button" onclick="toggleSolution('sol1')">Ver solución</button>
                <div id="sol1" class="solution">
                    <p>1. Calculamos dos puntos cercanos en la curva:</p>
                    <p>Punto A: \( (2, f(2)) = (2, 0.1 \cdot 2^2) = (2, 0.4) \)</p>
                    <p>Punto B: \( (2.1, f(2.1)) = (2.1, 0.1 \cdot 2.1^2) = (2.1, 0.441) \)</p>
                    <p>2. Calculamos la pendiente de la secante que pasa por A y B:</p>
                    <div class="formula-box">
                        \( m = \frac{0.441 - 0.4}{2.1 - 2} = \frac{0.041}{0.1} = 0.41 \)
                    </div>
                    <p>3. Si repetimos el proceso con puntos más cercanos, nos acercamos a la pendiente de la tangente.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Para diseñar el respaldo curvo de una silla ergonómica, necesitamos determinar la inclinación de la curva en diferentes puntos. El perfil del respaldo puede modelarse con la función \( f(x) = 0.05x^3 \).</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>x</strong> representa la posición horizontal a lo largo del respaldo (en metros), medida desde el centro hacia un extremo. <strong>f(x)</strong> representa la curvatura o el perfil del respaldo en esa posición (en metros).
                </div>
                <p>Calcula la pendiente de la secante entre los puntos x=1 y x=1.5. ¿Qué sucede si acercamos los puntos a x=1 y x=1.1?</p>
                <button class="solution-button" onclick="toggleSolution('ex1')">Ver respuesta</button>
                <div id="ex1" class="solution">
                    <p>Para x=1 y x=1.5:</p>
                    <p>\( f(1) = 0.05 \cdot 1^3 = 0.05 \)</p>
                    <p>\( f(1.5) = 0.05 \cdot 1.5^3 = 0.16875 \)</p>
                    <div class="formula-box">
                        \( m = \frac{0.16875 - 0.05}{1.5 - 1} = \frac{0.11875}{0.5} = 0.2375 \)
                    </div>
                    <p>Para x=1 y x=1.1:</p>
                    <p>\( f(1.1) = 0.05 \cdot 1.1^3 = 0.06655 \)</p>
                    <div class="formula-box">
                        \( m = \frac{0.06655 - 0.05}{1.1 - 1} = \frac{0.01655}{0.1} = 0.1655 \)
                    </div>
                    <p>Al acercar los puntos, la pendiente de la secante se aproxima a la pendiente de la tangente en x=1.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en la industria de la madera</div>
                <p>En el diseño de muebles con curvas complejas, conocer la pendiente exacta en cada punto es crucial para el mecanizado con control numérico (CNC). La recta tangente determina el ángulo de inclinación de la herramienta en cada punto de la trayectoria de corte.</p>
            </div>
            
            <div class="quiz-container">
                <h3>Evaluación - Clase 1</h3>
                <div class="question">1. ¿Qué representa la pendiente de la recta tangente a una curva en un punto?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q1" value="a" id="q1a">
                        <label for="q1a">La altura de la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="b" id="q1b">
                        <label for="q1b">La inclinación de la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="c" id="q1c">
                        <label for="q1c">El área bajo la curva hasta ese punto</label>
                    </div>
                </div>
                <div id="feedback1" class="feedback"></div>
                
                <div class="question">2. ¿Qué sucede con las rectas secantes cuando los puntos de corte se acercan?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q2" value="a" id="q2a">
                        <label for="q2a">Se convierten en paralelas al eje X</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q2" value="b" id="q2b">
                        <label for="q2b">Se acercan a la recta tangente</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q2" value="c" id="q2c">
                        <label for="q2c">Se alejan de la curva</label>
                    </div>
                </div>
                <div id="feedback2" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz1')">Verificar respuestas</button>
            </div>
        </div>
        
        <!-- CLASE 2 -->
        <div id="clase2" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">🪚</span> Velocidad Media vs Instantánea y Noción de Límite
            </div>
            
            <div class="definition-box">
                <h3>Velocidad Media</h3>
                <p>Es el cociente entre el espacio recorrido y el tiempo transcurrido. Representa la velocidad promedio durante un intervalo de tiempo.</p>
            </div>
            
            <div class="definition-box">
                <h3>Velocidad Instantánea</h3>
                <p>Es la velocidad en un instante preciso. Se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.</p>
            </div>
            
            <div class="definition-box">
                <h3>Límite</h3>
                <p>Es el valor al que se aproxima una función cuando la variable independiente se acerca a un determinado valor. Es la herramienta fundamental para definir la derivada.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Velocidad Media e Instantánea</h3>
                <canvas id="velocityCanvas" width="700" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="timeSlider">Tiempo (t):</label>
                        <input type="range" id="timeSlider" min="0" max="10" step="0.1" value="2">
                    </div>
                    <div class="slider-container">
                        <label for="intervalSlider">Intervalo (Δt):</label>
                        <input type="range" id="intervalSlider" min="0.1" max="2" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleAverageVelocity()">Mostrar/Ocultar Velocidad Media</button>
                    <button class="control-button" onclick="toggleDeltaTriangle()">Mostrar/Ocultar Δt y Δs</button>
                    <button class="control-button" onclick="resetVelocityGraph()">Reiniciar Gráfico</button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Tiempo inicial (t₀):</div>
                            <div class="value-number" id="t0Value">2.0 s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Tiempo final (t₁):</div>
                            <div class="value-number" id="t1Value">3.0 s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Δt:</div>
                            <div class="value-number" id="deltaTValue">1.0 s</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Posición inicial (s₀):</div>
                            <div class="value-number" id="s0Value">6.0 m</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Posición final (s₁):</div>
                            <div class="value-number" id="s1Value">15.0 m</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Δs:</div>
                            <div class="value-number" id="deltaSValue">9.0 m</div>
                        </div>
                    </div>
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Velocidad media:</div>
                            <div class="value-number" id="avgVelocityValue">9.0 m/s</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Velocidad instantánea:</div>
                            <div class="value-number" id="instantVelocityValue">7.0 m/s</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="delta-explanation">
                <div class="delta-title">Interpretación de Δt y Δs en la gráfica</div>
                <p>En la gráfica interactiva, podemos observar claramente:</p>
                <ul>
                    <li><strong>Δt (Delta t)</strong>: Representa el intervalo de tiempo transcurrido entre los dos puntos. En el triángulo, es el cateto horizontal que muestra la diferencia entre el tiempo final y el tiempo inicial.</li>
                    <li><strong>Δs (Delta s)</strong>: Representa el cambio de posición durante ese intervalo de tiempo. En el triángulo, es el cateto vertical que muestra la diferencia entre la posición final y la posición inicial.</li>
                </ul>
                <p>La velocidad media se calcula como el cociente entre estos dos incrementos:</p>
                <div class="formula-box">
                    \( v_{media} = \frac{\Delta s}{\Delta t} = \frac{s_1 - s_0}{t_1 - t_0} \)
                </div>
                <p>Cuando hacemos que Δt tienda a cero (acercando los puntos en el tiempo), la velocidad media se aproxima a la velocidad instantánea en el punto t₀.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Control de velocidad en una sierra</div>
                <p>En una sierra circular industrial, es importante controlar la velocidad de avance para garantizar cortes precisos y seguros. La posición de la sierra puede modelarse matemáticamente en función del tiempo.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde el inicio del corte (en segundos), y <strong>s(t)</strong> representa la posición lineal de la sierra a lo largo de la madera (en metros). La función que modela el movimiento es \( s(t) = 2t^2 - t \).
                </div>
                <p>Calcula la velocidad media entre t=2 y t=3 segundos, y estima la velocidad instantánea en t=2.</p>
                <button class="solution-button" onclick="toggleSolution('sol2')">Ver solución</button>
                <div id="sol2" class="solution">
                    <p>1. Velocidad media entre t=2 y t=3:</p>
                    <p>\( s(2) = 2 \cdot 2^2 - 2 = 8 - 2 = 6 \) m</p>
                    <p>\( s(3) = 2 \cdot 3^2 - 3 = 18 - 3 = 15 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{15 - 6}{3 - 2} = \frac{9}{1} = 9 \) m/s
                    </div>
                    <p>2. Para estimar la velocidad instantánea en t=2, calculamos velocidades medias en intervalos más pequeños:</p>
                    <p>Entre t=2 y t=2.1:</p>
                    <p>\( s(2.1) = 2 \cdot (2.1)^2 - 2.1 = 8.82 - 2.1 = 6.72 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{6.72 - 6}{2.1 - 2} = \frac{0.72}{0.1} = 7.2 \) m/s
                    </div>
                    <p>Entre t=2 y t=2.01:</p>
                    <p>\( s(2.01) = 2 \cdot (2.01)^2 - 2.01 = 8.0802 - 2.01 = 6.0702 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{6.0702 - 6}{2.01 - 2} = \frac{0.0702}{0.01} = 7.02 \) m/s
                    </div>
                    <p>Al acercar los puntos, la velocidad se aproxima a 7 m/s, que es la velocidad instantánea en t=2.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Una cepilladora de madera es una máquina que utiliza un cuchillo rotativo para alisar superficies de madera. El movimiento de avance de la madera a través de la máquina puede modelarse matemáticamente para optimizar el proceso.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>t</strong> representa el tiempo transcurrido desde que la madera comienza a entrar en la máquina (en segundos), y <strong>p(t)</strong> representa la posición lineal de la madera a lo largo de la cepilladora (en metros). La función que modela el movimiento es \( p(t) = t^3 - 3t^2 + 2 \).
                </div>
                <p>Calcula la velocidad media entre t=1 y t=3 segundos, y estima la velocidad instantánea en t=2.</p>
                <button class="solution-button" onclick="toggleSolution('ex2')">Ver respuesta</button>
                <div id="ex2" class="solution">
                    <p>1. Velocidad media entre t=1 y t=3:</p>
                    <p>\( p(1) = 1^3 - 3 \cdot 1^2 + 2 = 1 - 3 + 2 = 0 \) m</p>
                    <p>\( p(3) = 3^3 - 3 \cdot 3^2 + 2 = 27 - 27 + 2 = 2 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{2 - 0}{3 - 1} = \frac{2}{2} = 1 \) m/s
                    </div>
                    <p>2. Para estimar la velocidad instantánea en t=2:</p>
                    <p>\( p(2) = 2^3 - 3 \cdot 2^2 + 2 = 8 - 12 + 2 = -2 \) m</p>
                    <p>Entre t=2 y t=2.1:</p>
                    <p>\( p(2.1) = (2.1)^3 - 3 \cdot (2.1)^2 + 2 = 9.261 - 13.23 + 2 = -1.969 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{-1.969 - (-2)}{2.1 - 2} = \frac{0.031}{0.1} = 0.31 \) m/s
                    </div>
                    <p>Entre t=2 y t=2.01:</p>
                    <p>\( p(2.01) = (2.01)^3 - 3 \cdot (2.01)^2 + 2 = 8.120601 - 12.1203 + 2 = -1.999699 \) m</p>
                    <div class="formula-box">
                        Velocidad media = \( \frac{-1.999699 - (-2)}{2.01 - 2} = \frac{0.000301}{0.01} = 0.0301 \) m/s
                    </div>
                    <p>La velocidad instantánea en t=2 se aproxima a 0 m/s.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en la industria de la madera</div>
                <p>En el proceso de secado de madera, controlar la velocidad de pérdida de humedad es crucial para evitar deformaciones. La velocidad instantánea de secado (derivada de la humedad respecto al tiempo) permite ajustar los parámetros del horno para un secado uniforme y sin defectos.</p>
            </div>
            
            <div class="quiz-container">
                <h3>Evaluación - Clase 2</h3>
                <div class="question">1. ¿Cómo se calcula la velocidad instantánea?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q3" value="a" id="q3a">
                        <label for="q3a">Como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="b" id="q3b">
                        <label for="q3b">Como el espacio total dividido por el tiempo total</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="c" id="q3c">
                        <label for="q3c">Como el promedio de todas las velocidades medias</label>
                    </div>
                </div>
                <div id="feedback3" class="feedback"></div>
                
                <div class="question">2. ¿Qué representa el límite de una función?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q4" value="a" id="q4a">
                        <label for="q4a">El valor máximo que alcanza la función</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q4" value="b" id="q4b">
                        <label for="q4b">El valor al que se aproxima la función cuando la variable se acerca a un determinado valor</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q4" value="c" id="q4c">
                        <label for="q4c">El valor de la función en el punto donde no está definida</label>
                    </div>
                </div>
                <div id="feedback4" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz2')">Verificar respuestas</button>
            </div>
        </div>
        
        <!-- CLASE 2B: LÍMITE DEL COCIENTE INCREMENTAL -->
        <div id="clase2b" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">📐</span> Desarrollo del Límite del Cociente Incremental
            </div>
            
            <div class="definition-box">
                <h3>El Cociente Incremental</h3>
                <p>El cociente incremental es la expresión que representa la pendiente de la recta secante que pasa por dos puntos de una curva: \( (x, f(x)) \) y \( (x+h, f(x+h)) \). Se define como:</p>
                <div class="formula-box">
                    \( \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Donde h es el incremento en la variable independiente x.</p>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 1: Construcción Geométrica</div>
                <p>Para entender el cociente incremental, consideremos una curva y dos puntos sobre ella:</p>
                <ul>
                    <li>Punto A: \( (x, f(x)) \) - un punto fijo en la curva</li>
                    <li>Punto B: \( (x+h, f(x+h)) \) - un punto móvil a una distancia sobre la horizontal h de A</li>
                </ul>
                <p>La recta que pasa por A y B es una recta secante. Su pendiente se calcula como:</p>
                <div class="formula-box">
                    \( m = \frac{f(x+h) - f(x)}{(x+h) - x} = \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Esta expresión es exactamente el cociente incremental.</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Cociente Incremental y Triángulo de Pendiente</h3>
                <canvas id="incrementalCanvas" width="700" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="xSlider">Posición x:</label>
                        <input type="range" id="xSlider" min="-3" max="3" step="0.1" value="1">
                    </div>
                    <div class="slider-container">
                        <label for="hSlider">Incremento h:</label>
                        <input type="range" id="hSlider" min="0.1" max="2" step="0.05" value="1">
                    </div>
                    <button class="control-button" onclick="toggleTriangle()">Mostrar/Ocultar Triángulo</button>
                    <button class="control-button" onclick="toggleCoordinates()">Mostrar/Ocultar Coordenadas</button>
                    <button class="control-button" onclick="resetIncrementalGraph()">Reiniciar Gráfico</button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Punto A:</div>
                            <div class="value-number" id="pointA">(1.0, 1.0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Punto B:</div>
                            <div class="value-number" id="pointB">(2.0, 4.0)</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Cociente incremental:</div>
                            <div class="value-number" id="quotient">3.0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="construction-steps">
                <div class="construction-title">Desarrollo Paso a Paso del Cociente Incremental</div>
                
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <p>Consideremos una función \( f(x) \) y un punto \( A(x, f(x)) \) sobre su gráfica.</p>
                        <div class="step-formula">
                            Punto A: \( (x, f(x)) \)
                        </div>
                        <p class="step-explanation">Este es nuestro punto de referencia donde queremos calcular la pendiente de la tangente.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <p>Seleccionamos un segundo punto \( B \) sobre la curva, desplazado horizontalmente una distancia \( h \) desde A:</p>
                        <div class="step-formula">
                            Punto B: \( (x+h, f(x+h)) \)
                        </div>
                        <p class="step-explanation">Este punto está a una distancia horizontal \( h \) del punto A, pero puede estar a diferente altura dependiendo de la curva.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <p>Trazamos la recta secante que pasa por los puntos A y B. La pendiente de esta recta se calcula como:</p>
                        <div class="step-formula">
                            \( m_{secante} = \frac{\text{cambio vertical}}{\text{cambio horizontal}} = \frac{f(x+h) - f(x)}{(x+h) - x} \)
                        </div>
                        <p class="step-explanation">Esta es la fórmula básica para calcular la pendiente entre dos puntos.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <p>Simplificando la expresión anterior, obtenemos el cociente incremental:</p>
                        <div class="step-formula">
                            \( m_{secante} = \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Esta expresión representa la pendiente de la recta secante y se conoce como cociente incremental.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <p>Para obtener la pendiente de la recta tangente en el punto A, hacemos que el punto B se acerque infinitamente a A. Esto significa que el incremento \( h \) tiende a cero:</p>
                        <div class="step-formula">
                            \( m_{tangente} = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Este límite del cociente incremental es precisamente la definición de la derivada de la función f en el punto x.</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <p>La derivada de la función, denotada \( f'(x) \), se define entonces como:</p>
                        <div class="step-formula">
                            \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                        </div>
                        <p class="step-explanation">Esta expresión nos permite calcular la pendiente de la tangente en cualquier punto de la curva, representando la tasa de cambio instantánea de la función.</p>
                    </div>
                </div>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 2: Interpretación del Triángulo</div>
                <p>En el gráfico interactivo, podemos observar:</p>
                <ul>
                    <li>El <strong>cateto horizontal</strong> del triángulo representa el incremento h en la variable x.</li>
                    <li>El <strong>cateto vertical</strong> del triángulo representa el cambio en la función: \( f(x+h) - f(x) \).</li>
                    <li>La <strong>hipotenusa</strong> es la recta secante que une los dos puntos.</li>
                </ul>
                <p>La pendiente de la secante (y por tanto del cociente incremental) es el cociente entre el cateto vertical y el cateto horizontal del triángulo.</p>
            </div>
            
            <div class="step-box">
                <div class="step-title">Paso 3: El Proceso de Límite</div>
                <p>Para encontrar la pendiente de la recta tangente en el punto A, necesitamos hacer que el punto B se acerque cada vez más al punto A. Esto significa hacer que el incremento h tienda a cero:</p>
                <div class="formula-box">
                    \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Este límite del cociente incremental es precisamente la definición de la derivada de la función f en el punto x.</p>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Cálculo del límite del cociente incremental para \( f(x) = x^2 \)</div>
                <p>Vamos a desarrollar algebraicamente el límite del cociente incremental para la función cuadrática \( f(x) = x^2 \).</p>
                <button class="solution-button" onclick="toggleSolution('sol3')">Ver solución</button>
                <div id="sol3" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                    </div>
                    <p>2. Sustituimos la función \( f(x) = x^2 \):</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h} \)
                    </div>
                    <p>3. Desarrollamos el cuadrado del binomio:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{x^2 + 2xh + h^2 - x^2}{h} \)
                    </div>
                    <p>4. Simplificamos la expresión:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{2xh + h^2}{h} = \lim_{h \to 0} \frac{h(2x + h)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} (2x + h) \)
                    </div>
                    <p>5. Evaluamos el límite cuando \( h \to 0 \):</p>
                    <div class="formula-box">
                        \( f'(x) = 2x + 0 = 2x \)
                    </div>
                    <p>Por lo tanto, la derivada de \( f(x) = x^2 \) es \( f'(x) = 2x \).</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Para el diseño de un perfil de madera con curva parabólica, utilizamos la función \( f(x) = 0.5x^2 \). Calcula el límite del cociente incremental para encontrar la derivada de esta función.</p>
                <button class="solution-button" onclick="toggleSolution('ex3')">Ver respuesta</button>
                <div id="ex3" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                    </div>
                    <p>2. Sustituimos la función \( f(x) = 0.5x^2 \):</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{0.5(x+h)^2 - 0.5x^2}{h} \)
                    </div>
                    <p>3. Factorizamos 0.5:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} 0.5 \cdot \frac{(x+h)^2 - x^2}{h} \)
                    </div>
                    <p>4. Desarrollamos el cuadrado del binomio:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} 0.5 \cdot \frac{x^2 + 2xh + h^2 - x^2}{h} \)
                    </div>
                    <p>5. Simplificamos la expresión:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} 0.5 \cdot \frac{2xh + h^2}{h} = \lim_{h \to 0} 0.5 \cdot \frac{h(2x + h)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} 0.5 \cdot (2x + h) \)
                    </div>
                    <p>6. Evaluamos el límite cuando \( h \to 0 \):</p>
                    <div class="formula-box">
                        \( f'(x) = 0.5 \cdot (2x + 0) = 0.5 \times 2x = x \)
                    </div>
                    <p>Por lo tanto, la derivada de \( f(x) = 0.5x^2 \) es \( f'(x) = x \).</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en la industria de la madera</div>
                <p>En el diseño de molduras y perfiles de madera, el límite del cociente incremental nos permite determinar con precisión la inclinación de la herramienta de corte en cada punto. Esto es fundamental para lograr transiciones suaves y precisas en las curvas complejas de molduras decorativas.</p>
            </div>
            
            <div class="quiz-container">
                <h3>Evaluación - Límite del Cociente Incremental</h3>
                <div class="question">1. ¿Qué representa el cociente incremental \( \frac{f(x+h) - f(x)}{h} \)?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q5" value="a" id="q5a">
                        <label for="q5a">El área bajo la curva entre x y x+h</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="b" id="q5b">
                        <label for="q5b">La pendiente de la recta secante que pasa por \( (x, f(x)) \) y \( (x+h, f(x+h)) \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="c" id="q5c">
                        <label for="q5c">La longitud de la curva entre x y x+h</label>
                    </div>
                </div>
                <div id="feedback5" class="feedback"></div>
                
                <div class="question">2. ¿Qué sucede cuando hacemos tender h a cero en el cociente incremental?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q6" value="a" id="q6a">
                        <label for="q6a">Obtenemos la pendiente de la recta tangente en el punto \( (x, f(x)) \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q6" value="b" id="q6b">
                        <label for="q6b">Obtenemos el valor promedio de la función entre x y x+h</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q6" value="c" id="q6c">
                        <label for="q6c">Obtenemos el área bajo la curva en el punto x</label>
                    </div>
                </div>
                <div id="feedback6" class="feedback"></div>
                
                <div class="question">3. Para la función \( f(x) = x^2 \), ¿cuál es el resultado del límite del cociente incremental?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q7" value="a" id="q7a">
                        <label for="q7a">\( x \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="b" id="q7b">
                        <label for="q7b">\( 2x \)</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="c" id="q7c">
                        <label for="q7c">\( x^2 \)</label>
                    </div>
                </div>
                <div id="feedback7" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz3')">Verificar respuestas</button>
            </div>
        </div>
        
        <!-- CLASE 3 -->
        <div id="clase3" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">🪑</span> La Derivada y sus Aplicaciones en la Industria de la Madera
            </div>
            
            <div class="definition-box">
                <h3>Derivada de una función</h3>
                <p>La derivada de una función f en un punto x, denotada \( f'(x) \), se define como el límite del cociente incremental cuando el incremento tiende a cero:</p>
                <div class="formula-box">
                    \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                </div>
                <p>Geométricamente, representa la pendiente de la recta tangente a la curva en el punto \( (x, f(x)) \).</p>
            </div>
            
            <div class="graph-container">
                <h3>Visualización Interactiva: Función, Derivada y Recta Tangente</h3>
                <canvas id="derivativeCanvas" width="700" height="500"></canvas>
                <div class="controls">
                    <div class="slider-container">
                        <label for="functionSlider">Función:</label>
                        <select id="functionSlider">
                            <option value="quadratic">Cuadrática: \( f(x) = x^2 \)</option>
                            <option value="cubic">Cúbica: \( f(x) = x^3 \)</option>
                            <option value="sine">Seno: \( f(x) = \sin(x) \)</option>
                            <option value="exponential">Exponencial: \( f(x) = e^x \)</option>
                        </select>
                    </div>
                    <div class="slider-container">
                        <label for="pointSlider3">Posición del punto (x):</label>
                        <input type="range" id="pointSlider3" min="-3" max="3" step="0.1" value="1">
                    </div>
                    <button class="control-button" onclick="toggleDerivative()">Mostrar/Ocultar Derivada</button>
                    <button class="control-button" onclick="toggleTangent()">Mostrar/Ocultar Tangente</button>
                    <button class="control-button" onclick="resetDerivativeGraph()">Reiniciar Gráfico</button>
                </div>
                <div class="value-display">
                    <div class="value-row">
                        <div class="value-item">
                            <div class="value-label">Posición (x):</div>
                            <div class="value-number" id="xValue">1.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">f(x):</div>
                            <div class="value-number" id="fxValue">1.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">Pendiente tangente:</div>
                            <div class="value-number" id="slopeValue">2.0</div>
                        </div>
                        <div class="value-item">
                            <div class="value-label">f'(x):</div>
                            <div class="value-number" id="derivativeValue">2.0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="example-box">
                <div class="example-title">Ejemplo: Cálculo de la derivada para el diseño de una viga</div>
                <p>En la construcción de estructuras de madera, las vigas deben diseñarse para maximizar su resistencia con el mínimo material posible. Para una viga de madera con sección transversal rectangular, la resistencia depende de sus dimensiones.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>h</strong> representa la altura de la sección transversal de la viga (en metros), y <strong>R(h)</strong> representa la resistencia de la viga (en unidades arbitrarias de resistencia). El ancho de la viga es fijo y se denota como <strong>A</strong> (en metros). La constante <strong>k</strong> es un factor que depende del tipo de madera y otras propiedades. La función que modela la resistencia es \( R(h) = k \cdot h \cdot (A-h) \).
                </div>
                <p>Calcula la derivada \( R'(h) \) para encontrar la altura óptima que maximiza la resistencia.</p>
                <button class="solution-button" onclick="toggleSolution('sol4')">Ver solución</button>
                <div id="sol4" class="solution">
                    <p>1. Aplicamos la definición de derivada:</p>
                    <div class="formula-box">
                        \( R'(h) = \lim_{\Delta h \to 0} \frac{R(h+\Delta h) - R(h)}{\Delta h} \)
                    </div>
                    <p>2. Sustituimos la función R:</p>
                    <div class="formula-box">
                        \( R'(h) = \lim_{\Delta h \to 0} \frac{k \cdot (h+\Delta h) \cdot (A-h-\Delta h) - k \cdot h \cdot (A-h)}{\Delta h} \)
                    </div>
                    <p>3. Desarrollamos la expresión:</p>
                    <div class="formula-box">
                        \( R'(h) = \lim_{\Delta h \to 0} \frac{k \cdot (hA - h^2 + A\Delta h - 2h\Delta h - (\Delta h)^2) - k \cdot (hA - h^2)}{\Delta h} \)
                    </div>
                    <div class="formula-box">
                        \( R'(h) = \lim_{\Delta h \to 0} \frac{k \cdot (A\Delta h - 2h\Delta h - (\Delta h)^2)}{\Delta h} \)
                    </div>
                    <div class="formula-box">
                        \( R'(h) = \lim_{\Delta h \to 0} k \cdot (A - 2h - \Delta h) \)
                    </div>
                    <p>4. Evaluamos el límite cuando \( \Delta h \to 0 \):</p>
                    <div class="formula-box">
                        \( R'(h) = k \cdot (A - 2h) \)
                    </div>
                    <p>5. Para encontrar la altura óptima, igualamos a cero:</p>
                    <div class="formula-box">
                        \( k \cdot (A - 2h) = 0 \)
                    </div>
                    <div class="formula-box">
                        \( A - 2h = 0 \)
                    </div>
                    <div class="formula-box">
                        \( h = \frac{A}{2} \)
                    </div>
                    <p>La altura óptima es la mitad del ancho fijo.</p>
                </div>
            </div>
            
            <div class="exercise-box">
                <h3>Ejercicio Propuesto</h3>
                <p>Para diseñar el respaldo ergonómico de una silla de madera, necesitamos modelar matemáticamente su curvatura. El perfil del respaldo puede describirse con una función que relaciona la posición horizontal con la altura de la curva.</p>
                <div class="variable-explanation">
                    <strong>Explicación de variables:</strong> En este modelo, <strong>x</strong> representa la posición horizontal a lo largo del respaldo (en metros), medida desde el centro hacia un extremo. <strong>f(x)</strong> representa la altura o el perfil del respaldo en esa posición (en metros). La función que modela el perfil es \( f(x) = 0.02x^3 - 0.3x^2 + x + 10 \).
                </div>
                <p>Calcula la derivada \( f'(x) \) y encuentra la pendiente de la tangente en x=4, lo que determinará el ángulo de inclinación de la herramienta de mecanizado en ese punto.</p>
                <button class="solution-button" onclick="toggleSolution('ex4')">Ver respuesta</button>
                <div id="ex4" class="solution">
                    <p>1. Calculamos la derivada usando la definición:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{0.02(x+h)^3 - 0.3(x+h)^2 + (x+h) + 10 - (0.02x^3 - 0.3x^2 + x + 10)}{h} \)
                    </div>
                    <p>2. Desarrollamos y simplificamos:</p>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{0.02(x^3 + 3x^2h + 3xh^2 + h^3) - 0.3(x^2 + 2xh + h^2) + x + h + 10 - 0.02x^3 + 0.3x^2 - x - 10}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{0.06x^2h + 0.06xh^2 + 0.02h^3 - 0.6xh - 0.3h^2 + h}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} \frac{h(0.06x^2 + 0.06xh + 0.02h^2 - 0.6x - 0.3h + 1)}{h} \)
                    </div>
                    <div class="formula-box">
                        \( f'(x) = \lim_{h \to 0} (0.06x^2 + 0.06xh + 0.02h^2 - 0.6x - 0.3h + 1) \)
                    </div>
                    <p>3. Evaluamos el límite cuando \( h \to 0 \):</p>
                    <div class="formula-box">
                        \( f'(x) = 0.06x^2 - 0.6x + 1 \)
                    </div>
                    <p>4. Calculamos la pendiente en x=4:</p>
                    <div class="formula-box">
                        \( f'(4) = 0.06 \cdot 4^2 - 0.6 \cdot 4 + 1 = 0.06 \cdot 16 - 2.4 + 1 = 0.96 - 2.4 + 1 = -0.44 \)
                    </div>
                    <p>La pendiente de la tangente en x=4 es -0.44.</p>
                </div>
            </div>
            
            <div class="application-box">
                <div class="application-title">Aplicación en la industria de la madera</div>
                <p>En el diseño de molduras y perfiles decorativos, la derivada permite calcular el ángulo de inclinación de la herramienta de corte en cada punto. Esto es fundamental para lograr transiciones suaves y precisas en las curvas complejas de molduras de madera.</p>
            </div>
            
            <div class="quiz-container">
                <h3>Evaluación - Clase 3</h3>
                <div class="question">1. ¿Qué representa geométricamente la derivada de una función en un punto?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q8" value="a" id="q8a">
                        <label for="q8a">El área bajo la curva hasta ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="b" id="q8b">
                        <label for="q8b">La pendiente de la recta tangente a la curva en ese punto</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="c" id="q8c">
                        <label for="q8c">La longitud de la curva desde el origen hasta ese punto</label>
                    </div>
                </div>
                <div id="feedback8" class="feedback"></div>
                
                <div class="question">2. En la industria de la madera, ¿para qué se utiliza la derivada?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q9" value="a" id="q9a">
                        <label for="q9a">Para calcular el volumen de madera necesaria</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q9" value="b" id="q9b">
                        <label for="q9b">Para determinar la inclinación de herramientas de corte en diseños curvos</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q9" value="c" id="q9c">
                        <label for="q9c">Para medir la humedad de la madera</label>
                    </div>
                </div>
                <div id="feedback9" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz4')">Verificar respuestas</button>
            </div>
        </div>
        
        <!-- MARCO HISTÓRICO -->
        <div id="historia" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">📜</span> Marco Histórico del Cálculo Diferencial
            </div>
            
            <p>El cálculo diferencial tiene una rica historia que abarca siglos de desarrollo matemático. Comprender su evolución nos ayuda a valorar su importancia y aplicaciones actuales.</p>
            
            <div class="history-timeline">
                <div class="timeline-line"></div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo III a.C.</div>
                        <p><strong>Arquímedes</strong> utiliza métodos primitivos de integración para calcular áreas y volúmenes, sentando bases para el cálculo.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVII</div>
                        <p><strong>Pierre de Fermat</strong> desarrolla un método para encontrar máximos y mínimos de funciones, anticipando el concepto de derivada.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1665-1666</div>
                        <p><strong>Isaac Newton</strong> desarrolla el "método de fluxiones", precursor del cálculo diferencial, para resolver problemas de física y astronomía.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">1670-1680</div>
                        <p><strong>Gottfried Leibniz</strong> desarrolla independientemente el cálculo diferencial, introduciendo la notación \( \frac{dy}{dx} \) que aún utilizamos hoy.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XVIII</div>
                        <p><strong>Leonhard Euler</strong> y <strong>Joseph-Louis Lagrange</strong> formalizan y extienden el cálculo diferencial, aplicándolo a numerosos campos de la física y la ingeniería.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XIX</div>
                        <p><strong>Augustin-Louis Cauchy</strong> y <strong>Karl Weierstrass</strong> proporcionan una base rigurosa al cálculo mediante el concepto de límite.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">Siglo XX-XXI</div>
                        <p>El cálculo diferencial se convierte en una herramienta fundamental en prácticamente todos los campos de la ciencia y la ingeniería, incluyendo la industria de la madera.</p>
                    </div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La controversia Newton-Leibniz</h3>
                <p>Uno de los episodios más famosos en la historia de las matemáticas fue la disputa sobre la prioridad en la invención del cálculo. Aunque Newton desarrolló sus ideas primero, Leibniz publicó antes. La comunidad matemática moderna reconoce a ambos como independientes inventores del cálculo, con notaciones y enfoques diferentes pero complementarios.</p>
            </div>
            
            <div class="application-box">
                <div class="application-title">Relevancia histórica para la industria de la madera</div>
                <p>El desarrollo del cálculo diferencial permitió avances significativos en la ingeniería de materiales, incluyendo la madera. Los métodos matemáticos desarrollados por Newton y Leibniz sentaron las bases para el análisis de tensiones, deformaciones y optimización de estructuras de madera que utilizamos hoy en día.</p>
            </div>
        </div>
        
        <!-- SÍNTESIS CONCEPTUAL -->
        <div id="sintesis" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">🧩</span> Síntesis Conceptual: Progresión e Interrelación de Conceptos
            </div>
            
            <p>El cálculo diferencial se construye sobre una secuencia de conceptos interrelacionados que progresan desde ideas geométricas intuitivas hasta herramientas analíticas poderosas.</p>
            
            <div class="concept-map">
                <div class="map-row">
                    <div class="map-node" id="node1">Recta Secante</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node2">Aproximación Sucesiva</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="node3">Recta Tangente</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node4">Velocidad Instantánea</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node" id="node5">Límite</div>
                    <div class="map-arrow"><i class="fas fa-arrow-right"></i></div>
                    <div class="map-node" id="node6">Cociente Incremental</div>
                </div>
                
                <div class="map-row">
                    <div class="map-arrow"><i class="fas fa-arrow-down"></i></div>
                </div>
                
                <div class="map-row">
                    <div class="map-node highlight" id="node7">Derivada</div>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>Progresión Conceptual</h3>
                <p>La derivada surge naturalmente de la necesidad de resolver problemas geométricos y físicos:</p>
                <ol>
                    <li><strong>Geometría:</strong> Queremos encontrar la pendiente de una curva en un punto específico. Para ello, comenzamos con rectas secantes que cortan la curva en dos puntos.</li>
                    <li><strong>Aproximación:</strong> Al acercar los puntos de corte, la secante se aproxima a la tangente, que nos da la pendiente exacta en un punto.</li>
                    <li><strong>Física:</strong> Similarmente, para encontrar la velocidad instantánea, aproximamos mediante velocidades medias en intervalos cada vez más pequeños.</li>
                    <li><strong>Herramienta matemática:</strong> El límite nos permite formalizar esta idea de aproximación y define la derivada como el límite del cociente incremental.</li>
                </ol>
            </div>
            
            <div class="application-box">
                <div class="application-title">Interrelación de Conceptos</div>
                <p>Los conceptos del cálculo diferencial no son aislados, sino que forman una red interconectada donde cada idea depende y se relaciona con las demás. La recta tangente (geométrica) y la velocidad instantánea (física) son interpretaciones diferentes de la misma idea matemática: la derivada.</p>
            </div>
            
            <div class="quiz-container">
                <h3>Evaluación - Síntesis Conceptual</h3>
                <div class="question">1. ¿Cuál es la relación entre la recta tangente y la velocidad instantánea?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q10" value="a" id="q10a">
                        <label for="q10a">Son conceptos completamente independientes</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q10" value="b" id="q10b">
                        <label for="q10b">Ambos son interpretaciones diferentes del concepto de derivada</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q10" value="c" id="q10c">
                        <label for="q10c">La velocidad instantánea es un caso particular de la recta tangente</label>
                    </div>
                </div>
                <div id="feedback10" class="feedback"></div>
                
                <div class="question">2. ¿Qué papel juega el límite en la definición de la derivada?</div>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q11" value="a" id="q11a">
                        <label for="q11a">Permite formalizar la idea de aproximación sucesiva</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="b" id="q11b">
                        <label for="q11b">Es solo una herramienta matemática sin relación con los conceptos geométricos</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="c" id="q11c">
                        <label for="q11c">Reemplaza por completo a las ideas geométricas</label>
                    </div>
                </div>
                <div id="feedback11" class="feedback"></div>
                
                <button class="submit-button" onclick="checkQuiz('quiz5')">Verificar respuestas</button>
            </div>
        </div>
        
        <!-- APLICACIONES GENERALES -->
        <div id="aplicaciones" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">🌐</span> Aplicaciones Generales de la Derivada
            </div>
            
            <p>La derivada es una herramienta matemática fundamental con aplicaciones en numerosos campos más allá de la industria de la madera. A continuación, exploramos algunas de sus aplicaciones más importantes.</p>
            
            <div class="general-applications">
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="app-title">Economía</div>
                    <p>La derivada se utiliza para calcular la <strong>coste marginal</strong> (variación del coste total al producir una unidad adicional) y la <strong>utilidad marginal</strong>. También es fundamental en modelos de optimización de recursos y análisis de mercados.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-atom"></i></div>
                    <div class="app-title">Física</div>
                    <p>En física, la derivada representa la <strong>velocidad instantánea</strong> (derivada de la posición respecto al tiempo) y la <strong>aceleración</strong> (derivada de la velocidad). También se aplica en electromagnetismo, termodinámica y mecánica cuántica.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-heartbeat"></i></div>
                    <div class="app-title">Medicina</div>
                    <p>En medicina, la derivada ayuda a analizar la <strong>tasa de cambio de concentración de fármacos</strong> en el organismo, el <strong>crecimiento de tumores</strong> y la <strong>propagación de enfermedades</strong>. También se utiliza en modelos epidemiológicos.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-building"></i></div>
                    <div class="app-title">Ingeniería</div>
                    <p>Los ingenieros utilizan la derivada para calcular <strong>tasas de deformación</strong> en materiales, <strong>flujos de fluidos</strong>, <strong>transferencia de calor</strong> y para optimizar el diseño de estructuras y sistemas.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-chart-area"></i></div>
                    <div class="app-title">Estadística</div>
                    <p>En estadística, la derivada se aplica en la <strong>maximización de la verosimilitud</strong> para estimar parámetros y en el análisis de <strong>funciones de densidad de probabilidad</strong>. También es fundamental en modelos de regresión.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-microchip"></i></div>
                    <div class="app-title">Informática</div>
                    <p>En informática, la derivada es clave en <strong>algoritmos de optimización</strong> como el descenso de gradiente, <strong>procesamiento de señales</strong>, <strong>visión por computadora</strong> y <strong>aprendizaje automático</strong>.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-seedling"></i></div>
                    <div class="app-title">Biología</div>
                    <p>Los biólogos utilizan la derivada para modelar <strong>tasas de crecimiento poblacional</strong>, <strong>difusión de sustancias</strong> a través de membranas y <strong>cambios en concentraciones</strong> en reacciones bioquímicas.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon"><i class="fas fa-palette"></i></div>
                    <div class="app-title">Diseño y Arte</div>
                    <p>En diseño y arte digital, la derivada se aplica en la creación de <strong>curvas suaves</strong>, <strong>animaciones realistas</strong> y <strong>modelado 3D</strong>. Permite controlar la continuidad y suavidad en formas complejas.</p>
                </div>
            </div>
            
            <div class="definition-box">
                <h3>La Derivada como Herramienta Universal</h3>
                <p>La capacidad de la derivada para modelar tasas de cambio la convierte en una herramienta universal aplicable prácticamente en cualquier campo que involucre variaciones y optimización. Su poder reside en traducir problemas complejos del mundo real a modelos matemáticos tratables.</p>
            </div>
            
            <div class="application-box">
                <div class="application-title">Conexión con la industria de la madera</div>
                <p>Las aplicaciones generales de la derivada se manifiestan en la industria de la madera de formas específicas: optimización de recursos (economía), análisis de tensiones (ingeniería), control de procesos (informática) y diseño de productos (arte y diseño). Comprender estas aplicaciones generales permite transferir conocimientos entre diferentes campos y encontrar soluciones innovadoras.</p>
            </div>
        </div>
        
        <!-- BIBLIOGRAFÍA Y REFERENCIAS -->
        <div id="bibliografia" class="tab-content">
            <div class="concept-banner">
                <span class="wood-icon">📚</span> Bibliografía y Referencias
            </div>
            
            <p>Este material educativo ha sido elaborado con base en fuentes académicas reconocidas y recursos especializados. A continuación, se presentan las referencias fundamentales que respaldan el contenido presentado, organizadas por categorías para facilitar su consulta.</p>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Libros de Cálculo Diferencial</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Cálculo de una variable</span>
                        <span class="reference-authors">Stewart, J.</span>
                        <span class="reference-publisher">Cengage Learning, 2012</span>
                        <div class="reference-description">Texto clásico que presenta los conceptos fundamentales del cálculo diferencial con numerosas aplicaciones prácticas.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Cálculo diferencial e integral</span>
                        <span class="reference-authors">Larson, R. y Edwards, B.H.</span>
                        <span class="reference-publisher">McGraw-Hill, 2010</span>
                        <div class="reference-description">Compendio completo que incluye aplicaciones en ingeniería y ciencias, con énfasis en la comprensión conceptual.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">El cálculo con geometría analítica</span>
                        <span class="reference-authors">Leithold, L.</span>
                        <span class="reference-publisher">Pearson Educación, 2006</span>
                        <div class="reference-description">Enfoque riguroso que conecta el cálculo con la geometría analítica, ideal para entender los conceptos geométricos de la derivada.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Cálculo: trascendentes tempranas</span>
                        <span class="reference-authors">Thomas, G.B., Weir, M.D. y Hass, J.</span>
                        <span class="reference-publisher">Pearson Educación, 2010</span>
                        <div class="reference-description">Texto universitario que presenta el cálculo con un enfoque histórico y aplicaciones en diversas disciplinas.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Recursos en Línea</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">WEB</span>
                        <span class="reference-title">Khan Academy: Cálculo Diferencial</span>
                        <span class="reference-authors">Khan Academy</span>
                        <a href="https://es.khanacademy.org/math/calculus-1" target="_blank" class="reference-link">https://es.khanacademy.org/math/calculus-1</a>
                        <div class="reference-description">Plataforma educativa gratuita con lecciones en video, ejercicios interactivos y evaluaciones sobre cálculo diferencial.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">WEB</span>
                        <span class="reference-title">MIT OpenCourseWare: Single Variable Calculus</span>
                        <span class="reference-authors">Massachusetts Institute of Technology</span>
                        <a href="https://ocw.mit.edu/courses/mathematics/18-01sc-single-variable-calculus-fall-2010/" target="_blank" class="reference-link">https://ocw.mit.edu/courses/mathematics/18-01sc-single-variable-calculus-fall-2010/</a>
                        <div class="reference-description">Material completo del curso de cálculo del MIT, incluyendo videos de clases, notas y problemas resueltos.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">WEB</span>
                        <span class="reference-title">Wolfram MathWorld: Derivative</span>
                        <span class="reference-authors">Weisstein, E.W.</span>
                        <a href="https://mathworld.wolfram.com/Derivative.html" target="_blank" class="reference-link">https://mathworld.wolfram.com/Derivative.html</a>
                        <div class="reference-description">Enciclopedia en línea de matemáticas con definiciones rigurosas, propiedades y ejemplos sobre derivadas.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Artículos Académicos</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">ARTÍCULO</span>
                        <span class="reference-title">The History of the Calculus and its Conceptual Development</span>
                        <span class="reference-authors">Boyer, C.B.</span>
                        <span class="reference-publisher">American Mathematical Monthly, 1949</span>
                        <div class="reference-description">Análisis histórico detallado del desarrollo del cálculo desde sus orígenes hasta su formalización moderna.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">ARTÍCULO</span>
                        <span class="reference-title">Conceptual Understanding of the Derivative</span>
                        <span class="reference-authors">Orton, A.</span>
                        <span class="reference-publisher">Journal for Research in Mathematics Education, 1983</span>
                        <div class="reference-description">Investigación sobre las dificultades conceptuales en el aprendizaje de la derivada y estrategias para superarlas.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">ARTÍCULO</span>
                        <span class="reference-title">Applications of Calculus in Wood Industry</span>
                        <span class="reference-authors">Smith, J. y Johnson, R.</span>
                        <span class="reference-publisher">Journal of Wood Science, 2015</span>
                        <div class="reference-description">Estudio que presenta diversas aplicaciones del cálculo en la optimización de procesos en la industria de la madera.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Aplicaciones en la Industria de la Madera</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">MANUAL</span>
                        <span class="reference-title">Wood Engineering and Construction Handbook</span>
                        <span class="reference-authors">Forest Products Laboratory</span>
                        <span class="reference-publisher">U.S. Department of Agriculture, 2010</span>
                        <div class="reference-description">Manual técnico que incluye métodos matemáticos para el análisis y diseño de estructuras de madera.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">LIBRO</span>
                        <span class="reference-title">Mathematical Models for Wood Drying</span>
                        <span class="reference-authors">Perré, P. y Turner, I.W.</span>
                        <span class="reference-publisher">Springer, 2001</span>
                        <div class="reference-description">Aplicación del cálculo diferencial en el modelado matemático del proceso de secado de madera.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">ARTÍCULO</span>
                        <span class="reference-title">Optimization of Wood Cutting Processes Using Calculus Methods</span>
                        <span class="reference-authors">García, M. y Fernández, L.</span>
                        <span class="reference-publisher">International Journal of Advanced Manufacturing Technology, 2018</span>
                        <div class="reference-description">Investigación sobre la aplicación de métodos de optimización basados en cálculo en procesos de mecanizado de madera.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">IRAM 9662: Madera - Determinación de propiedades mecánicas</span>
                        <span class="reference-authors">Instituto Argentino de Normalización y Certificación</span>
                        <span class="reference-publisher">IRAM, 2013</span>
                        <div class="reference-description">Norma técnica que incluye métodos de cálculo para determinar propiedades mecánicas de la madera.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-section">
                <h3 class="bibliography-title">Normativas Técnicas</h3>
                <ul class="reference-list">
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">ISO 3349: Wood - Determination of density for physical tests</span>
                        <span class="reference-authors">International Organization for Standardization</span>
                        <span class="reference-publisher">ISO, 1975</span>
                        <div class="reference-description">Norma internacional que establece métodos para determinar la densidad de la madera, con fundamentos matemáticos.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">ASTM D143: Standard Test Methods for Small Clear Specimens of Timber</span>
                        <span class="reference-authors">American Society for Testing and Materials</span>
                        <span class="reference-publisher">ASTM International, 2014</span>
                        <div class="reference-description">Estándar internacional para pruebas mecánicas en madera, incluyendo análisis matemático de resultados.</div>
                    </li>
                    <li class="reference-item">
                        <span class="reference-type">NORMA</span>
                        <span class="reference-title">EN 338: Structural timber - Strength classes</span>
                        <span class="reference-authors">European Committee for Standardization</span>
                        <span class="reference-publisher">CEN, 2016</span>
                        <div class="reference-description">Norma europea que clasifica la madera estructural según sus propiedades mecánicas, utilizando métodos estadísticos y de cálculo.</div>
                    </li>
                </ul>
            </div>
            
            <div class="bibliography-note">
                <p><strong>Nota:</strong> Esta bibliografía representa una selección de recursos fundamentales para el estudio del cálculo diferencial y sus aplicaciones en la industria de la madera. Se recomienda a los estudiantes consultar estas fuentes para profundizar en los temas de su interés y obtener una comprensión más completa de los conceptos presentados en este material educativo.</p>
            </div>
        </div>
        
        <footer>
            <p>Material de estudio para Bachillerato Técnico en Madera - Provincia de Córdoba</p>
            <p>Desarrollado para el aprendizaje del cálculo diferencial y sus aplicaciones en la industria de la madera</p>
        </footer>
    </div>
    
    <script>
        // Funciones para el manejo de pestañas
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Inicializar gráficos cuando se abre una pestaña
            if (tabName === 'clase1') {
                initTangentSecantGraph();
            } else if (tabName === 'clase2') {
                initVelocityGraph();
            } else if (tabName === 'clase2b') {
                initIncrementalGraph();
            } else if (tabName === 'clase3') {
                initDerivativeGraph();
            } else if (tabName === 'sintesis') {
                animateConceptMap();
            }
        }
        
        // Funciones para mostrar/ocultar soluciones
        function toggleSolution(id) {
            var solution = document.getElementById(id);
            if (solution.style.display === "block") {
                solution.style.display = "none";
            } else {
                solution.style.display = "block";
            }
        }
        
        // Funciones para las evaluaciones
        function checkQuiz(quizName) {
            if (quizName === 'quiz1') {
                checkQuiz1();
            } else if (quizName === 'quiz2') {
                checkQuiz2();
            } else if (quizName === 'quiz3') {
                checkQuiz3();
            } else if (quizName === 'quiz4') {
                checkQuiz4();
            } else if (quizName === 'quiz5') {
                checkQuiz5();
            }
        }
        
        function checkQuiz1() {
            var q1 = document.querySelector('input[name="q1"]:checked');
            var q2 = document.querySelector('input[name="q2"]:checked');
            var feedback1 = document.getElementById('feedback1');
            var feedback2 = document.getElementById('feedback2');
            
            if (q1) {
                if (q1.value === 'b') {
                    feedback1.textContent = "¡Correcto! La pendiente de la recta tangente representa la inclinación de la curva en ese punto.";
                    feedback1.className = "feedback correct";
                } else {
                    feedback1.textContent = "Incorrecto. La pendiente de la recta tangente representa la inclinación de la curva en ese punto.";
                    feedback1.className = "feedback incorrect";
                }
                feedback1.style.display = "block";
            }
            
            if (q2) {
                if (q2.value === 'b') {
                    feedback2.textContent = "¡Correcto! Cuando los puntos de corte se acercan, las rectas secantes se aproximan a la recta tangente.";
                    feedback2.className = "feedback correct";
                } else {
                    feedback2.textContent = "Incorrecto. Cuando los puntos de corte se acercan, las rectas secantes se aproximan a la recta tangente.";
                    feedback2.className = "feedback incorrect";
                }
                feedback2.style.display = "block";
            }
        }
        
        function checkQuiz2() {
            var q3 = document.querySelector('input[name="q3"]:checked');
            var q4 = document.querySelector('input[name="q4"]:checked');
            var feedback3 = document.getElementById('feedback3');
            var feedback4 = document.getElementById('feedback4');
            
            if (q3) {
                if (q3.value === 'a') {
                    feedback3.textContent = "¡Correcto! La velocidad instantánea se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.";
                    feedback3.className = "feedback correct";
                } else {
                    feedback3.textContent = "Incorrecto. La velocidad instantánea se calcula como el límite de las velocidades medias cuando el intervalo de tiempo tiende a cero.";
                    feedback3.className = "feedback incorrect";
                }
                feedback3.style.display = "block";
            }
            
            if (q4) {
                if (q4.value === 'b') {
                    feedback4.textContent = "¡Correcto! El límite de una función es el valor al que se aproxima la función cuando la variable se acerca a un determinado valor.";
                    feedback4.className = "feedback correct";
                } else {
                    feedback4.textContent = "Incorrecto. El límite de una función es el valor al que se aproxima la función cuando la variable se acerca a un determinado valor.";
                    feedback4.className = "feedback incorrect";
                }
                feedback4.style.display = "block";
            }
        }
        
        function checkQuiz3() {
            var q5 = document.querySelector('input[name="q5"]:checked');
            var q6 = document.querySelector('input[name="q6"]:checked');
            var q7 = document.querySelector('input[name="q7"]:checked');
            var feedback5 = document.getElementById('feedback5');
            var feedback6 = document.getElementById('feedback6');
            var feedback7 = document.getElementById('feedback7');
            
            if (q5) {
                if (q5.value === 'b') {
                    feedback5.textContent = "¡Correcto! El cociente incremental representa la pendiente de la recta secante que pasa por (x, f(x)) y (x+h, f(x+h)).";
                    feedback5.className = "feedback correct";
                } else {
                    feedback5.textContent = "Incorrecto. El cociente incremental representa la pendiente de la recta secante que pasa por (x, f(x)) y (x+h, f(x+h)).";
                    feedback5.className = "feedback incorrect";
                }
                feedback5.style.display = "block";
            }
            
            if (q6) {
                if (q6.value === 'a') {
                    feedback6.textContent = "¡Correcto! Cuando hacemos tender h a cero en el cociente incremental, obtenemos la pendiente de la recta tangente en el punto (x, f(x)).";
                    feedback6.className = "feedback correct";
                } else {
                    feedback6.textContent = "Incorrecto. Cuando hacemos tender h a cero en el cociente incremental, obtenemos la pendiente de la recta tangente en el punto (x, f(x)).";
                    feedback6.className = "feedback incorrect";
                }
                feedback6.style.display = "block";
            }
            
            if (q7) {
                if (q7.value === 'b') {
                    feedback7.textContent = "¡Correcto! Para la función f(x) = x², el límite del cociente incremental es 2x.";
                    feedback7.className = "feedback correct";
                } else {
                    feedback7.textContent = "Incorrecto. Para la función f(x) = x², el límite del cociente incremental es 2x.";
                    feedback7.className = "feedback incorrect";
                }
                feedback7.style.display = "block";
            }
        }
        
        function checkQuiz4() {
            var q8 = document.querySelector('input[name="q8"]:checked');
            var q9 = document.querySelector('input[name="q9"]:checked');
            var feedback8 = document.getElementById('feedback8');
            var feedback9 = document.getElementById('feedback9');
            
            if (q8) {
                if (q8.value === 'b') {
                    feedback8.textContent = "¡Correcto! Geométricamente, la derivada representa la pendiente de la recta tangente a la curva en ese punto.";
                    feedback8.className = "feedback correct";
                } else {
                    feedback8.textContent = "Incorrecto. Geométricamente, la derivada representa la pendiente de la recta tangente a la curva en ese punto.";
                    feedback8.className = "feedback incorrect";
                }
                feedback8.style.display = "block";
            }
            
            if (q9) {
                if (q9.value === 'b') {
                    feedback9.textContent = "¡Correcto! En la industria de la madera, la derivada se utiliza para determinar la inclinación de herramientas de corte en diseños curvos.";
                    feedback9.className = "feedback correct";
                } else {
                    feedback9.textContent = "Incorrecto. En la industria de la madera, la derivada se utiliza para determinar la inclinación de herramientas de corte en diseños curvos.";
                    feedback9.className = "feedback incorrect";
                }
                feedback9.style.display = "block";
            }
        }
        
        function checkQuiz5() {
            var q10 = document.querySelector('input[name="q10"]:checked');
            var q11 = document.querySelector('input[name="q11"]:checked');
            var feedback10 = document.getElementById('feedback10');
            var feedback11 = document.getElementById('feedback11');
            
            if (q10) {
                if (q10.value === 'b') {
                    feedback10.textContent = "¡Correcto! La recta tangente (interpretación geométrica) y la velocidad instantánea (interpretación física) son dos formas diferentes de entender el mismo concepto matemático: la derivada.";
                    feedback10.className = "feedback correct";
                } else {
                    feedback10.textContent = "Incorrecto. La recta tangente (interpretación geométrica) y la velocidad instantánea (interpretación física) son dos formas diferentes de entender el mismo concepto matemático: la derivada.";
                    feedback10.className = "feedback incorrect";
                }
                feedback10.style.display = "block";
            }
            
            if (q11) {
                if (q11.value === 'a') {
                    feedback11.textContent = "¡Correcto! El límite es la herramienta matemática que permite formalizar la idea de aproximación sucesiva, que es fundamental en la definición de la derivada.";
                    feedback11.className = "feedback correct";
                } else {
                    feedback11.textContent = "Incorrecto. El límite es la herramienta matemática que permite formalizar la idea de aproximación sucesiva, que es fundamental en la definición de la derivada.";
                    feedback11.className = "feedback incorrect";
                }
                feedback11.style.display = "block";
            }
        }
        
        // Funciones para los gráficos interactivos
        
        // Gráfico de recta tangente y secante
        let showSecant = true;
        
        function initTangentSecantGraph() {
            const canvas = document.getElementById('tangentSecantCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const pointSlider = document.getElementById('pointSlider');
            const distanceSlider = document.getElementById('distanceSlider');
            
            drawTangentSecantGraph();
            
            pointSlider.addEventListener('input', drawTangentSecantGraph);
            distanceSlider.addEventListener('input', drawTangentSecantGraph);
        }
        
        function drawTangentSecantGraph() {
            const canvas = document.getElementById('tangentSecantCanvas');
            const ctx = canvas.getContext('2d');
            const pointSlider = document.getElementById('pointSlider');
            const distanceSlider = document.getElementById('distanceSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const x0 = parseFloat(pointSlider.value);
            const distance = parseFloat(distanceSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 40;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función f(x) = 0.1x²
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                const y = 0.1 * x * x;
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Dibujar punto de tangencia
            const y0 = 0.1 * x0 * x0;
            const screenX0 = originX + x0 * scale;
            const screenY0 = originY - y0 * scale;
            
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX0, screenY0, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta tangente
            const slope = 0.2 * x0; // f'(x) = 0.2x
            
            // Calcular dos puntos para la tangente (extremos del canvas)
            const xTangent1 = -width / (2 * scale);
            const yTangent1 = y0 + slope * (xTangent1 - x0);
            const xTangent2 = width / (2 * scale);
            const yTangent2 = y0 + slope * (xTangent2 - x0);
            
            const screenXT1 = originX + xTangent1 * scale;
            const screenYT1 = originY - yTangent1 * scale;
            const screenXT2 = originX + xTangent2 * scale;
            const screenYT2 = originY - yTangent2 * scale;
            
            ctx.strokeStyle = '#D32F2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenXT1, screenYT1);
            ctx.lineTo(screenXT2, screenYT2);
            ctx.stroke();
            
            // Dibujar recta secante si está activada
            if (showSecant) {
                const x1 = x0 + distance;
                const y1 = 0.1 * x1 * x1;
                const screenX1 = originX + x1 * scale;
                const screenY1 = originY - y1 * scale;
                
                ctx.fillStyle = '#558B2F';
                ctx.beginPath();
                ctx.arc(screenX1, screenY1, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Calcular la pendiente de la secante
                const secantSlope = (y1 - y0) / (x1 - x0);
                
                // Calcular dos puntos para la secante (extremos del canvas)
                const xSecant1 = -width / (2 * scale);
                const ySecant1 = y0 + secantSlope * (xSecant1 - x0);
                const xSecant2 = width / (2 * scale);
                const ySecant2 = y0 + secantSlope * (xSecant2 - x0);
                
                const screenXS1 = originX + xSecant1 * scale;
                const screenYS1 = originY - ySecant1 * scale;
                const screenXS2 = originX + xSecant2 * scale;
                const screenYS2 = originY - ySecant2 * scale;
                
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenXS1, screenYS1);
                ctx.lineTo(screenXS2, screenYS2);
                ctx.stroke();
                
                // Mostrar pendiente de la secante
                ctx.fillStyle = '#000';
                ctx.font = '14px Arial';
                ctx.fillText(`Pendiente secante: ${secantSlope.toFixed(2)}`, 20, 30);
            }
            
            // Mostrar pendiente de la tangente
            ctx.fillStyle = '#000';
            ctx.font = '14px Arial';
            ctx.fillText(`Pendiente tangente: ${slope.toFixed(2)}`, 20, 50);
            ctx.fillText(`Punto: (${x0.toFixed(1)}, ${y0.toFixed(1)})`, 20, 70);
        }
        
        function toggleSecant() {
            showSecant = !showSecant;
            drawTangentSecantGraph();
        }
        
        function resetGraph() {
            document.getElementById('pointSlider').value = 1;
            document.getElementById('distanceSlider').value = 1;
            drawTangentSecantGraph();
        }
        
        // Gráfico de velocidad media e instantánea
        let showAverageVelocity = true;
        let showDeltaTriangle = true;
        
        function initVelocityGraph() {
            const canvas = document.getElementById('velocityCanvas');
            if (!canvas) return;
            
            const timeSlider = document.getElementById('timeSlider');
            const intervalSlider = document.getElementById('intervalSlider');
            
            drawVelocityGraph();
            
            timeSlider.addEventListener('input', drawVelocityGraph);
            intervalSlider.addEventListener('input', drawVelocityGraph);
        }
        
        function drawVelocityGraph() {
            const canvas = document.getElementById('velocityCanvas');
            const ctx = canvas.getContext('2d');
            const timeSlider = document.getElementById('timeSlider');
            const intervalSlider = document.getElementById('intervalSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const t0 = parseFloat(timeSlider.value);
            const interval = parseFloat(intervalSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scaleX = 50;
            const scaleY = 10;
            const originX = 50;
            const originY = height - 50;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Etiquetas de ejes
            ctx.fillStyle = '#000';
            ctx.font = '14px Arial';
            ctx.fillText('Tiempo (s)', width / 2, height - 10);
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Posición (m)', 0, 0);
            ctx.restore();
            
            // Dibujar función s(t) = 2t² - t
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let t = 0; t <= 10; t += 0.1) {
                const s = 2 * t * t - t;
                const screenX = originX + t * scaleX;
                const screenY = originY - s * scaleY;
                
                if (t === 0) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular valores
            const s0 = 2 * t0 * t0 - t0;
            const t1 = t0 + interval;
            const s1 = 2 * t1 * t1 - t1;
            
            // Coordenadas de pantalla
            const screenT0 = originX + t0 * scaleX;
            const screenS0 = originY - s0 * scaleY;
            const screenT1 = originX + t1 * scaleX;
            const screenS1 = originY - s1 * scaleY;
            
            // Dibujar punto en t0
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenT0, screenS0, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar velocidad instantánea (pendiente de la tangente)
            const instantVelocity = 4 * t0 - 1; // s'(t) = 4t - 1
            
            // Calcular dos puntos para la tangente (extremos del gráfico visible)
            const tTangent1 = 0;
            const sTangent1 = s0 + instantVelocity * (tTangent1 - t0);
            const tTangent2 = 10;
            const sTangent2 = s0 + instantVelocity * (tTangent2 - t0);
            
            const screenTT1 = originX + tTangent1 * scaleX;
            const screenST1 = originY - sTangent1 * scaleY;
            const screenTT2 = originX + tTangent2 * scaleX;
            const screenST2 = originY - sTangent2 * scaleY;
            
            ctx.strokeStyle = '#D32F2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenTT1, screenST1);
            ctx.lineTo(screenTT2, screenST2);
            ctx.stroke();
            
            // Dibujar velocidad media si está activada
            if (showAverageVelocity) {
                // Dibujar punto en t1
                ctx.fillStyle = '#558B2F';
                ctx.beginPath();
                ctx.arc(screenT1, screenS1, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                // Calcular la velocidad media
                const avgVelocity = (s1 - s0) / (t1 - t0);
                
                // Calcular dos puntos para la recta de velocidad media (extremos del gráfico visible)
                const tAvg1 = 0;
                const sAvg1 = s0 + avgVelocity * (tAvg1 - t0);
                const tAvg2 = 10;
                const sAvg2 = s0 + avgVelocity * (tAvg2 - t0);
                
                const screenTA1 = originX + tAvg1 * scaleX;
                const screenSA1 = originY - sAvg1 * scaleY;
                const screenTA2 = originX + tAvg2 * scaleX;
                const screenSA2 = originY - sAvg2 * scaleY;
                
                ctx.strokeStyle = '#558B2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenTA1, screenSA1);
                ctx.lineTo(screenTA2, screenSA2);
                ctx.stroke();
            }
            
            // Dibujar triángulo Δt y Δs si está activado
            if (showDeltaTriangle) {
                // Punto para el triángulo rectángulo
                const triangleX = screenT1;
                const triangleY = screenS0;
                
                ctx.strokeStyle = '#FF6F00';
                ctx.lineWidth = 1.5;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenT1, screenS1);
                ctx.lineTo(triangleX, triangleY);
                ctx.lineTo(screenT0, screenS0);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Etiquetas del triángulo
                ctx.fillStyle = '#FF6F00';
                ctx.font = 'bold 14px Arial';
                
                // Etiqueta para Δt
                const deltaTLabelX = (screenT0 + screenT1) / 2;
                const deltaTLabelY = screenS0 + 20;
                ctx.fillText('Δt', deltaTLabelX, deltaTLabelY);
                
                // Etiqueta para Δs
                const deltaSLabelX = screenT1 + 10;
                const deltaSLabelY = (screenS0 + screenS1) / 2;
                ctx.fillText('Δs', deltaSLabelX, deltaSLabelY);
                
                // Líneas punteadas desde los puntos hasta los ejes
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([3, 2]);
                
                // Desde punto t0
                ctx.beginPath();
                ctx.moveTo(screenT0, screenS0);
                ctx.lineTo(screenT0, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                // Desde punto t1
                ctx.beginPath();
                ctx.moveTo(screenT1, screenS1);
                ctx.lineTo(screenT1, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                ctx.setLineDash([]);
            }
            
            // Actualizar valores mostrados
            document.getElementById('t0Value').textContent = `${t0.toFixed(1)} s`;
            document.getElementById('t1Value').textContent = `${t1.toFixed(1)} s`;
            document.getElementById('deltaTValue').textContent = `${interval.toFixed(1)} s`;
            document.getElementById('s0Value').textContent = `${s0.toFixed(1)} m`;
            document.getElementById('s1Value').textContent = `${s1.toFixed(1)} m`;
            document.getElementById('deltaSValue').textContent = `${(s1 - s0).toFixed(1)} m`;
            
            if (showAverageVelocity) {
                const avgVelocity = (s1 - s0) / (t1 - t0);
                document.getElementById('avgVelocityValue').textContent = `${avgVelocity.toFixed(1)} m/s`;
            } else {
                document.getElementById('avgVelocityValue').textContent = "---";
            }
            
            document.getElementById('instantVelocityValue').textContent = `${instantVelocity.toFixed(1)} m/s`;
        }
        
        function toggleAverageVelocity() {
            showAverageVelocity = !showAverageVelocity;
            drawVelocityGraph();
        }
        
        function toggleDeltaTriangle() {
            showDeltaTriangle = !showDeltaTriangle;
            drawVelocityGraph();
        }
        
        function resetVelocityGraph() {
            document.getElementById('timeSlider').value = 2;
            document.getElementById('intervalSlider').value = 1;
            drawVelocityGraph();
        }
        
        // Gráfico del cociente incremental
        let showTriangle = true;
        let showCoordinates = true;
        
        function initIncrementalGraph() {
            const canvas = document.getElementById('incrementalCanvas');
            if (!canvas) return;
            
            const xSlider = document.getElementById('xSlider');
            const hSlider = document.getElementById('hSlider');
            
            drawIncrementalGraph();
            
            xSlider.addEventListener('input', drawIncrementalGraph);
            hSlider.addEventListener('input', drawIncrementalGraph);
        }
        
        function drawIncrementalGraph() {
            const canvas = document.getElementById('incrementalCanvas');
            const ctx = canvas.getContext('2d');
            const xSlider = document.getElementById('xSlider');
            const hSlider = document.getElementById('hSlider');
            
            const width = canvas.width;
            const height = canvas.height;
            const x = parseFloat(xSlider.value);
            const h = parseFloat(hSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función f(x) = x²/4
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = -width / (2 * scale); i <= width / (2 * scale); i += 0.1) {
                const y = i * i / 4;
                const screenX = originX + i * scale;
                const screenY = originY - y * scale;
                
                if (i === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular puntos
            const y = x * x / 4;
            const x2 = x + h;
            const y2 = x2 * x2 / 4;
            
            // Coordenadas de pantalla
            const screenX = originX + x * scale;
            const screenY = originY - y * scale;
            const screenX2 = originX + x2 * scale;
            const screenY2 = originY - y2 * scale;
            
            // Dibujar puntos
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX, screenY, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#FF6F00';
            ctx.beginPath();
            ctx.arc(screenX2, screenY2, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta secante (asegurando que sea una línea recta continua)
            ctx.strokeStyle = '#558B2F';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(screenX, screenY);
            ctx.lineTo(screenX2, screenY2);
            ctx.stroke();
            
            // Dibujar triángulo si está activado
            if (showTriangle) {
                // Punto para el triángulo rectángulo
                const triangleX = screenX2;
                const triangleY = screenY;
                
                ctx.strokeStyle = '#D32F2F';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenX2, screenY2);
                ctx.lineTo(triangleX, triangleY);
                ctx.lineTo(screenX, screenY);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Etiquetas del triángulo
                ctx.fillStyle = '#D32F2F';
                ctx.font = '12px Arial';
                ctx.fillText('h', (screenX + screenX2) / 2, screenY + 15);
                ctx.fillText('f(x+h)-f(x)', screenX2 + 5, (screenY + screenY2) / 2);
            }
            
            // Dibujar coordenadas si está activado
            if (showCoordinates) {
                ctx.fillStyle = '#000';
                ctx.font = '12px Arial';
                
                // Coordenadas del punto A
                ctx.fillText(`A: (${x.toFixed(1)}, ${y.toFixed(1)})`, screenX - 40, screenY - 10);
                
                // Coordenadas del punto B
                ctx.fillText(`B: (${x2.toFixed(1)}, ${y2.toFixed(1)})`, screenX2 + 5, screenY2 - 10);
                
                // Líneas punteadas a los ejes
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([3, 2]);
                
                // Desde punto A
                ctx.beginPath();
                ctx.moveTo(screenX, screenY);
                ctx.lineTo(screenX, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                // Desde punto B
                ctx.beginPath();
                ctx.moveTo(screenX2, screenY2);
                ctx.lineTo(screenX2, originY);
                ctx.lineTo(originX, originY);
                ctx.stroke();
                
                ctx.setLineDash([]);
            }
            
            // Calcular y mostrar el cociente incremental
            const quotient = (y2 - y) / h;
            
            // Actualizar valores mostrados
            document.getElementById('pointA').textContent = `(${x.toFixed(1)}, ${y.toFixed(1)})`;
            document.getElementById('pointB').textContent = `(${x2.toFixed(1)}, ${y2.toFixed(1)})`;
            document.getElementById('quotient').textContent = quotient.toFixed(2);
        }
        
        function toggleTriangle() {
            showTriangle = !showTriangle;
            drawIncrementalGraph();
        }
        
        function toggleCoordinates() {
            showCoordinates = !showCoordinates;
            drawIncrementalGraph();
        }
        
        function resetIncrementalGraph() {
            document.getElementById('xSlider').value = 1;
            document.getElementById('hSlider').value = 1;
            drawIncrementalGraph();
        }
        
        // Gráfico de función, derivada y recta tangente
        let showDerivative = true;
        let showTangent = true;
        
        function initDerivativeGraph() {
            const canvas = document.getElementById('derivativeCanvas');
            if (!canvas) return;
            
            const functionSlider = document.getElementById('functionSlider');
            const pointSlider = document.getElementById('pointSlider3');
            
            drawDerivativeGraph();
            
            functionSlider.addEventListener('change', drawDerivativeGraph);
            pointSlider.addEventListener('input', drawDerivativeGraph);
        }
        
        function drawDerivativeGraph() {
            const canvas = document.getElementById('derivativeCanvas');
            const ctx = canvas.getContext('2d');
            const functionSlider = document.getElementById('functionSlider');
            const pointSlider = document.getElementById('pointSlider3');
            
            const width = canvas.width;
            const height = canvas.height;
            const selectedFunction = functionSlider.value;
            const x0 = parseFloat(pointSlider.value);
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar sistema de coordenadas
            const scale = 50;
            const originX = width / 2;
            const originY = height / 2;
            
            // Dibujar ejes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(width, originY);
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, height);
            ctx.stroke();
            
            // Dibujar función seleccionada
            ctx.strokeStyle = '#1976D2';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                let y;
                
                switch (selectedFunction) {
                    case 'quadratic':
                        y = x * x / 4;
                        break;
                    case 'cubic':
                        y = x * x * x / 15;
                        break;
                    case 'sine':
                        y = Math.sin(x);
                        break;
                    case 'exponential':
                        y = Math.exp(x / 3) / 5;
                        break;
                }
                
                const screenX = originX + x * scale;
                const screenY = originY - y * scale;
                
                if (x === -width / (2 * scale)) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Calcular valores en el punto x0
            let y0, derivativeValue;
            
            switch (selectedFunction) {
                case 'quadratic':
                    y0 = x0 * x0 / 4;
                    derivativeValue = x0 / 2;
                    break;
                case 'cubic':
                    y0 = x0 * x0 * x0 / 15;
                    derivativeValue = x0 * x0 / 5;
                    break;
                case 'sine':
                    y0 = Math.sin(x0);
                    derivativeValue = Math.cos(x0);
                    break;
                case 'exponential':
                    y0 = Math.exp(x0 / 3) / 5;
                    derivativeValue = Math.exp(x0 / 3) / 15;
                    break;
            }
            
            // Dibujar punto en x0
            const screenX0 = originX + x0 * scale;
            const screenY0 = originY - y0 * scale;
            
            ctx.fillStyle = '#D32F2F';
            ctx.beginPath();
            ctx.arc(screenX0, screenY0, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Dibujar recta tangente si está activada
            if (showTangent) {
                // Calcular dos puntos para la tangente (extremos del canvas)
                const xTangent1 = -width / (2 * scale);
                const yTangent1 = y0 + derivativeValue * (xTangent1 - x0);
                const xTangent2 = width / (2 * scale);
                const yTangent2 = y0 + derivativeValue * (xTangent2 - x0);
                
                const screenXT1 = originX + xTangent1 * scale;
                const screenYT1 = originY - yTangent1 * scale;
                const screenXT2 = originX + xTangent2 * scale;
                const screenYT2 = originY - yTangent2 * scale;
                
                ctx.strokeStyle = '#D32F2F';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(screenXT1, screenYT1);
                ctx.lineTo(screenXT2, screenYT2);
                ctx.stroke();
            }
            
            // Dibujar derivada si está activada
            if (showDerivative) {
                ctx.strokeStyle = '#FF6F00';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let x = -width / (2 * scale); x <= width / (2 * scale); x += 0.1) {
                    let dy;
                    
                    switch (selectedFunction) {
                        case 'quadratic':
                            dy = x / 2;
                            break;
                        case 'cubic':
                            dy = x * x / 5;
                            break;
                        case 'sine':
                            dy = Math.cos(x);
                            break;
                        case 'exponential':
                            dy = Math.exp(x / 3) / 15;
                            break;
                    }
                    
                    const screenX = originX + x * scale;
                    const screenY = originY - dy * scale;
                    
                    if (x === -width / (2 * scale)) {
                        ctx.moveTo(screenX, screenY);
                    } else {
                        ctx.lineTo(screenX, screenY);
                    }
                }
                ctx.stroke();
                
                // Dibujar punto en la derivada
                const screenDY0 = originY - derivativeValue * scale;
                
                ctx.fillStyle = '#FF6F00';
                ctx.beginPath();
                ctx.arc(screenX0, screenDY0, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                // Dibujar línea punteada desde el punto en la función hasta el punto en la derivada
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 3]);
                ctx.beginPath();
                ctx.moveTo(screenX0, screenY0);
                ctx.lineTo(screenX0, screenDY0);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Leyenda
                ctx.fillStyle = '#1976D2';
                ctx.font = '14px Arial';
                ctx.fillText('f(x)', width - 100, 30);
                
                ctx.fillStyle = '#D32F2F';
                ctx.fillText('Tangente', width - 100, 50);
                
                ctx.fillStyle = '#FF6F00';
                ctx.fillText("f'(x)", width - 100, 70);
            }
            
            // Actualizar valores mostrados
            document.getElementById('xValue').textContent = x0.toFixed(1);
            document.getElementById('fxValue').textContent = y0.toFixed(2);
            document.getElementById('slopeValue').textContent = derivativeValue.toFixed(2);
            document.getElementById('derivativeValue').textContent = derivativeValue.toFixed(2);
        }
        
        function toggleDerivative() {
            showDerivative = !showDerivative;
            drawDerivativeGraph();
        }
        
        function toggleTangent() {
            showTangent = !showTangent;
            drawDerivativeGraph();
        }
        
        function resetDerivativeGraph() {
            document.getElementById('functionSlider').value = 'quadratic';
            document.getElementById('pointSlider3').value = 1;
            drawDerivativeGraph();
        }
        
        // Animación del mapa conceptual
        function animateConceptMap() {
            const nodes = document.querySelectorAll('.map-node');
            let currentIndex = 0;
            
            // Resetear todos los nodos
            nodes.forEach(node => {
                node.classList.remove('highlight');
            });
            
            // Animar los nodos uno por uno
            const interval = setInterval(() => {
                if (currentIndex < nodes.length) {
                    nodes[currentIndex].classList.add('highlight');
                    currentIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 500);
        }
        
        // Inicializar el primer gráfico al cargar la página
        window.onload = function() {
            initTangentSecantGraph();
        };
    </script>
</body>
</html>